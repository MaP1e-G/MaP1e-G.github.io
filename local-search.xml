<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>æ“ä½œç³»ç»ŸåŸç†â€”â€”è™šæ‹Ÿå­˜å‚¨ç®¡ç†å®éªŒ</title>
    <link href="/2022/04/29/page-store/"/>
    <url>/2022/04/29/page-store/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>æœ¬æ–‡ç« ç”¨åˆ°çš„è¯­è¨€ï¼šPython</p>          </div><h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1><p>å‰æ’æä¸ªé†’ï¼Œè¿™ä¸ªç¨‹åºæˆ‘è§‰å¾—è‡ªå·±å†™å¾—æŒºå¤æ‚çš„ï¼ˆå› ä¸ºæˆ‘æ‡’ç™ŒçŠ¯äº†ï¼Œæ²¡æœ‰æƒ³ç€ä¼˜åŒ–ï¼Œä¹Ÿæ²¡æœ‰æƒ³ç€è·Ÿé¢˜ç›®èµ°ï¼‰ï¼Œsoå¤§å®¶çœ‹çœ‹å°±å¥½ã€‚</p><h1 id="åŸç†"><a class="markdownIt-Anchor" href="#åŸç†"></a> åŸç†</h1><p>è€æ ·å­ç…§æ¬ï¼š</p><blockquote><p>çªç„¶å‘ç°è¿™æ¬¡æ²¡å¾—æ¬çš„æˆ‘be likeï¼š ğŸ˜¦</p></blockquote><h1 id="å®ç°"><a class="markdownIt-Anchor" href="#å®ç°"></a> å®ç°</h1><h2 id="ä¸€äº›ä¸€äº›ä¸€äº›å…¨å±€å˜é‡"><a class="markdownIt-Anchor" href="#ä¸€äº›ä¸€äº›ä¸€äº›å…¨å±€å˜é‡"></a> ä¸€äº›ä¸€äº›ä¸€äº›å…¨å±€å˜é‡</h2><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs python">input_queue = [<span class="hljs-number">7</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, ]  <span class="hljs-comment"># è¾“å…¥é˜Ÿåˆ—</span><br>a_queue = []  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>b_queue = []  <span class="hljs-comment"># åŒä¸Š</span><br>c_queue = []  <span class="hljs-comment"># åŒä¸Š</span><br>interrupt_queue = []  <span class="hljs-comment"># ä¸­æ–­é˜Ÿåˆ—ï¼Œä¿å­˜å‘ç”Ÿä¸­æ–­æ—¶å€™çš„ä½ç½®</span><br>page_queue = []  <span class="hljs-comment"># ä¿å­˜é¡µè¡¨ç±»å¯¹è±¡çš„é˜Ÿåˆ—</span><br>ram_queue = []  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—</span><br></code></pre></td></tr></table></figure><p>ï¼ˆå°å£°ï¼šå…¶å®æˆ‘ä¼šå¾ˆå¤§ç¨‹åº¦å†™å‡ºè¿™æ ·çš„ç¨‹åºæ˜¯é¢˜ç›®è¦æ±‚çš„è¾“å‡ºçš„é—®é¢˜ï¼ŒçœŸçš„</p><h2 id="ä¸€ç›´åˆ°æœ€åéƒ½æ²¡ä»€ä¹ˆç”¨çš„é¡µè¡¨ç±»"><a class="markdownIt-Anchor" href="#ä¸€ç›´åˆ°æœ€åéƒ½æ²¡ä»€ä¹ˆç”¨çš„é¡µè¡¨ç±»"></a> ä¸€ç›´åˆ°æœ€åéƒ½æ²¡ä»€ä¹ˆç”¨çš„é¡µè¡¨ç±»</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PageList</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;é¡µè¡¨ç±»&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, status, quote</span>):<br>        self.status = status  <span class="hljs-comment"># çŠ¶æ€</span><br>        self.quote = quote  <span class="hljs-comment"># å¼•ç”¨ä½</span><br></code></pre></td></tr></table></figure><p>çœŸçš„æ²¡ç”¨ã€‚çœŸçš„æ²¡ç”¨ã€‚çœŸçš„æ²¡ç”¨ã€‚ç›´æ¥å¾€ä¸‹çœ‹å§ã€‚æˆ‘ç”¨æ•°ç»„ä¸‹æ ‡å®Œæˆå·¥ä½œçš„ã€‚</p><h2 id="è·å–è¾“å…¥-æ‰“å°ç»“æœ-é‡ç½®å„é˜Ÿåˆ—"><a class="markdownIt-Anchor" href="#è·å–è¾“å…¥-æ‰“å°ç»“æœ-é‡ç½®å„é˜Ÿåˆ—"></a> è·å–è¾“å…¥ã€æ‰“å°ç»“æœã€é‡ç½®å„é˜Ÿåˆ—</h2><p>è·å–è¾“å…¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_data</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;è·å–ç”¨æˆ·è¾“å…¥æ¥é€‰æ‹©ç®—æ³•&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        algorithm = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·é€‰æ‹©ä¸€ä¸ªç®—æ³•ï¼šAã€æœ€ä½³ç½®æ¢ï¼›Bã€å…ˆè¿›å…ˆå‡ºç½®æ¢ï¼›Cã€æœ€è¿‘æœ€å°‘ç”¨ç½®æ¢ï¼›Dã€é€€å‡º&quot;</span>)<br>        <span class="hljs-keyword">if</span> algorithm == <span class="hljs-string">&#x27;A&#x27;</span>:<br>            opt()<br>        <span class="hljs-keyword">elif</span> algorithm == <span class="hljs-string">&#x27;B&#x27;</span>:<br>            fifo()<br>        <span class="hljs-keyword">elif</span> algorithm == <span class="hljs-string">&#x27;C&#x27;</span>:<br>            lru()<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç¨‹åºé€€å‡ºï¼&quot;</span>)<br>            <span class="hljs-keyword">break</span><br>        reset_page()<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_result</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;æ‰“å°å„ä¸ªé˜Ÿåˆ—&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> input_queue, a_queue, b_queue, c_queue, interrupt_queue<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> input_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">60</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> a_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;|&#x27;</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">60</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> b_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;|&#x27;</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">60</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> c_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;|&#x27;</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">60</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> interrupt_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;|&#x27;</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è¯¥ç®—æ³•ä¸€å…±å‘ç”Ÿäº†<span class="hljs-subst">&#123;interrupt_queue.count(<span class="hljs-string">&#x27;+&#x27;</span>)&#125;</span>é¡µé¢ç½®æ¢ï¼Œç¼ºé¡µä¸­æ–­ç‡ä¸º<span class="hljs-subst">&#123;interrupt_queue.count(<span class="hljs-string">&#x27;+&#x27;</span>)*<span class="hljs-number">100</span>/<span class="hljs-built_in">len</span>(input_queue)&#125;</span>%&quot;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><p>é‡ç½®å„é˜Ÿåˆ—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">reset_page</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;é‡ç½®é¡µè¡¨çŠ¶æ€&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> a_queue, b_queue, c_queue, interrupt_queue, ram_queue<br>    <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> page_queue:<br>        page.status = <span class="hljs-number">0</span><br>        page.quote = <span class="hljs-number">0</span><br>    a_queue = []<br>    b_queue = []<br>    c_queue = []<br>    interrupt_queue = []<br>    ram_queue = []<br></code></pre></td></tr></table></figure><h2 id="æœ€ä¼˜ç½®æ¢ç®—æ³•"><a class="markdownIt-Anchor" href="#æœ€ä¼˜ç½®æ¢ç®—æ³•"></a> æœ€ä¼˜ç½®æ¢ç®—æ³•</h2><p>æœ€ä¼˜æ˜¯æˆ‘æƒ³äº†æœ€ä¹…çš„ï¼Œæ¯•ç«Ÿå…¶ä»–ä¸¤ä¸ªç¡®å®ä¸éš¾ï¼Œè¿™é‡Œä»”ç»†åˆ’åˆ†æ¯ç§æƒ…å†µå°±æ¸…æ™°å¤šäº†ã€‚<br />é¦–å…ˆæ˜¯è™šæ‹Ÿå†…å­˜å½“å‰æ˜¯å¦æ»¡çš„æƒ…å†µï¼Œè¿™é‡Œè¦æ³¨æ„åœ¨è™šæ‹Ÿå†…å­˜æœªæ»¡çš„æ—¶å€™äº§ç”Ÿç¼ºé¡µä¸­æ–­æ˜¯æ’å…¥é˜Ÿå°¾è€Œä¸æ˜¯é˜Ÿå¤´ï¼ˆå°±è¿™ä¸ªOPTæ˜¯è¿™æ ·ï¼‰ï¼Œå…¶å®è™šæ‹Ÿå†…å­˜æœªæ»¡çš„æƒ…å†µä¸‹è¿˜éœ€è¦è€ƒè™‘æ˜¯å¦äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæˆ‘è¿™é‡Œå†™çš„æ˜¯æ²¡æœ‰è€ƒè™‘çš„ã€‚<br />ç„¶åæ˜¯è™šæ‹Ÿå†…å­˜æ»¡äº†åï¼Œäº§ç”Ÿç¼ºé¡µä¸­æ–­å’Œä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­çš„æƒ…å†µã€‚ä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­å°±ä¸éœ€è¦å¯¹è™šæ‹Ÿå†…å­˜è¿›è¡Œæ“ä½œäº†ã€‚<br />äº§ç”Ÿç¼ºé¡µä¸­æ–­åï¼Œæˆ‘é¦–å…ˆæ‰¾å‰©ä¸‹ä¸éœ€è¦å†è°ƒç”¨çš„é¡µé¢ï¼Œè¿™éƒ¨åˆ†é¡µé¢çš„ä¼˜å…ˆçº§æ˜¯æœ€å¤§çš„ï¼Œå½“ç„¶è¿™æ˜¯åœ¨æœ‰pythonåˆ—è¡¨æ–¹æ³•çš„æƒ…å†µä¸‹è¿™ä¹ˆå†™ç®€å•ï¼Œç›´æ¥æ‰¾æœ€è¿Ÿè®¿é—®ä¹Ÿè¡Œã€‚å¦‚æœéƒ½è¿˜è¦è®¿é—®é‚£å°±æ‰¾æœ€è¿Ÿè®¿é—®çš„é¡µé¢ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">opt</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;to do&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> input_queue, a_queue, b_queue, c_queue, interrupt_queue, page_queue, ram_queue<br>    <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(input_queue)):  <span class="hljs-comment"># éå†æ•´ä¸ªåºåˆ—</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">if</span> input_queue[index] <span class="hljs-keyword">in</span> ram_queue:  <span class="hljs-comment"># å½“å‰è™šæ‹Ÿå†…å­˜ä¸­æœ‰è¯¥é¡µï¼Œä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œä¹Ÿä¸éœ€è¦æ”¹å˜è™šæ‹Ÿå†…å­˜ä¸­çš„é¡µè¡¨</span><br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27; &#x27;</span>)  <span class="hljs-comment"># æœªäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27; &#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜æ»¡çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨å¯¹åº”é¡µé¢ç½®æ¢ç®—æ³•ç½®æ¢é¡µé¢</span><br>                find = <span class="hljs-number">0</span><br>                <span class="hljs-keyword">for</span> exchange_index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(ram_queue)):  <span class="hljs-comment"># æ‰¾å‡ºéœ€è¦ç½®æ¢çš„é¡µé¢åœ¨è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—ä¸­çš„ä¸‹æ ‡</span><br>                    <span class="hljs-keyword">if</span> ram_queue[exchange_index] <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> input_queue[index + <span class="hljs-number">1</span>:]:  <span class="hljs-comment"># å¦‚æœåœ¨å‰©ä¸‹çš„åºåˆ—ä¸­éƒ½æ‰¾ä¸åˆ°è¯¥é¡µï¼Œå¯ä»¥ç›´æ¥æ¢å‡ºå»</span><br>                        find = <span class="hljs-number">1</span>  <span class="hljs-comment"># æ ‡è®°æ˜¯å¦æ‰¾åˆ°äº†ç½®æ¢é¡µé¢</span><br>                        exchange_page = ram_queue[exchange_index]<br>                        <span class="hljs-keyword">break</span><br>                <span class="hljs-keyword">if</span> find == <span class="hljs-number">0</span>:  <span class="hljs-comment"># ä¸‰ä¸ªé¡µåœ¨å‰©ä¸‹çš„åºåˆ—ä¸­è¿˜æœ‰è®¿é—®</span><br>                    tmp_queue = input_queue[index + <span class="hljs-number">1</span>:]<br>                    max_index = <span class="hljs-number">0</span><br>                    exchange_page = <span class="hljs-number">0</span><br>                    <span class="hljs-keyword">for</span> tmp_index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(ram_queue)):  <span class="hljs-comment"># æ‰¾å‡ºæœ€è¿Ÿè®¿é—®çš„é¡µ</span><br>                        new_index = tmp_queue.index(ram_queue[tmp_index])<br>                        <span class="hljs-keyword">if</span> max_index &lt; new_index:<br>                            max_index = new_index<br>                            exchange_page = ram_queue[tmp_index]<br>                <span class="hljs-keyword">for</span> tmp_index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(ram_queue)):<br>                    <span class="hljs-keyword">if</span> exchange_page == ram_queue[tmp_index]:  <span class="hljs-comment"># è¿›è¡Œé¡µé¢ç½®æ¢</span><br>                        ram_queue[tmp_index] = input_queue[index]<br>                        <span class="hljs-keyword">break</span><br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(ram_queue) &lt;= <span class="hljs-number">2</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—é•¿åº¦ä¸º0ã€1ã€2çš„æƒ…å†µ</span><br>            ram_queue.append(input_queue[index])<br>            a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>            b_queue.append(ram_queue[<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) &gt;= <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            c_queue.append(ram_queue[<span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>            <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;OPTé¡µé¢ç½®æ¢ç®—æ³•ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&quot;</span>)<br>    print_result()<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><h2 id="å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•"><a class="markdownIt-Anchor" href="#å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•"></a> å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•</h2><p>å…¶å®å°±æ˜¯å¾ˆç®€å•çš„é˜Ÿåˆ—æ“ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fifo</span>():<br>    <span class="hljs-keyword">global</span> input_queue, a_queue, b_queue, c_queue, interrupt_queue, page_queue, ram_queue<br>    <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(input_queue)):  <span class="hljs-comment"># éå†æ•´ä¸ªåºåˆ—</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">if</span> input_queue[index] <span class="hljs-keyword">in</span> ram_queue:  <span class="hljs-comment"># å½“å‰è™šæ‹Ÿå†…å­˜ä¸­æœ‰è¯¥é¡µï¼Œä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œä¹Ÿä¸éœ€è¦æ”¹å˜è™šæ‹Ÿå†…å­˜ä¸­çš„é¡µè¡¨</span><br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27; &#x27;</span>)  <span class="hljs-comment"># æœªäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27; &#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜æ»¡çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨å¯¹åº”é¡µé¢ç½®æ¢ç®—æ³•ç½®æ¢é¡µé¢</span><br>                ram_queue.insert(<span class="hljs-number">0</span>, input_queue[index])  <span class="hljs-comment"># é˜Ÿåˆ—å¤´è¿›</span><br>                ram_queue.pop()  <span class="hljs-comment"># é˜Ÿåˆ—å°¾å‡º</span><br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(ram_queue) &lt;= <span class="hljs-number">2</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—é•¿åº¦ä¸º0ã€1ã€2çš„æƒ…å†µ</span><br>            ram_queue.insert(<span class="hljs-number">0</span>, input_queue[index])<br>            a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>            b_queue.append(ram_queue[<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) &gt;= <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            c_queue.append(ram_queue[<span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>            <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;FIFOé¡µé¢ç½®æ¢ç®—æ³•ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&quot;</span>)<br>    print_result()<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><h2 id="æœ€è¿‘æœ€å°‘ç”¨ç½®æ¢ç®—æ³•"><a class="markdownIt-Anchor" href="#æœ€è¿‘æœ€å°‘ç”¨ç½®æ¢ç®—æ³•"></a> æœ€è¿‘æœ€å°‘ç”¨ç½®æ¢ç®—æ³•</h2><p>å…¶å®å’Œé˜Ÿåˆ—ä¹Ÿæ²¡å¤šå¤§å·®ï¼Œè¦æ˜¯å½“å‰é˜Ÿåˆ—æœ‰å¯¹åº”é¡µï¼Œå°±æŠŠè¯¥é¡µå’Œé˜Ÿå¤´é‚£ä¸€é¡µè°ƒæ¢ä½ç½®å°±å¥½äº†ï¼Œäº§ç”Ÿç¼ºé¡µä¸­æ–­æ—¶å€™çš„æ“ä½œå’ŒFIFOæ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">lru</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;to do&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> input_queue, a_queue, b_queue, c_queue, interrupt_queue, page_queue, ram_queue<br>    <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(input_queue)):  <span class="hljs-comment"># éå†æ•´ä¸ªåºåˆ—</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">if</span> input_queue[index] <span class="hljs-keyword">in</span> ram_queue:  <span class="hljs-comment"># å½“å‰è™šæ‹Ÿå†…å­˜ä¸­æœ‰è¯¥é¡µï¼Œä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œä¹Ÿä¸éœ€è¦æ”¹å˜è™šæ‹Ÿå†…å­˜ä¸­çš„é¡µè¡¨</span><br>                ram_queue.remove(input_queue[index])<br>                ram_queue.insert(<span class="hljs-number">0</span>, input_queue[index])<br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27; &#x27;</span>)  <span class="hljs-comment"># æœªäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27; &#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜æ»¡çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨å¯¹åº”é¡µé¢ç½®æ¢ç®—æ³•ç½®æ¢é¡µé¢</span><br>                ram_queue.pop()<br>                ram_queue.insert(<span class="hljs-number">0</span>, input_queue[index])<br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(ram_queue) &lt;= <span class="hljs-number">2</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—é•¿åº¦ä¸º0ã€1ã€2çš„æƒ…å†µ</span><br>            ram_queue.append(input_queue[index])<br>            a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>            b_queue.append(ram_queue[<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) &gt;= <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            c_queue.append(ram_queue[<span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>            <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;LRUé¡µé¢ç½®æ¢ç®—æ³•ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&quot;</span>)<br>    print_result()<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><h2 id="æµ‹è¯•ä»£ç "><a class="markdownIt-Anchor" href="#æµ‹è¯•ä»£ç "></a> æµ‹è¯•ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># åˆå§‹åŒ–é¡µè¡¨ï¼Œä¸€å…±æœ‰å…«é¡µ</span><br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br><br>    input_data()<br></code></pre></td></tr></table></figure><h1 id="è¿è¡Œç»“æœ"><a class="markdownIt-Anchor" href="#è¿è¡Œç»“æœ"></a> è¿è¡Œç»“æœ</h1><p><s>æ²¡æƒ³åˆ°å§ï¼Œæˆ‘è¿™æ¬¡æ”¾è¿è¡Œç»“æœäº†ï¼</s></p><p><img src="/img/page_store/result_opt.png" alt="æœ€ä¼˜ç½®æ¢"></p><p><img src="/img/page_store/result_fifo.png" alt="å…ˆè¿›å…ˆå‡ºç½®æ¢"></p><p><img src="/img/page_store/result_lru.png" alt="æœ€è¿‘æœ€å°‘ç”¨ç½®æ¢"></p><h1 id="ä¸€äº›ä¸€äº›ä¸€äº›å…¶ä»–åƒåœ¾è¯"><a class="markdownIt-Anchor" href="#ä¸€äº›ä¸€äº›ä¸€äº›å…¶ä»–åƒåœ¾è¯"></a> ä¸€äº›ä¸€äº›ä¸€äº›å…¶ä»–åƒåœ¾è¯</h1><p>å…¶å®æœ¬æ¥æ˜¯æƒ³ä¼˜åŒ–çš„ï¼Œä½†æ˜¯ç”±äºæˆ‘å¤ªæ‡’äº†ï¼ˆäº”ä¸€å‡é‚£èƒ½å«æ‡’å—ï¼‰æ‰€ä»¥è®¡åˆ’å–æ¶ˆäº†ï¼</p><hr /><p align="center"><img src="/img/alice_happy.jpg" alt="è¿™é‡Œæœ‰ä¸€åªçˆ±ä¸½ä¸" style="width:150px; height:150px;"></p><p align="center">å¸Œæœ›æœ¬æ–‡ç« èƒ½å¤Ÿå¸®åˆ°æ‚¨~</p>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå­¦ä¹ ç¬”è®°â€”â€”æµ‹è¯•ä»£ç </title>
    <link href="/2022/04/24/python-learning-3/"/>
    <url>/2022/04/24/python-learning-3/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>æœ¬æ–‡ç« å°šæœªæ›´æ–°å®Œæ¯•</p>          </div><h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1><p>è¦éªŒè¯æˆ‘ä»¬æ‰€ç¼–å†™çš„ä»£ç æ˜¯å¦èƒ½åƒæˆ‘ä»¬æ‰€æƒ³çš„é‚£æ ·å·¥ä½œï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹æˆ‘ä»¬çš„ä»£ç è¿›è¡Œæµ‹è¯•ã€‚<br />ä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒéªŒè¯éƒ½æ¶‰åŠåˆ°æ•°æ®çš„è¾“å…¥ï¼Œè¿™å¯å°±éº»çƒ¦äº†ï¼Œä¸ºäº†æµ‹è¯•æˆ‘ä»¬çš„ä»£ç ï¼Œæ¯è¿è¡Œä¸€æ¬¡éƒ½å¾—è¾“å…¥ä¸€æ¬¡æ•°æ®ï¼Œè¿™æ ·åšå³ä½æ•ˆåˆçƒ¦çã€‚<br />è€Œä¸”ä»¥åæ¯ä¿®æ”¹ä¸€æ¬¡å‡½æ•°/ç±»ï¼Œæˆ‘ä»¬ä¹Ÿè¦åšä¸€æ¬¡è¿™æ ·çš„å·¥ä½œï¼Œæƒ³æƒ³å°±å¤´æ™•ï¼Œä¸æ˜¯å—ï¼Ÿ<br />å¥½åœ¨Pythonæä¾›äº†ä¸€ç§è‡ªåŠ¨æµ‹è¯•å‡½æ•°è¾“å‡ºçš„é«˜æ•ˆæ–¹å¼ï¼šé€šè¿‡unittestæ¨¡æ¿æ¥æµ‹è¯•ä»£ç ã€‚</p><h1 id="ä»€ä¹ˆäº‹unittest"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆäº‹unittest"></a> ä»€ä¹ˆäº‹Unittestï¼Ÿ</h1><p>ç®€å•åœ°è¯´ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæä¾›ä¸€ç³»åˆ—ä»£ç æµ‹è¯•å·¥å…·çš„ä¸€ä¸ªæ¨¡å—ã€‚åœ¨<a href="https://docs.python.org/3.9/library/unittest.html?highlight=unittest#module-unittest">å®˜æ–¹æ–‡æ¡£</a>ä¸­æè¿°å¦‚ä¸‹ï¼š</p><blockquote><p>The unittest unit testing framework was originally inspired by JUnit and has a similar flavor as major unit testing frameworks in other languages.<br />It supports test automation, sharing of setup and shutdown code for tests, aggregation of tests into collections, and independence of the tests from the reporting framework.</p><p>To achieve this, unittest supports some important concepts in an object-oriented way:</p><p>test fixture</p><blockquote><p>A test fixture represents the preparation needed to perform one or more tests, and any associated cleanup actions.<br />This may involve, for example, creating temporary or proxy databases, directories, or starting a server process.</p></blockquote><p>test case</p><blockquote><p>A test case is the individual unit of testing. It checks for a specific response to a particular set of inputs.<br />unittest provides a base class, TestCase, which may be used to create new test cases.</p></blockquote><p>test suite</p><blockquote><p>A test suite is a collection of test cases, test suites, or both. It is used to aggregate tests that should be executed together.</p></blockquote><p>test runner</p><blockquote><p>A test runner is a component which orchestrates the execution of tests and provides the outcome to the user.<br />The runner may use a graphical interface, a textual interface, or return a special value to indicate the results of executing the tests.</p></blockquote></blockquote><p>å®˜æ–¹æ–‡æ¡£è®²äº†å››ç§æ¦‚å¿µï¼Œä½†åœ¨è¿™è¾¹ç›®å‰ä»…æ¶‰åŠtest caseï¼Œå³æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™ä¸€æ¦‚å¿µçš„ä½¿ç”¨ã€‚<br />æ­£å¦‚å®˜æ–¹æ–‡æ¡£æ‰€è¯´ï¼Œtest caseæ£€æŸ¥è¾“å…¥ç‰¹å®šçš„æ•°æ®æ—¶çš„å“åº”ã€‚æ­£å› å¦‚æ­¤æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥ç®€åŒ–æˆ‘ä»¬çš„éœ€è¦è¾“å…¥æ•°æ®çš„æµ‹è¯•ã€‚</p><h1 id="unittestä¸­çš„æ–­è¨€æ–¹æ³•"><a class="markdownIt-Anchor" href="#unittestä¸­çš„æ–­è¨€æ–¹æ³•"></a> Unittestä¸­çš„æ–­è¨€æ–¹æ³•</h1><p>å› ä¸ºæˆ‘ä»¬éœ€è¦æ£€æŸ¥è¾“å‡ºçš„ç»“æœï¼Œæ‰€ä»¥å°±è¦ç”¨åˆ°<code>unittest</code>ä¸­çš„æ–­è¨€æ–¹æ³•ï¼Œåœ¨è¿™é‡Œæˆ‘åˆ—ä¸¾äº†ä¸€äº›æ–¹æ³•ã€‚</p><h1 id="å¯¹å‡½æ•°è¿›è¡Œæµ‹è¯•"><a class="markdownIt-Anchor" href="#å¯¹å‡½æ•°è¿›è¡Œæµ‹è¯•"></a> å¯¹å‡½æ•°è¿›è¡Œæµ‹è¯•</h1><p>è¦å¯¹å‡½æ•°è¿›è¡Œæµ‹è¯•ï¼Œé¦–å…ˆæˆ‘ä»¬å¾—æœ‰ç”¨äºæµ‹è¯•çš„å‡½æ•°ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥è‡ªè¡Œå®šä¹‰è¦æµ‹è¯•çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨Pythonè‡ªå¸¦çš„å‡½æ•°ï¼Œè¿™é‡Œæˆ‘å…ˆè‡ªè¡Œå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒç”¨äºå°†ä¸¤æ•°ç›¸åŠ å¹¶è¿”å›è¯¥å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>):<br><span class="hljs-keyword">return</span> a + b<br></code></pre></td></tr></table></figure><h2 id="é€šè¿‡çš„æµ‹è¯•"><a class="markdownIt-Anchor" href="#é€šè¿‡çš„æµ‹è¯•"></a> é€šè¿‡çš„æµ‹è¯•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> unittest<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddTestCase</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two_num_add</span>(<span class="hljs-params">self</span>):<br>        result = add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>        self.assertEqual(result, <span class="hljs-number">3</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><p>é¦–å…ˆå¯¼å…¥<code>unittest</code>æ¨¡å—ã€‚<br />ç„¶ååˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>AddTestCase</code> çš„ç±»ï¼Œåå­—æ˜¯å¯ä»¥éšä¾¿å–çš„ï¼Œä½†æ˜¯æœ€å¥½ç®€å•æ˜“æ‡‚ï¼ˆå…¶å®å†™æ³¨é‡Šå°±å¥½å•¦ï¼‰ã€‚è¦è¿›è¡Œæµ‹è¯•ï¼Œè¿™ä¸ªç±»å¿…é¡»ç»§æ‰¿ <code>unittest.TsetCase</code> ç±»ã€‚<br />ç±»é‡Œé¢ç›®å‰åªå†™äº†ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºæµ‹è¯•ä¸¤ä¸ªæ•°ç›¸åŠ çš„æƒ…å†µã€‚åœ¨è¿è¡Œæ—¶ï¼Œæ‰€æœ‰ä»¥test_æ‰“å¤´çš„æ–¹æ³•éƒ½å°†è‡ªåŠ¨è¿è¡Œã€‚<br />åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œè°ƒç”¨äº†ä¹‹å‰ç¼–å†™çš„<code>add</code>å‡½æ•°å¹¶å°†å€¼è¿”å›åˆ°<code>result</code>å˜é‡ä¸­ï¼Œç„¶åç”¨<code>unittest</code>ä¸­çš„æ–­è¨€æ–¹æ³•æ¥åˆ¤æ–­å¾—åˆ°çš„ç»“æœæ˜¯å¦ä¸æˆ‘ä»¬é¢„æœŸç»“æœä¸€è‡´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">.<br>----------------------------------------------------------------------<br>Ran <span class="hljs-number">1</span> test <span class="hljs-keyword">in</span> <span class="hljs-number">0.000</span>s<br><br>OK<br></code></pre></td></tr></table></figure><p>ç›´æ¥è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å¦‚ä¸Šè¾“å‡ºã€‚å¥ç‚¹çš„æ•°é‡ä»£è¡¨äº†é€šè¿‡çš„æµ‹è¯•æ•°ï¼Œåœ¨ä¸Šé¢æˆ‘ä»¬æœ‰ä¸€ä¸ªå¥ç‚¹ï¼Œè¯´æ˜é€šè¿‡äº†ä¸€ä¸ªæµ‹è¯•ã€‚æ¥ä¸‹æ¥çš„ä¸€è¡ŒæŒ‡å‡ºâ€œåœ¨xxxç§’å†…è¿è¡Œäº†xxxä¸ªæµ‹è¯•â€ã€‚æœ€åçš„OKè¡¨ç¤ºè¯¥æµ‹è¯•ç”¨ä¾‹ä¸­çš„æ‰€æœ‰å•å…ƒæµ‹è¯•éƒ½é€šè¿‡äº†ã€‚</p><h2 id="æœªé€šè¿‡çš„æµ‹è¯•"><a class="markdownIt-Anchor" href="#æœªé€šè¿‡çš„æµ‹è¯•"></a> æœªé€šè¿‡çš„æµ‹è¯•</h2><p>å¦‚æœæµ‹è¯•æœªé€šè¿‡ï¼Œæ§åˆ¶å°/ç»ˆç«¯ä¼šè¾“å‡ºä»€ä¹ˆä¿¡æ¯å‘¢ï¼Ÿè¯•ä¸€ä¸‹å°±çŸ¥é“äº†ã€‚è¿™é‡Œæˆ‘æ•…æ„ç¼–å†™äº†ä¸€ä¸ªæ— æ³•é€šè¿‡çš„æµ‹è¯•ï¼Œå°†<strong>3</strong>æ”¹ä¸ºäº†<strong>4</strong>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddTestCase</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two_num_add</span>(<span class="hljs-params">self</span>):<br>        result = add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>        self.assertEqual(result, <span class="hljs-number">4</span>)<br></code></pre></td></tr></table></figure><p>æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">F<br>======================================================================<br>FAIL: test_two_num_add (__main__.AddTestCase)<br>----------------------------------------------------------------------<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;G:\example1.py&quot;</span>, line <span class="hljs-number">11</span>, <span class="hljs-keyword">in</span> test_two_num_add<br>    self.assertEqual(result, <span class="hljs-number">4</span>)<br>AssertionError: <span class="hljs-number">3</span> != <span class="hljs-number">4</span><br><br>----------------------------------------------------------------------<br>Ran <span class="hljs-number">1</span> test <span class="hljs-keyword">in</span> <span class="hljs-number">0.001</span>s<br><br>FAILED (failures=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>è¿™é‡Œç¬¬ä¸€è¡Œæ˜¾ç¤ºæµ‹è¯•ç”¨ä¾‹ä¸­æœ‰ä¸€ä¸ªå•å…ƒæµ‹è¯•å¤±è´¥ï¼Œæ¥ä¸‹æ¥å‘Šè¯‰ä½ å…·ä½“æ˜¯å“ªä¸ªå•å…ƒæµ‹è¯•ï¼Œç´§æ¥ç€å°±æ˜¯Tracebackâ€”â€”è¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯äº†ã€‚åœ¨æœ€åï¼Œæˆ‘ä»¬è¿˜èƒ½çœ‹åˆ°è¿è¡Œè¯¥æµ‹è¯•ç”¨ä¾‹æ—¶å¤±è´¥äº†å¤šå°‘ä¸ªå•å…ƒæµ‹è¯•ã€‚<br />åœ¨è¿™é‡ŒæŠ¥çš„é”™æ˜¯<strong>F</strong>ï¼Œè¿˜æœ‰ä¸€ç§æŠ¥é”™æ˜¯<strong>E</strong>ï¼Œè¿™é‡Œä¸€å¹¶æ¼”ç¤ºä¸€ä¸‹ï¼šé¦–å…ˆæ”¹ä¸‹æˆ‘ä»¬çš„å‡½æ•°<code>add</code>çš„ä»£ç ï¼Œè®©å®ƒä»ç°åœ¨å¼€å§‹æ¥å—ä¸‰ä¸ªå‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b, c</span>):<br>    <span class="hljs-keyword">return</span> a + b + c<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddTestCase</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two_num_add</span>(<span class="hljs-params">self</span>):<br>        result = add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>        self.assertEqual(result, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><p>ç„¶åè¿è¡Œï¼Œå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">E<br>======================================================================<br>ERROR: test_two_num_add (__main__.AddTestCase)<br>----------------------------------------------------------------------<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;G:\example1.py&quot;</span>, line <span class="hljs-number">10</span>, <span class="hljs-keyword">in</span> test_two_num_add<br>    result = add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>TypeError: add() missing <span class="hljs-number">1</span> required positional argument: <span class="hljs-string">&#x27;c&#x27;</span><br><br>----------------------------------------------------------------------<br>Ran <span class="hljs-number">1</span> test <span class="hljs-keyword">in</span> <span class="hljs-number">0.001</span>s<br><br>FAILED (errors=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™é‡Œå‡ºçš„é”™å°±æ˜¯Eï¼Œå³erroräº†ã€‚<br />é€šè¿‡å¯¹æ¯”æˆ‘ä»¬å°±èƒ½çŸ¥é“ï¼ŒEä»£è¡¨ç¨‹åºä»£ç å¼•å‘çš„æµ‹è¯•é”™è¯¯ï¼ŒFä»£è¡¨ç¨‹åºè¾“å‡ºçš„ç»“æœæ²¡æœ‰å¾—åˆ°â€œé¢„æœŸçš„ç»“æœâ€ï¼ˆæ¯•ç«Ÿæ‰€è°“é¢„æœŸçš„ç»“æœä¹Ÿæ˜¯æˆ‘ä»¬è‡ªå·±æ‰€å®šä¹‰çš„ï¼‰ã€‚</p><h1 id="å¯¹ç±»è¿›è¡Œæµ‹è¯•"><a class="markdownIt-Anchor" href="#å¯¹ç±»è¿›è¡Œæµ‹è¯•"></a> å¯¹ç±»è¿›è¡Œæµ‹è¯•</h1><p><em><strong>to doâ€¦</strong></em></p><hr /><p align="center"><img src="/img/alice_happy.jpg" alt="è¿™é‡Œæœ‰ä¸€åªçˆ±ä¸½ä¸" style="width:150px; height:150px;"></p><p align="center">å¸Œæœ›æœ¬æ–‡ç« èƒ½å¤Ÿå¸®åˆ°æ‚¨~</p>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ“ä½œç³»ç»ŸåŸç†â€”â€”å¯å˜åˆ†åŒºå­˜å‚¨ç®¡ç†</title>
    <link href="/2022/04/20/variable-partition/"/>
    <url>/2022/04/20/variable-partition/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸç†"><a class="markdownIt-Anchor" href="#åŸç†"></a> åŸç†</h1><p>è¿›è¡Œä¸€ä¸ªå®éªŒæŠ¥å‘Šçš„æŠ„~</p><blockquote><p>å¯å˜åˆ†åŒºæ–¹å¼æ˜¯æŒ‰ä½œä¸šéœ€è¦çš„ä¸»å­˜ç©ºé—´å¤§å°æ¥åˆ†åŒºã€‚<br />å½“è£…å…¥ä¸€ä¸ªä½œä¸šæ—¶ï¼Œé¦–å…ˆè¦æŸ¥çœ‹æ˜¯å¦æœ‰è¶³å¤Ÿçš„ç©ºé—²ç©ºé—´æ¥åˆ†é…ï¼Œè‹¥æœ‰åˆ™æŒ‰æŒ‡å®šçš„åˆ†é…æ–¹å¼è¿›è¡Œåˆ†é…ï¼›å¦åˆ™ä½œä¸šä¸èƒ½è£…å…¥ã€‚</p><blockquote><p>å¯å˜åˆ†åŒºçš„ä¸‰ç§åˆ†é…ç®—æ³•å°±æ˜¯ä¸ºä½œä¸šåˆ†é…ä¸»å­˜ç©ºé—´çš„æ–¹æ³•ã€‚</p><ul><li>æœ€å…ˆé€‚åº”ç®—æ³•ï¼šåœ¨ç©ºé—²åŒºé—´ä¸­æŸ¥è¯¢æ»¡è¶³ä½œä¸šéœ€è¦çš„ç©ºé—´ï¼Œå¹¶å°†ä½œä¸šè£…å…¥ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ç©ºé—´ä¸­å»ã€‚</li><li>æœ€ä½³é€‚åº”ç®—æ³•ï¼šåœ¨ç©ºé—²åŒºé—´ä¸­æŸ¥è¯¢æ»¡è¶³ä½œä¸šéœ€è¦çš„ç©ºé—´ï¼Œå¹¶å°†ä½œä¸šè£…å…¥æ»¡è¶³æ¡ä»¶çš„ç©ºé—²ç©ºé—´ä¸­æœ€å°çš„ä¸€ä¸ªç©ºé—´ä¸­å»ã€‚</li><li>æœ€åé€‚åº”ç®—æ³•ï¼šåœ¨ç©ºé—²åŒºé—´ä¸­æŸ¥è¯¢æ»¡è¶³ä½œä¸šéœ€è¦çš„ç©ºé—´ï¼Œå¹¶å°†ä½œä¸šè£…å…¥æ»¡è¶³æ¡ä»¶çš„ç©ºé—²ç©ºé—´ä¸­æœ€å¤§çš„ä¸€ä¸ªç©ºé—´ä¸­å»ã€‚</li></ul></blockquote><blockquote><p>ä»ä¸‰ç§ç®—æ³•çš„è¯´æ˜å¯ä»¥çœ‹å‡ºï¼Œåˆ†é…ç©ºé—´çš„è¿‡ç¨‹ä¸»è¦å¯ä»¥åˆ†ä¸¤æ­¥ï¼š</p><ol><li>æŸ¥è¯¢æ‰€æœ‰æ»¡è¶³ä½œä¸šéœ€æ±‚çš„ç©ºé—´å—ã€‚</li><li>æŒ‰ç…§æŒ‡å®šçš„ç®—æ³•å°†ä½œä¸šè£…å…¥ç©ºé—´å—ä¸­ã€‚</li></ol></blockquote><blockquote><p>å¯å˜åˆ†åŒºçš„å›æ”¶ç®—æ³•ï¼š</p><ul><li>å›æ”¶åŒºæœ‰ä¸‹é‚»ç©ºé—²åŒº</li><li>å›æ”¶åŒºæœ‰ä¸Šé‚»ç©ºé—²åŒº</li><li>å½’è¿˜åŒºæ—¢æœ‰ä¸Šé‚»ç©ºé—²åŒºåˆæœ‰ä¸‹é‚»ç©ºé—²åŒº</li><li>å½’è¿˜åŒºæ—¢æ— ä¸Šé‚»ç©ºé—²åŒºåˆæœ‰ä¸‹é‚»ç©ºé—²åŒº</li></ul></blockquote></blockquote><h1 id="å®ç°"><a class="markdownIt-Anchor" href="#å®ç°"></a> å®ç°</h1><h2 id="ç©ºé—²è¡¨å’Œå·²åˆ†é…è¡¨"><a class="markdownIt-Anchor" href="#ç©ºé—²è¡¨å’Œå·²åˆ†é…è¡¨"></a> ç©ºé—²è¡¨å’Œå·²åˆ†é…è¡¨</h2><p>è¿™é‡Œå…¶å®æ ¹æ®æˆ‘çš„ä½œä¸šè¦æ±‚åªèƒ½ç”¨ä¸€ä¸ªå†…å­˜åˆ†åŒºè¡¨ï¼ˆå°±æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼‰æ¥å®ç°çš„ï¼Œä½†æ˜¯æ˜æ˜¾æ˜¯ç”¨ä¸¤ä¸ªè¡¨æ¥è¡¨ç¤ºä¼šæ›´æ–¹ä¾¿ï¼Œè¿™æ ·å°±ä¸éœ€è¦æ ‡å¿—å±æ€§äº†ï¼<s>ï¼ˆå·æ‡’ï¼‰</s><br />æ‰€ä»¥æˆ‘å®šä¹‰äº†ä¸¤ä¸ªå…¨å±€å˜é‡ï¼Œä¸€ä¸ªå­˜ç©ºé—²åˆ†åŒºï¼Œä¸€ä¸ªå­˜å·²åˆ†é…åˆ†åŒºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs python">free_list = []  <span class="hljs-comment"># ç©ºé—²åˆ—è¡¨</span><br>allocated_list = []  <span class="hljs-comment"># å·²åˆ†é…åˆ—è¡¨</span><br></code></pre></td></tr></table></figure><h2 id="ç©ºé—²ç©ºé—´å’Œå·²åˆ†é…ç©ºé—´"><a class="markdownIt-Anchor" href="#ç©ºé—²ç©ºé—´å’Œå·²åˆ†é…ç©ºé—´"></a> ç©ºé—²ç©ºé—´å’Œå·²åˆ†é…ç©ºé—´</h2><p>è¿™è¾¹ç”¨äº†ä¸¤ä¸ªç±»æ¥è¡¨ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Free</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;ç©ºé—²è¡¨ç±»&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, start, length</span>):<br>        self.start = start  <span class="hljs-comment"># èµ·å€</span><br>        self.length = length    <span class="hljs-comment"># é•¿åº¦</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Allocated</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;å·²åˆ†é…è¡¨ç±»&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, start, length</span>):<br>        self.name = name    <span class="hljs-comment"># ä½œä¸šå</span><br>        self.start = start  <span class="hljs-comment"># èµ·å€</span><br>        self.length = length    <span class="hljs-comment"># é•¿åº¦</span><br></code></pre></td></tr></table></figure><h2 id="è¯»å–ç”¨æˆ·è¾“å…¥"><a class="markdownIt-Anchor" href="#è¯»å–ç”¨æˆ·è¾“å…¥"></a> è¯»å–ç”¨æˆ·è¾“å…¥</h2><p>æˆ‘å…ˆä¸æ€¥ç€å®ç°åŠŸèƒ½ï¼Œè€Œæ˜¯å…ˆåšäº†â€œå…·æœ‰äº¤äº’åŠŸèƒ½â€ï¼ˆç¡®ä¿¡ï¼‰çš„å‡½æ•°ï¼Œèƒ½å¤Ÿè®©ç”¨æˆ·æ“ä½œæ•°æ®å’Œè¯»å–æ•°æ®ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_data</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;è¯»å–ç”¨æˆ·è¾“å…¥ä»¥åŠæ“ä½œ&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list, allocated_list<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        op = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·é€‰æ‹©è¦è¿›è¡Œçš„æ“ä½œï¼šA åˆ†é…ä¸»å­˜ï¼› B å›æ”¶ä¸»å­˜ï¼› C æ˜¾ç¤ºä¸»å­˜ï¼› Q é€€å‡ºï¼›&quot;</span>)<br>        <span class="hljs-keyword">if</span> op == <span class="hljs-string">&#x27;A&#x27;</span>:<br>            job_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šåï¼š&quot;</span>)<br>            length = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šé•¿åº¦&quot;</span>))<br>            algorithm = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥åˆ†é…ç®—æ³•ï¼šA æœ€å…ˆé€‚åº”ï¼› B æœ€ä¼˜é€‚åº”ï¼› C æœ€åé€‚åº”ï¼›&quot;</span>)<br>            <span class="hljs-keyword">if</span> algorithm == <span class="hljs-string">&#x27;A&#x27;</span>:<br>                allocate(job_name, length, algorithm)<br>            <span class="hljs-keyword">elif</span> algorithm == <span class="hljs-string">&#x27;B&#x27;</span>:<br>                allocate(job_name, length, algorithm)<br>            <span class="hljs-keyword">elif</span> algorithm == <span class="hljs-string">&#x27;C&#x27;</span>:<br>                allocate(job_name, length, algorithm)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ã€‚&quot;</span>)<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;B&#x27;</span>:<br>            recycle_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥è¦å›æ”¶çš„ä½œä¸šåï¼š&quot;</span>)<br>            recycle(recycle_name)<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;C&#x27;</span>:<br>            display()<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;Q&#x27;</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç¨‹åºé€€å‡ºã€‚&quot;</span>)<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ã€‚&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="æ˜¾ç¤ºä¸»å­˜ç©ºé—´"><a class="markdownIt-Anchor" href="#æ˜¾ç¤ºä¸»å­˜ç©ºé—´"></a> æ˜¾ç¤ºä¸»å­˜ç©ºé—´</h2><p>ä¸ºäº†æ£€æŸ¥å‰é¢å†™çš„ä»£ç æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæ¯”å¦‚åŠŸèƒ½é€‰æ‹©ã€ç©ºé—²å’Œå·²åˆ†é…åˆ—è¡¨ï¼Œæˆ‘å†³å®šå…ˆå®ç°è¿™ä¸ªå‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">display</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;æ‰“å°ä¸¤å¼ è¡¨&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list, allocated_list<br>    free_list_sort(<span class="hljs-string">&#x27;A&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç©ºé—²è¡¨&quot;</span>.center(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;èµ·å€&quot;</span>.center(<span class="hljs-number">10</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">&quot;é•¿åº¦&quot;</span>.center(<span class="hljs-number">10</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">&quot;ç»ˆå€&quot;</span>.center(<span class="hljs-number">10</span>))<br>    <span class="hljs-keyword">for</span> free <span class="hljs-keyword">in</span> free_list:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;free.start&#125;</span>&quot;</span>.center(<span class="hljs-number">11</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;free.length&#125;</span>&quot;</span>.center(<br>            <span class="hljs-number">11</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;free.start + free.length - <span class="hljs-number">1</span>&#125;</span>&quot;</span>.center(<span class="hljs-number">11</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">34</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²åˆ†é…è¡¨&quot;</span>.center(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åå­—&quot;</span>.center(<span class="hljs-number">10</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">&quot;èµ·å€&quot;</span>.center(<span class="hljs-number">10</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">&quot;é•¿åº¦&quot;</span>.center(<span class="hljs-number">10</span>))<br>    <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> allocated_list:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;job.name&#125;</span>&quot;</span>.center(<span class="hljs-number">11</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;job.start&#125;</span>&quot;</span>.center(<br>            <span class="hljs-number">11</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;job.length&#125;</span>&quot;</span>.center(<span class="hljs-number">11</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">34</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br></code></pre></td></tr></table></figure><p>(è¯·æ— è§†è¿™ç²—æš´çš„ä»£ç åˆ†è¡Œï¼Œè¿™æ˜¯æˆ‘ç”¨IDEAå¿«æ·æ ¼å¼åŒ–å‡ºæ¥çš„ã€‚ã€‚ã€‚)<br />å¦‚æœä¸æ˜ç™½å…¶ä¸­çš„<code>center</code>æ–¹æ³•çš„è¯ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹åçš„éšç¬”ï¼ˆå†™å®Œåä¼šåœ¨è¿™é‡Œæ”¾è·³è½¬é“¾æ¥ï¼‰ã€‚<br />åœ¨è¿™ä¸ªå‡½æ•°ç¬¬äºŒè¡Œæˆ‘è°ƒç”¨äº†ä¸€ä¸ª<code>free_list_sort</code>å‡½æ•°ï¼Œä½œç”¨å¦‚å…¶åï¼Œç”¨æ¥å¯¹ç©ºé—²åˆ†åŒºåˆ—è¡¨ä¸­çš„ç©ºé—²åˆ†åŒºæ’åºã€‚</p><h2 id="å¯¹ç©ºé—²åˆ†åŒºåˆ—è¡¨è¿›è¡Œæ’åº"><a class="markdownIt-Anchor" href="#å¯¹ç©ºé—²åˆ†åŒºåˆ—è¡¨è¿›è¡Œæ’åº"></a> å¯¹ç©ºé—²åˆ†åŒºåˆ—è¡¨è¿›è¡Œæ’åº</h2><p>è™½ç„¶çœ‹ä¸Šå»æ˜¯å†™äº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†å…¶å®ç”¨çš„è¿˜æ˜¯pythonè‡ªå¸¦çš„<code>sorted</code>å‡½æ•°è¿›è¡Œçš„æ’åº<s>å› ä¸ºçœŸçš„å¤ªå¥½ç”¨å•¦</s><br />ä¸ºä»€ä¹ˆè¦ç‰¹åœ°å†™è¿™ä¸ªå‡½æ•°ï¼Ÿå› ä¸ºåˆ†é…ä¸»å­˜ç©ºé—´æœ‰ä¸‰ç§ç®—æ³•ï¼Œæœ€å…ˆã€æœ€ä¼˜å’Œæœ€åé€‚åº”ï¼Œè¿™é‡Œæˆ‘å°±å†™äº†ä¸‰ä¸ªæ’åºæ–¹å¼ï¼šæŒ‰ç…§èµ·å€ã€é•¿åº¦å‡åºã€é•¿åº¦é€†åºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">free_list_sort</span>(<span class="hljs-params">method</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;ä¸ºç©ºé—²è¡¨é€‰æ‹©æ’åºæ–¹å¼&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list<br>    <span class="hljs-keyword">if</span> method == <span class="hljs-string">&#x27;A&#x27;</span>:<br>        free_list = <span class="hljs-built_in">sorted</span>(free_list, key=<span class="hljs-keyword">lambda</span> free: free.start)  <span class="hljs-comment"># æŒ‰ç…§èµ·å€æ’åº</span><br>    <span class="hljs-keyword">elif</span> method == <span class="hljs-string">&#x27;B&#x27;</span>:<br>        free_list = <span class="hljs-built_in">sorted</span>(free_list, key=<span class="hljs-keyword">lambda</span> free: free.length)  <span class="hljs-comment"># æŒ‰ç…§é•¿åº¦æ’åº</span><br>    <span class="hljs-keyword">elif</span> method == <span class="hljs-string">&#x27;C&#x27;</span>:<br>        free_list = <span class="hljs-built_in">sorted</span>(free_list, key=<span class="hljs-keyword">lambda</span> free: free.length, reverse=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># æŒ‰ç…§é•¿åº¦æ’é€†åº</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„ç”¨åˆ°çš„<code>sorted</code>å‡½æ•°å’Œ<code>sort</code>æ–¹æ³•ç±»ä¼¼ï¼Œéƒ½æ¥å—ä¸¤ä¸ªä½œç”¨ä¸€æ ·çš„å¯é€‰å‚æ•°keyå’Œreverseï¼Œè¿™ä¸¤ä¸ªå‚æ•°æœ‰ä»€ä¹ˆç”¨å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://map1e-g.github.io/2022/04/17/python-essay-1/">ç‚¹æˆ‘è·³è½¬</a><br />è€Œlambdaè¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ªå•è¡¨è¾¾å¼å‡½æ•°ï¼Œä¹Ÿå¯ä»¥å½“æˆåŒ¿åå‡½æ•°ã€‚åœ¨å¯¹å¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ’åºçš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç”¨lambdaè¡¨è¾¾å¼å®šä¹‰ç®€çŸ­çš„keyå‡½æ•°ã€‚å…³äºlambdaè¡¨è¾¾å¼å¯èƒ½ä¹‹åä¼šå†™åœ¨éšç¬”æˆ–è€…å­¦ä¹ ç¬”è®°é‡Œã€‚</p><h2 id="åˆ†é…ä¸»å­˜"><a class="markdownIt-Anchor" href="#åˆ†é…ä¸»å­˜"></a> åˆ†é…ä¸»å­˜</h2><p>è™½ç„¶æœ‰ä¸‰ç§ç®—æ³•ï¼Œä½†æ˜¯ç”±äºæˆ‘çš„ç©ºé—²åˆ†åŒºå’Œå·²åˆ†é…åˆ†åŒºæ˜¯åˆ†å¼€çš„ï¼Œæ‰€ä»¥ä¸åŒçš„åœ°æ–¹åªæœ‰æ’åºä¸Šï¼Œå‰©ä¸‹çš„æ‰¾ç©ºé—²åˆ†åŒºå¹¶å®‰æ’çš„æ“ä½œæ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">allocate</span>(<span class="hljs-params">name, length, method</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;åˆ†é…ä¸»å­˜ç©ºé—´&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list, allocated_list<br>    free_list_sort(method)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(free_list)):<br>        <span class="hljs-comment"># æ‰¾åˆ°å¯è¿›è¡Œåˆ†é…çš„ç©ºé—´</span><br>        <span class="hljs-keyword">if</span> free_list[i].length &gt;= length:<br>            allocated_list.append(Allocated(name, free_list[i].start, length))<br>            allocated_list = <span class="hljs-built_in">sorted</span>(allocated_list, key=<span class="hljs-keyword">lambda</span> job: job.start)<br>            <span class="hljs-keyword">if</span> free_list[i].length == length:<br>                <span class="hljs-keyword">del</span> free_list[i]<br>            <span class="hljs-keyword">else</span>:<br>                free_list[i].start = free_list[i].start + length<br>                free_list[i].length = free_list[i].length - length<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ†é…æˆåŠŸï¼&quot;</span>)<br>            <span class="hljs-keyword">return</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ†é…å¤±è´¥ï¼&quot;</span>)<br></code></pre></td></tr></table></figure><p>åœ¨æ‰¾ç©ºé—²åˆ†åŒºå‰ï¼Œæˆ‘ä»¬å…ˆæŒ‰ç…§ç»™å®šçš„ç®—æ³•å¯¹ç©ºé—²åˆ†åŒºåˆ—è¡¨è¿›è¡Œæ’åºï¼Œç„¶åå†å»éå†è¿™ä¸ªåˆ—è¡¨ï¼Œå°è¯•æ‰¾åˆ°åˆé€‚çš„åˆ†åŒºå¹¶å¯¹ä½œä¸šè¿›è¡Œåˆ†é…ã€‚<br />è¿™é‡Œæœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯ä½œä¸šé•¿åº¦åˆšå¥½ç­‰äºæ‰¾åˆ°çš„ç©ºé—²åˆ†åŒºé•¿åº¦ï¼Œè¿™æ—¶å€™ç›´æ¥åˆ é™¤æ‰å¯¹åº”çš„ç©ºé—²åˆ†åŒºå³å¯ï¼›è‹¥ä½œä¸šé•¿åº¦å°äºç©ºé—²åˆ†åŒºçš„é•¿åº¦ï¼Œè¿™ä¸ªç©ºé—²åˆ†åŒºå°±åº”è¯¥é‡æ–°è®¡ç®—èµ·å€å’Œé•¿åº¦ã€‚</p><h2 id="å›æ”¶ä¸»å­˜"><a class="markdownIt-Anchor" href="#å›æ”¶ä¸»å­˜"></a> å›æ”¶ä¸»å­˜</h2><p>è¿™éƒ¨åˆ†å…¶å®æ¶‰åŠåˆ°ä¸¤ä¸ªä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯å›æ”¶ï¼Œä¸€ä¸ªæ˜¯åˆå¹¶ã€‚<br />å…ˆæ¥çœ‹å›æ”¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">recycle</span>(<span class="hljs-params">name</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;å›æ”¶ç©ºé—´&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list, allocated_list<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(allocated_list)):<br>        <span class="hljs-comment"># æ£€æŸ¥å·²åˆ†é…è¡¨ä¸­æ˜¯å¦æœ‰è¯¥ä½œä¸š</span><br>        <span class="hljs-keyword">if</span> allocated_list[i].name == name:<br>            free_list.append(Free(allocated_list[i].start, allocated_list[i].length))<br>            free_list_sort(<span class="hljs-string">&#x27;A&#x27;</span>)<br>            <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(free_list)):<br>                <span class="hljs-comment"># æ‰¾å‡ºæ–°åŠ å…¥çš„ç©ºé—²è¡¨çš„ç´¢å¼•å¹¶è°ƒç”¨mergeå‡½æ•°è¿›è¡Œåˆå¹¶</span><br>                <span class="hljs-keyword">if</span> free_list[index].start == allocated_list[i].start:<br>                    merge(index)<br>                    <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">del</span> allocated_list[i]<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å›æ”¶æˆåŠŸï¼&quot;</span>)<br>            <span class="hljs-keyword">return</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å›æ”¶å¤±è´¥ï¼&quot;</span>)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºéå†ä¸€éå·²åˆ†é…åˆ—è¡¨å°±å¥½å•¦ï¼Œæ‰¾åˆ°å¯¹åº”åå­—çš„ä½œä¸šåï¼Œå…ˆåœ¨ç©ºé—²åˆ†åŒºåˆ—è¡¨ä¸­åŠ å…¥ä¸€ä¸ªæ–°çš„ç©ºé—²åˆ†åŒºï¼Œç„¶åå¯¹è¿™ä¸ªæ–°çš„ç©ºé—²åˆ†åŒºè°ƒç”¨<code>merge</code>å‡½æ•°è¿›è¡Œåˆå¹¶ï¼Œæœ€åä½¿ç”¨<code>del</code>å‡½æ•°åˆ é™¤æ‰è¿™ä¸ªä½œä¸šå³å¯~<br />é‚£ä¹ˆæˆ‘ä»¬å†æ¥çœ‹çœ‹åˆå¹¶å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">index</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;åˆå¹¶ç©ºé—´&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list<br>    <span class="hljs-keyword">if</span> index == <span class="hljs-number">0</span>:<br>        <span class="hljs-comment"># ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåªéœ€å‘ä¸‹åˆå¹¶</span><br>        <span class="hljs-keyword">if</span> free_list[index].start + free_list[index].length == free_list[index + <span class="hljs-number">1</span>].start:<br>            <span class="hljs-comment"># å½“å‰èµ·å€åŠ ä¸Šé•¿åº¦ç­‰äºä¸‹ä¸ªèµ·å€ï¼Œå¯ä»¥åˆå¹¶</span><br>            free_list[index].length = free_list[index].length + free_list[index + <span class="hljs-number">1</span>].length<br>            <span class="hljs-keyword">del</span> free_list[index + <span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">elif</span> index == <span class="hljs-built_in">len</span>(free_list) - <span class="hljs-number">1</span>:<br>        <span class="hljs-comment"># æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåªéœ€å‘ä¸Šåˆå¹¶</span><br>        <span class="hljs-keyword">if</span> free_list[index - <span class="hljs-number">1</span>].start + free_list[index - <span class="hljs-number">1</span>].length == free_list[index].start:<br>            <span class="hljs-comment"># ä¸Šä¸ªèµ·å€åŠ ä¸Šé•¿åº¦ç­‰äºå½“å‰èµ·å€ï¼Œå¯ä»¥åˆå¹¶</span><br>            free_list[index - <span class="hljs-number">1</span>].length = free_list[index - <span class="hljs-number">1</span>].length + free_list[index].length<br>            <span class="hljs-keyword">del</span> free_list[index]<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># å‘ä¸Šå‘ä¸‹å‡è¦æ£€æŸ¥</span><br>        <span class="hljs-keyword">if</span> free_list[index].start + free_list[index].length == free_list[index + <span class="hljs-number">1</span>].start:<br>            <span class="hljs-comment"># å½“å‰èµ·å€åŠ ä¸Šé•¿åº¦ç­‰äºä¸‹ä¸ªèµ·å€ï¼Œå¯ä»¥åˆå¹¶</span><br>            free_list[index].length = free_list[index].length + free_list[index + <span class="hljs-number">1</span>].length<br>            <span class="hljs-keyword">del</span> free_list[index + <span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">if</span> free_list[index - <span class="hljs-number">1</span>].start + free_list[index - <span class="hljs-number">1</span>].length == free_list[index].start:<br>            <span class="hljs-comment"># ä¸Šä¸ªèµ·å€åŠ ä¸Šé•¿åº¦ç­‰äºå½“å‰èµ·å€ï¼Œå¯ä»¥åˆå¹¶</span><br>            free_list[index - <span class="hljs-number">1</span>].length = free_list[index - <span class="hljs-number">1</span>].length + free_list[index].length<br>            <span class="hljs-keyword">del</span> free_list[index]<br>        <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><p>ç”±äºæˆ‘ä»¬åœ¨å›æ”¶çš„æ—¶å€™é‡æ–°â€œæ•´ç†â€ï¼ˆæ’åºï¼‰äº†ç©ºé—²åˆ†åŒºåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„ç©ºé—²åˆ†åŒºç°åœ¨æ˜¯è¿ç»­ï¼ˆæœ‰åºï¼‰çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨ä¸‹æ ‡è¿›è¡Œæ•°æ®å¤„ç†ã€‚<br />ä¸è¿‡åœ¨ä¸Šä¸‹å‡è¦å›æ”¶çš„æ—¶å€™ï¼Œä¸è¦æé”™äº†æ•°ç»„ä¸‹æ ‡ä»¥åŠåˆå¹¶å…ˆåé¡ºåºã€åˆå¹¶çš„åº”è¯¥æ˜¯å“ªä¸ªç©ºé—²åˆ†åŒºã€‚</p><h2 id="æµ‹è¯•ä»£ç "><a class="markdownIt-Anchor" href="#æµ‹è¯•ä»£ç "></a> æµ‹è¯•ä»£ç </h2><p>ä¸ºäº†æ–¹ä¾¿æå‰æä¾›äº†ä¸€ç‚¹æ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># é¢„è¾“å…¥æ•°æ®</span><br>    free_1 = Free(<span class="hljs-number">10</span>, <span class="hljs-number">16</span>)<br>    free_2 = Free(<span class="hljs-number">36</span>, <span class="hljs-number">14</span>)<br>    free_3 = Free(<span class="hljs-number">55</span>, <span class="hljs-number">10</span>)<br>    free_4 = Free(<span class="hljs-number">70</span>, <span class="hljs-number">30</span>)<br>    free_list.append(free_1)<br>    free_list.append(free_2)<br>    free_list.append(free_3)<br>    free_list.append(free_4)<br>    job_1 = Allocated(<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-number">26</span>, <span class="hljs-number">10</span>)<br>    job_2 = Allocated(<span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-number">50</span>, <span class="hljs-number">5</span>)<br>    job_3 = Allocated(<span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-number">65</span>, <span class="hljs-number">5</span>)<br>    allocated_list.append(job_1)<br>    allocated_list.append(job_2)<br>    allocated_list.append(job_3)<br>    input_data()<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆä»£ç éƒ¨åˆ†åˆ°è¿™å°±å ‚å ‚å®Œç»“å•¦</p><h1 id="è¿è¡Œç»“æœ"><a class="markdownIt-Anchor" href="#è¿è¡Œç»“æœ"></a> è¿è¡Œç»“æœ</h1><p>è¿™éƒ¨åˆ†è¿˜è¯·å¤§å®¶è‡ªè¡ŒéªŒè¯ï¼ˆå› ä¸ºä¸æƒ³æ”¾å›¾â€¦ï¼‰</p><h1 id="å°¾å£°"><a class="markdownIt-Anchor" href="#å°¾å£°"></a> å°¾å£°</h1><h2 id="sfont-size3-facemicrosoft-yaheiå°¾å£°å°±æ˜¯æ²¡æœ‰å°¾å£°-fonts"><a class="markdownIt-Anchor" href="#sfont-size3-facemicrosoft-yaheiå°¾å£°å°±æ˜¯æ²¡æœ‰å°¾å£°-fonts"></a> <s><font size=3 face='Microsoft YaHei'>å°¾å£°å°±æ˜¯æ²¡æœ‰å°¾å£°ã€‚</font></s></h2><p align="center"><img src="/img/alice_happy.jpg" alt="è¿™é‡Œæœ‰ä¸€åªçˆ±ä¸½ä¸" style="width:150px; height:150px;"></p><p align="center">å¸Œæœ›æœ¬æ–‡ç« èƒ½å¤Ÿå¸®åˆ°æ‚¨~</p>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå­¦ä¹ ç¬”è®°â€”â€”åˆ—è¡¨ä¸­çš„æ–¹æ³•</title>
    <link href="/2022/04/20/python-learning-2/"/>
    <url>/2022/04/20/python-learning-2/</url>
    
    <content type="html"><![CDATA[<h1 id="åˆ—è¡¨ä¸­çš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#åˆ—è¡¨ä¸­çš„æ–¹æ³•"></a> åˆ—è¡¨ä¸­çš„æ–¹æ³•</h1><p>æˆ‘ä»¬å…ˆå®šä¹‰(çº¦å®šå¥½)ä¸€ä¸ªç”¨äºç¤ºä¾‹çš„åˆ—è¡¨ï¼Œä»¥æ–¹ä¾¿åç»­è°ƒç”¨å®ƒã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>,]<br></code></pre></td></tr></table></figure><h2 id="appendeæ–¹æ³•"><a class="markdownIt-Anchor" href="#appendeæ–¹æ³•"></a> <code>append(e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />åœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´  e</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.append(<span class="hljs-number">6</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br></code></pre></td></tr></table></figure><h2 id="clearæ–¹æ³•"><a class="markdownIt-Anchor" href="#clearæ–¹æ³•"></a> <code>clear()</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />åˆ é™¤æ‰€æœ‰å…ƒç´ </p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.clear()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[]<br></code></pre></td></tr></table></figure><h2 id="copyæ–¹æ³•"><a class="markdownIt-Anchor" href="#copyæ–¹æ³•"></a> <code>copy()</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />å¯¹åˆ—è¡¨è¿›è¡Œ<strong>æµ…å¤åˆ¶</strong></p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">stock</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num</span>):<br><span class="hljs-meta">... </span>        self.num = num<br>        <br><span class="hljs-meta">&gt;&gt;&gt; </span>A = stock(<span class="hljs-number">5</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list = [A]<br><span class="hljs-meta">&gt;&gt;&gt; </span>b_list = a_list.copy()<br><span class="hljs-meta">&gt;&gt;&gt; </span>A.num = <span class="hljs-number">4</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b_list[<span class="hljs-number">0</span>].num<br><span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼šè¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªæ¦‚å¿µï¼š<strong>æµ…å¤åˆ¶ï¼ˆæµ…æ‹·è´ï¼‰<strong>å’Œ</strong>æ·±å¤åˆ¶ï¼ˆæ·±æ‹·è´ï¼‰</strong>ã€‚</p><p>â€œ<strong>æµ…å¤åˆ¶</strong>æ˜¯æŒ‡æ„å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¯¹è±¡ï¼Œç„¶åå¡«å……åŸå¯¹è±¡ä¸­å­å¯¹è±¡çš„å¼•ç”¨ã€‚æœ¬è´¨ä¸Šæµ…å¤åˆ¶åªæ‰§è¡Œä¸€å±‚ï¼Œå¤åˆ¶è¿‡ç¨‹ä¸ä¼šé€’å½’ï¼Œå› æ­¤ä¸ä¼šåˆ›å»ºå­å¯¹è±¡çš„å‰¯æœ¬ã€‚<br /><strong>æ·±å¤åˆ¶</strong>æ˜¯é€’å½’å¤åˆ¶ï¼Œé¦–å…ˆæ„é€ ä¸€ä¸ªæ–°çš„å®¹å™¨å¯¹è±¡ï¼Œç„¶åé€’å½’åœ°å¡«å……åŸå§‹å¯¹è±¡ä¸­å­å¯¹è±¡çš„å‰¯æœ¬ã€‚â€<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[1]</span></a></sup></p><h2 id="counteæ–¹æ³•"><a class="markdownIt-Anchor" href="#counteæ–¹æ³•"></a> <code>count(e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />åˆ—è¡¨ä¸­ e å…ƒç´ å‡ºç°çš„æ¬¡æ•°</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.count(<span class="hljs-number">1</span>)<br><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="extenditæ–¹æ³•"><a class="markdownIt-Anchor" href="#extenditæ–¹æ³•"></a> <code>extend(it)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />å°†å¯è¿­ä»£å¯¹è±¡ it é‡Œçš„å…ƒç´ æ·»åŠ åˆ°å°¾éƒ¨</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>b_list = [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.extend(b_list)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><h2 id="indexeæ–¹æ³•"><a class="markdownIt-Anchor" href="#indexeæ–¹æ³•"></a> <code>index(e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />æ‰¾åˆ° e åœ¨åºåˆ—ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.index(<span class="hljs-number">4</span>)<br><span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h2 id="inserti-eæ–¹æ³•"><a class="markdownIt-Anchor" href="#inserti-eæ–¹æ³•"></a> <code>insert(i, e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />åœ¨ç´¢å¼• i å¤„æ·»åŠ ç©ºé—´ï¼Œå¹¶å°† e å…ƒç´ æ’å…¥åˆ°è¿™ä¸ªåœ°æ–¹</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.insert(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure><h2 id="popiæ–¹æ³•"><a class="markdownIt-Anchor" href="#popiæ–¹æ³•"></a> <code>pop([i])</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />åˆ é™¤ç´¢å¼• i ä½ç½®çš„å€¼å¹¶<strong>è¿”å›</strong>è¿™ä¸ªå€¼ï¼Œi çš„é»˜è®¤å€¼ä¸ºæœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.pop(<span class="hljs-number">0</span>)<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.pop()<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><h2 id="removeeæ–¹æ³•"><a class="markdownIt-Anchor" href="#removeeæ–¹æ³•"></a> <code>remove(e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />åˆ é™¤åˆ—è¡¨é‡Œç¬¬ä¸€æ¬¡å‡ºç°çš„ e å…ƒç´ </p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.remove(<span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure><h2 id="reverseæ–¹æ³•"><a class="markdownIt-Anchor" href="#reverseæ–¹æ³•"></a> <code>reverse()</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />åè½¬åˆ—è¡¨å…ƒç´ çš„æ’åˆ—é¡ºåº</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.reverse()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><h2 id="sortkey-reverseæ–¹æ³•"><a class="markdownIt-Anchor" href="#sortkey-reverseæ–¹æ³•"></a> <code>sort([key], [reverse])</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br />å°±åœ°å¯¹åˆ—è¡¨è¿›è¡Œæ’åºï¼Œreverseé»˜è®¤å€¼ä¸ºFalse</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.sort(reverse = <span class="hljs-literal">True</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š<br />å»ºè®®é…åˆ<a href="https://map1e-g.github.io/2022/04/17/python-essay-1/">è¿™ç¯‡éšç¬”</a>é£Ÿç”¨</p><hr /><p align="center"><img src="/img/alice_happy.jpg" alt="è¿™é‡Œæœ‰ä¸€åªçˆ±ä¸½ä¸" style="width:150px; height:150px;"></p><p align="center">å¸Œæœ›æœ¬æ–‡ç« èƒ½å¤Ÿå¸®åˆ°æ‚¨~</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonéšç¬”-1</title>
    <link href="/2022/04/17/python-essay-1/"/>
    <url>/2022/04/17/python-essay-1/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1><p>å…¶å®å°±æ˜¯æƒ³è¡¥å……ä¸‹å¤šé“ç³»ç»Ÿä½œä¸šé‚£ç¯‡æ–‡ç« é‡Œè®²åˆ°çš„ä¸œè¥¿ï¼ˆæŒ‡getMethodå‡½æ•°ï¼‰ï¼Œè¡¥å……ä¸‹ç›¸å…³çŸ¥è¯†æ–¹ä¾¿å„ä½ç†è§£ã€‚</p><h1 id="æ­£æ–‡"><a class="markdownIt-Anchor" href="#æ­£æ–‡"></a> æ­£æ–‡</h1><h2 id="å‰ååŒä¸‹åˆ’çº¿æ–¹æ³•"><a class="markdownIt-Anchor" href="#å‰ååŒä¸‹åˆ’çº¿æ–¹æ³•"></a> å‰ååŒä¸‹åˆ’çº¿æ–¹æ³•</h2><p>åŒæ—¶å…·æœ‰å‰ååŒä¸‹åˆ’çº¿çš„åç§°åœ¨Pythonä¸­æœ‰ç‰¹æ®Šç”¨é€”ï¼Œæˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„åº”è¯¥å°±æ˜¯<code>__init__</code>äº†ï¼Œæ„é€ å¯¹è±¡å‡½æ•°ã€‚å½“ç„¶å•¦ï¼ŒPythonè¿˜æ˜¯æœ‰éå¸¸å¤šçš„å¯¹è±¡å±æ€§çš„ï¼Œå¦‚æœæƒ³äº†è§£æ›´å¤šå¯¹è±¡å±æ€§ï¼Œå¯ä»¥è°ƒç”¨<code>dir</code>å‡½æ•°ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">dir</span>(<span class="hljs-built_in">max</span>)<br>[<span class="hljs-string">&#x27;__call__&#x27;</span>, <span class="hljs-string">&#x27;__class__&#x27;</span>, <span class="hljs-string">&#x27;__delattr__&#x27;</span>, <span class="hljs-string">&#x27;__dir__&#x27;</span>, <span class="hljs-string">&#x27;__doc__&#x27;</span>, <br><span class="hljs-string">&#x27;__eq__&#x27;</span>, <span class="hljs-string">&#x27;__format__&#x27;</span>, <span class="hljs-string">&#x27;__ge__&#x27;</span>, <span class="hljs-string">&#x27;__getattribute__&#x27;</span>, <span class="hljs-string">&#x27;__gt__&#x27;</span>, <br><span class="hljs-string">&#x27;__hash__&#x27;</span>, <span class="hljs-string">&#x27;__init__&#x27;</span>, <span class="hljs-string">&#x27;__init_subclass__&#x27;</span>, <span class="hljs-string">&#x27;__le__&#x27;</span>, <span class="hljs-string">&#x27;__lt__&#x27;</span>, <br><span class="hljs-string">&#x27;__module__&#x27;</span>, <span class="hljs-string">&#x27;__name__&#x27;</span>, <span class="hljs-string">&#x27;__ne__&#x27;</span>, <span class="hljs-string">&#x27;__new__&#x27;</span>, <span class="hljs-string">&#x27;__qualname__&#x27;</span>,<br> <span class="hljs-string">&#x27;__reduce__&#x27;</span>, <span class="hljs-string">&#x27;__reduce_ex__&#x27;</span>, <span class="hljs-string">&#x27;__repr__&#x27;</span>, <span class="hljs-string">&#x27;__self__&#x27;</span>, <span class="hljs-string">&#x27;__setattr__&#x27;</span>,<br>  <span class="hljs-string">&#x27;__sizeof__&#x27;</span>, <span class="hljs-string">&#x27;__str__&#x27;</span>, <span class="hljs-string">&#x27;__subclasshook__&#x27;</span>, <span class="hljs-string">&#x27;__text_signature__&#x27;</span>]<br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œæˆ‘ç›´æ¥æŸ¥çœ‹äº†ä¸€ä¸ªå†…ç½®å‡½æ•°<code>max</code>çš„å±æ€§ï¼Œå¯ä»¥çœ‹åˆ°æœ‰éå¸¸å¤šå±æ€§ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¿…å…¨éƒ¨çŸ¥é“ä»–ä»¬éƒ½ç”¨æ¥å¹²å˜›ã€‚<br />ä»”ç»†çœ‹çš„è¯ä¼šå‘ç°ï¼Œ<code>__lt__</code>ä¹Ÿåœ¨é‡Œé¢ï¼Œé‚£ä¹ˆå®ƒåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å®ƒä»£è¡¨çš„æ˜¯<strong>æ¯”è¾ƒè¿ç®—ç¬¦â€™&lt;â€™</strong>ã€‚</p><h2 id="sortå‡½æ•°"><a class="markdownIt-Anchor" href="#sortå‡½æ•°"></a> sortå‡½æ•°</h2><p>å…ˆä¸ŠPythonå®˜æ–¹æ–‡æ¡£<a href="https://docs.python.org/3.9/library/stdtypes.html#list.sort">ç‚¹æˆ‘è·³è½¬</a>ï¼š</p><blockquote><p>sort(*, key=None, reverse=False)</p><blockquote><p>This method sorts the list in place, using only &lt; comparisons between items. Exceptions are not suppressed - if any comparison operations fail, the entire sort operation will fail (and the list will likely be left in a partially modified state).</p></blockquote></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>sort</code>æ–¹æ³•å…¶å®æ˜¯æ ¹æ® &lt; è¿ç®—ç¬¦æ¥è¿›è¡Œæ’åºçš„ï¼Œä¹Ÿå°±æ˜¯å‡åºæ’åºï¼Œå¦‚æœè§‰å¾—æ–‡å­—éš¾ä»¥è¯»æ‡‚ï¼Œä¸å¦¨å†™ç‚¹ä¸œè¥¿è¯•è¯•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>=[<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>.sort()<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿåº”è¯¥è®°ä½ä¸€ç‚¹ï¼Œ<code>sort</code>çš„æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼Œå½“ä¸¤ä¸ªå€¼ç›¸ç­‰çš„æ—¶å€™ï¼Œå³ä½¿æ˜¯æ’åºåå®ƒä»¬çš„ç›¸å¯¹ä½ç½®ä¹Ÿä¸ä¼šå˜ã€‚<br /><em><strong>æ‰©å±•</strong></em></p><blockquote><p>ä»ä¸Šé¢æˆ‘ä»¬èƒ½çœ‹åˆ°<code>sort</code>è¿˜æ”¯æŒä¸¤ä¸ªé¢å¤–çš„å‚æ•°ï¼ˆæ³¨æ„æ˜¯keyword-only argumentsï¼Œä¼ å…¥å¿…é¡»åƒè¿™æ ·ï¼š<code>key=xxx, reverse=xxx</code>ï¼‰<br />reverseå¾ˆå¥½ç†è§£ï¼Œä¼ å…¥ä¸€ä¸ªBooleanå€¼ï¼ˆTrue or Falseï¼‰ï¼Œå¦‚æœæ˜¯Trueåˆ™å€’åºæ’åˆ—ï¼Œé»˜è®¤ä¸ºFalseã€‚<br />keyåˆ™ç”¨æ¥äº§ç”Ÿæ’åºç®—æ³•æ‰€ä¾èµ–çš„å¯¹æ¯”å…³é”®å­—ï¼Œæ¯”å¦‚è¯´ï¼Œåœ¨å¯¹ä¸€äº›å­—ç¬¦ä¸²æ’åºæ—¶ï¼Œå¯ä»¥ç”¨<code>key=str.lower</code>æ¥å®ç°å¿½ç•¥å¤§å°å†™çš„æ’åºï¼Œæˆ–è€…ç”¨<code>key=len</code>æ¥å®ç°åŸºäºå­—ç¬¦ä¸²é•¿åº¦çš„æ’åºã€‚</p></blockquote><h1 id="å°ç»“"><a class="markdownIt-Anchor" href="#å°ç»“"></a> å°ç»“</h1><p>çœ‹å®Œä¸Šé¢è¿™ç‚¹ï¼Œå†ç»“åˆå‡½æ•°å­¦ä¹ ç¬”è®°é‚£é‡Œçš„ä¸€äº›çŸ¥è¯†ï¼Œå…¶å®å°±åº”è¯¥èƒ½æ¸…æ¥šçŸ¥é“<code>getMethod</code>çš„æœºåˆ¶å’Œä½œç”¨ä»€ä¹ˆçš„äº†ï¼Œä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ ¹æ®å­—ç¬¦ä¸²çš„ä¸åŒè¿”å›ä¸åŒçš„å‡½æ•°å¯¹è±¡ï¼Œç”¨æ¥é‡è½½JCBç±»çš„<code>__lt__</code>å±æ€§ï¼ˆåœ¨Pythonä¸­æ˜¯å¯ä»¥é‡è½½è¿ç®—ç¬¦çš„ï¼‰ï¼Œè¿™æ ·åœ¨ä¹‹åï¼Œæˆ‘ä»¬å¯¹å«æœ‰JCBç±»å¯¹è±¡çš„åˆ—è¡¨ä¸­è°ƒç”¨<code>sort</code>æ–¹æ³•ï¼Œå°±å¯ä»¥æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ’åºæ–¹å¼æ¥æ’åºåˆ—è¡¨äº†ã€‚</p><hr /><p align="center"><img src="/img/alice_happy.jpg" alt="è¿™é‡Œæœ‰ä¸€åªçˆ±ä¸½ä¸" style="width:150px; height:150px;"></p><p align="center">å¸Œæœ›æœ¬æ–‡ç« èƒ½å¤Ÿå¸®åˆ°æ‚¨~</p>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå­¦ä¹ ç¬”è®°â€”â€”å‡½æ•°</title>
    <link href="/2022/04/14/python-learning-1/"/>
    <url>/2022/04/14/python-learning-1/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>æœ¬æ–‡ç« ç”¨åˆ°çš„è¯­è¨€ï¼šPython</p>          </div><h1 id="å‡½æ•°ä½œä¸ºå¯¹è±¡"><a class="markdownIt-Anchor" href="#å‡½æ•°ä½œä¸ºå¯¹è±¡"></a> å‡½æ•°ä½œä¸ºå¯¹è±¡</h1><p>åœ¨Pythonä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°åˆ†é…ç»™å˜é‡ã€å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­ã€ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œä¹Ÿèƒ½ä½œä¸ºå…¶ä»–å‡½æ•°çš„è¿”å›å€¼ã€‚<br />åˆæ¬¡çœ‹åˆ°è¿™äº›å†…å®¹çš„æ—¶å€™ï¼Œæˆ‘æ˜¯æŒºæƒŠè®¶è€Œä¸”å‘è‡ªå†…å¿ƒçš„â€œã™ã”ã„ï¼â€å¹¶ä¸”è¿«ä¸åŠå¾…åœ°æƒ³è¦ç†è§£å’ŒæŒæ¡ã€‚<br />æ„Ÿè§‰å†™æ–‡ç« å°±æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„æ–¹å¼ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä¼šå°è¯•ç”¨è‡ªå·±æ‰€ç†è§£åˆ°çš„ä¸œè¥¿æ¥å®Œæˆè¿™ç¯‡æ–‡ç« ã€‚<br />å¦‚æœæœ‰ä»€ä¹ˆé—®é¢˜çš„è¯å¯ä»¥å°è¯•è”ç³»æˆ‘~ <a href="https://map1e-g.github.io/about/">è”ç³»æˆ‘</a></p><h2 id="æ€ä¹ˆç†è§£å‡½æ•°æ˜¯å¯¹è±¡"><a class="markdownIt-Anchor" href="#æ€ä¹ˆç†è§£å‡½æ•°æ˜¯å¯¹è±¡"></a> æ€ä¹ˆç†è§£å‡½æ•°æ˜¯å¯¹è±¡</h2><p>ç°åœ¨æœ‰è¿™æ ·ä¸€ä¸ªä¸œè¥¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-keyword">return</span> a + b<br></code></pre></td></tr></table></figure><p>è¿™å°±æ˜¯ä¸€ä¸ªåŠ æ³•å‡½æ•°ï¼Œä¼ å…¥ a å’Œ b çš„å€¼ç„¶åè¿”å›äºŒè€…ç›¸åŠ çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°è°ƒç”¨å®ƒå¾—åˆ°è¿™æ ·ä¸€ä¸ªç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br><span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ç°åœ¨è¿™ä¹ˆåšçš„è¯ï¼ˆå¯ä»¥æ€è€ƒä¸€ä¸‹è¿™æ®µä»£ç åšäº†ä»€ä¹ˆä»¥åŠè¾“å‡ºçš„ç»“æœï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>another_add = add<br><span class="hljs-meta">&gt;&gt;&gt; </span>another_add(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><p>æ²¡é”™ï¼Œè¾“å‡ºçš„ç»“æœå°±æ˜¯<code>5</code><br />æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠåŸæ¥å®šä¹‰çš„<code>add</code>å‡½æ•°ç”¨delåˆ é™¤ï¼Œå†è°ƒç”¨<code>another_add</code>è¯•è¯•çœ‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> add<br><span class="hljs-meta">&gt;&gt;&gt; </span>add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>NameError: name <span class="hljs-string">&#x27;add&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>another_add(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><p>ç°åœ¨<code>add</code>ç”¨ä¸äº†äº†ï¼Œä½†æ˜¯<code>another_add</code>è¿˜èƒ½ç”¨ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå‡½æ•°å¯¹è±¡åŠå…¶åç§°æ˜¯ç›¸äº’ç‹¬ç«‹çš„å®ä½“ï¼š<strong>æŒ‡å‘å‡½æ•°çš„å˜é‡å’Œå‡½æ•°æœ¬èº«å®é™…ä¸Šæ˜¯å½¼æ­¤ç‹¬ç«‹çš„</strong>ã€‚<br />è¿™è¾¹å¯ä»¥äº†è§£ä¸€ä¸‹ä¸‹é¢è¿™äº›ä¸œè¥¿ï¼ˆå¼•ç”¨<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPythonç¼–ç¨‹ ä»å…¥é—¨åˆ°å®è·µï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ [ç¾]åŸƒé‡Œå…‹Â·é©¬ç‘Ÿæ–¯ äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[1]</span></a></sup>ï¼‰ï¼š</p><blockquote><p>å˜é‡æ˜¯æ ‡ç­¾</p><blockquote><p>å˜é‡å¸¸è¢«æè¿°ä¸ºå¯ç”¨äºå­˜å‚¨å€¼çš„ç›’å­ã€‚<br /><strong>ä¸€ç§å¥½å¾—å¤šçš„å®šä¹‰æ˜¯ï¼Œå˜é‡æ˜¯å¯ä»¥èµ‹ç»™å€¼çš„æ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥è¯´å˜é‡æŒ‡å‘ç‰¹å®šçš„å€¼ã€‚</strong></p></blockquote></blockquote><p><em><strong>ä»¥ä¸‹æ˜¯æ‰©å±•</strong></em></p><blockquote><p>Pythonåœ¨åˆ›å»ºå‡½æ•°æ—¶éƒ½ä¼šä¸ºæ¯ä¸ªå‡½æ•°é™„åŠ ä¸€ä¸ªç”¨äºè°ƒè¯•çš„å­—ç¬¦ä¸²æ ‡è¯†ç¬¦ï¼Œä½¿ç”¨__name__å±æ€§æ¥è®¿é—®å®ƒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>add.__name__<br><span class="hljs-string">&#x27;add&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>another.__name__<br><span class="hljs-string">&#x27;add&#x27;</span><br></code></pre></td></tr></table></figure><p>PS:å½“ç„¶æ˜¯åœ¨<code>add</code>æ²¡è¢«åˆ é™¤ä¹‹å‰è°ƒç”¨çš„ï¼Œåˆ é™¤åè°ƒç”¨äº†ä¼šæŠ¥é”™ï¼š<code>NameError: name 'add' is not defined</code><br />ç”±äºæ˜¯åœ¨åˆ›å»ºå‡½æ•°çš„æ—¶å€™ç»™å‡ºçš„æ ‡è¯†ç¬¦ï¼Œæ‰€ä»¥å³ä½¿æŠŠè¿™ä¸ªå‡½æ•°åˆ†é…ç»™äº†å¦ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªæ ‡è¯†ç¬¦ä¹Ÿä¸ä¼šå˜</p></blockquote><h2 id="æŠŠå‡½æ•°å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­"><a class="markdownIt-Anchor" href="#æŠŠå‡½æ•°å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­"></a> æŠŠå‡½æ•°å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­ï¼</h2><p>ç”±äºå‡½æ•°æ˜¯ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥æŠŠå‡½æ•°ä¹Ÿå­˜å‚¨åœ¨æ•°æ®ç»“æ„å½“ä¸­ï¼Œå¹¶ä¸”è®¿é—®æˆ–ä½¿ç”¨ä»–ä»¬ã€‚<br />æ¯”å¦‚æŠŠä»–ä»¬å¡è¿›åˆ—è¡¨é‡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>funcs = [another_add, <span class="hljs-built_in">max</span>, <span class="hljs-built_in">pow</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>funcs<br>[&lt;function add at <span class="hljs-number">0x0000024777A49E50</span>&gt;, &lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">max</span>&gt;, &lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">pow</span>&gt;]<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> fun <span class="hljs-keyword">in</span> funcs:<br><span class="hljs-meta">... </span>   <span class="hljs-built_in">print</span>(fun, fun(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br>&lt;function add at <span class="hljs-number">0x0000024777A49E50</span>&gt; <span class="hljs-number">5</span><br>&lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">max</span>&gt; <span class="hljs-number">3</span><br>&lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">pow</span>&gt; <span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥æŠŠå®ƒä»¬å¡è¿›å­—å…¸é‡Œï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬å°è¯•è®¿é—®è¿™ä¸ªå­—å…¸ï¼Œç„¶åè¯•ç€éå†è¿™ä¸ªå­—å…¸å¹¶è°ƒç”¨è¿™äº›å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>dic_funcs = &#123;<span class="hljs-string">&#x27;another_add&#x27;</span>:another_add, <span class="hljs-string">&#x27;max&#x27;</span>:<span class="hljs-built_in">max</span>, <span class="hljs-string">&#x27;pow&#x27;</span>:<span class="hljs-built_in">pow</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>dic_funcs<br>&#123;<span class="hljs-string">&#x27;another_add&#x27;</span>: &lt;function add at <span class="hljs-number">0x0000024777A49E50</span>&gt;, <span class="hljs-string">&#x27;max&#x27;</span>: &lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">max</span>&gt;, <span class="hljs-string">&#x27;pow&#x27;</span>: &lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">pow</span>&gt;&#125;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> fun <span class="hljs-keyword">in</span> dic_funcs.values():<br><span class="hljs-meta">... </span>   <span class="hljs-built_in">print</span>(fun, fun(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br>    <br>&lt;function add at <span class="hljs-number">0x0000024777A49E50</span>&gt; <span class="hljs-number">5</span><br>&lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">max</span>&gt; <span class="hljs-number">3</span><br>&lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">pow</span>&gt; <span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><p>å¹¶ä¸”ï¼Œåœ¨è¿™äº›æ•°æ®ç»“æ„é‡Œçš„å‡½æ•°å¯¹è±¡éƒ½å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦ç‰¹æ„ä¸ºä»–ä»¬åˆ†é…ä¸€ä¸ªå˜é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>funcs[<span class="hljs-number">0</span>](<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-number">5</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>dic_funcs[<span class="hljs-string">&#x27;max&#x27;</span>](<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><p><em><strong>æœ¬å°èŠ‚çš„è¡¥å……</strong></em></p><blockquote><p><code>&lt;built-in function max&gt;</code>æŒ‡å‡º<code>max</code>å‡½æ•°æ˜¯pythonçš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œæ‰€ä»¥ç»™å‡ºçš„ä¸æ˜¯åœ°å€<br /><code>max</code>å‡½æ•°ç”¨äºæŸ¥æ‰¾å¯è¿­ä»£çš„æœ€å¤§å€¼ï¼Œå…³äºå¯è¿­ä»£ï¼Œåœ¨ä¹‹åçš„æ–‡ç« å¯èƒ½ä¼šä»‹ç»ï¼ˆä¹Ÿæ˜¯pythonç‰¹æ€§å“¦ï¼‰<br /><code>pow(x, y)</code>å‡½æ•°å°±æ˜¯å¹³æ–¹å‡½æ•°äº†ï¼Œå°†xçš„å€¼è¿”å›ä¸ºyçš„å¹‚</p></blockquote><h2 id="å°†å‡½æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°"><a class="markdownIt-Anchor" href="#å°†å‡½æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°"></a> å°†å‡½æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°</h2><p>ç”±äºå‡½æ•°æ˜¯å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ã€‚<br />è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ç†è§£ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_max_or_min</span>(<span class="hljs-params">fun</span>):<br>value = fun(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>)<br><span class="hljs-built_in">print</span>(value)<br></code></pre></td></tr></table></figure><p><code>get_max_or_min</code>å‡½æ•°è·å–ä¸€ä¸ªå‡½æ•°å‚æ•°ï¼Œå¹¶è°ƒç”¨è¿™ä¸ªå‡½æ•°å¾—åˆ°ä¸€ä¸ªå€¼ï¼Œç„¶åå°†å®ƒæ‰“å°å‡ºæ¥ï¼Œåœ¨è¿™é‡Œå¯ä»¥ç”±å‡½æ•°çš„åç§°çœ‹å‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥å‘å…¶ä¸­ä¼ å…¥<code>max</code>æˆ–<code>min</code>å‡½æ•°<br />è®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>get_max_or_min(<span class="hljs-built_in">max</span>)<br><span class="hljs-number">10</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>get_max_or_min(<span class="hljs-built_in">min</span>)<br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°éƒ½è¾“å‡ºäº†æ­£ç¡®çš„ç»“æœ<br />â€œå°†å‡½æ•°å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°çš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¯ä»¥ç”¨æ¥å°†ç¨‹åºä¸­çš„<strong>è¡Œä¸º</strong>æŠ½è±¡å‡ºæ¥å¹¶ä¼ é€’å‡ºå»ã€‚â€<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[2]</span></a></sup><br /><em><strong>æ‰©å±•</strong></em><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[2]</span></a></sup></p><blockquote><p>â€œèƒ½æ¥å—å…¶ä»–å‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°ç§°ä¸º<strong>é«˜é˜¶å‡½æ•°</strong>ã€‚â€<br />â€œæ¯”å¦‚<code>map</code>å‡½æ•°ï¼Œ<code>map</code>æ¥å—ä¸€ä¸ªå‡½æ•°å¯¹è±¡å’Œä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œç„¶ååœ¨å¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸Šè°ƒç”¨è¯¥å‡½æ•°æ¥ç”Ÿæˆç»“æœã€‚â€<br />è¿™é‡Œæˆ‘ä»¬è°ƒç”¨æˆ‘ä»¬çš„<code>add</code>å‡½æ•°æ¥çœ‹çœ‹<code>map</code>å‡½æ•°åšäº†ä»€ä¹ˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(add, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]))<br>[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>]<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œ<code>map</code>å‡½æ•°éå†äº†æ•´ä¸ªåˆ—è¡¨å¹¶å°†<code>add</code>å‡½æ•°åº”ç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œè€Œä¸”å¾—åˆ°äº†ä¸€ä¸ªæ–°åˆ—è¡¨å¯¹è±¡ï¼Œå­˜å‚¨ä¸¤æ•°ç›¸åŠ åçš„ç»“æœã€‚</p></blockquote><h2 id="åµŒå¥—å‡½æ•°"><a class="markdownIt-Anchor" href="#åµŒå¥—å‡½æ•°"></a> åµŒå¥—å‡½æ•°</h2><p>åœ¨Pythonä¸­ï¼Œç”šè‡³å¯ä»¥åœ¨å‡½æ•°ä¸­å®šä¹‰å‡½æ•°ï¼Œå°±æ˜¯ä¹‹å‰å†™å¤šé“ç³»ç»Ÿä½œä¸šè°ƒåº¦æ¨¡æ‹Ÿç¨‹åºæåˆ°è¿‡çš„ä¸œè¥¿ï¼ˆ<a href="https://map1e-g.github.io/2022/04/13/multi-JCB/">æˆ³æˆ‘è·³è½¬æ–‡ç« </a>ï¼‰<br />åœ¨è¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç”¨æ¥è®¡ç®—çš„å‡½æ•°ï¼Œæ ¹æ®ä¼ å…¥å­—ç¬¦ä¸²çš„ä¸åŒè¿”å›ä¸åŒçš„ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">cal</span>(<span class="hljs-params">text, x, y</span>):<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>):<br><span class="hljs-keyword">return</span> a + b<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sub</span>(<span class="hljs-params">a, b</span>):<br><span class="hljs-keyword">return</span> a - b<br><span class="hljs-keyword">if</span> text == <span class="hljs-string">&#x27;add&#x27;</span>:<br><span class="hljs-keyword">return</span> add(x, y)<br><span class="hljs-keyword">elif</span> text == <span class="hljs-string">&#x27;sub&#x27;</span>:<br><span class="hljs-keyword">return</span> sub(x, y)<br><span class="hljs-meta">&gt;&gt;&gt; </span>cal(<span class="hljs-string">&#x27;add&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>)<br><span class="hljs-number">8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>cal(<span class="hljs-string">&#x27;sub&#x27;</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>)<br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯åµŒå¥—å‡½æ•°çš„ä½œç”¨åŸŸï¼š<strong>ä»…åœ¨åˆ›å»ºå®ƒçš„å‡½æ•°çš„å†…éƒ¨</strong><br />å¦‚æœæˆ‘ä»¬æƒ³åœ¨å‡½æ•°å¤–éƒ¨ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„è¯ï¼Œå¯ä»¥åƒæˆ‘ä¸Šè¾¹æåˆ°çš„é‚£ç¯‡æ–‡ç« ä¸­é‚£æ ·ï¼Œåˆ›å»ºä¸€ä¸ªå˜é‡ï¼Œå¹¶æŠŠåµŒå¥—å‡½æ•°è¿”å›ç»™çˆ¶å‡½æ•°çš„è°ƒç”¨è€…ã€‚<br />åœ¨è¿™é‡Œï¼Œæˆ‘å°±å†™ä¸ªæ ¹æ®ä¼šå‘˜ç­‰çº§åˆ¤æ–­æ‰“æŠ˜åŠ›åº¦çš„å‡½æ•°æ¥ä½œä¸ºä¾‹å­å§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">discount</span>(<span class="hljs-params">level</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">platinum</span>(<span class="hljs-params">price</span>):<br>        <span class="hljs-keyword">return</span> price*<span class="hljs-number">0.75</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">gold</span>(<span class="hljs-params">price</span>):<br>        <span class="hljs-keyword">return</span> price*<span class="hljs-number">0.8</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sliver</span>(<span class="hljs-params">price</span>):<br>        <span class="hljs-keyword">return</span> price*<span class="hljs-number">0.85</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">copper</span>(<span class="hljs-params">price</span>):<br>        <span class="hljs-keyword">return</span> price*<span class="hljs-number">0.9</span><br>    <span class="hljs-keyword">if</span> level == <span class="hljs-number">4</span>:<br>        <span class="hljs-keyword">return</span> platinum<br>    <span class="hljs-keyword">elif</span> level == <span class="hljs-number">3</span>:<br>        <span class="hljs-keyword">return</span> gold<br>    <span class="hljs-keyword">elif</span> level == <span class="hljs-number">2</span>:<br>        <span class="hljs-keyword">return</span> sliver<br>    <span class="hljs-keyword">elif</span> level == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> copper<br></code></pre></td></tr></table></figure><p>ç„¶åå†æµ‹è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>discount(<span class="hljs-number">3</span>)<br>&lt;function discount.&lt;<span class="hljs-built_in">locals</span>&gt;.gold at <span class="hljs-number">0x000001CF0C9BE3A0</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_customer = discount(<span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_customer(<span class="hljs-number">100</span>)<br><span class="hljs-number">80.0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>discount(<span class="hljs-number">3</span>)(<span class="hljs-number">100</span>)<br><span class="hljs-number">80.0</span><br></code></pre></td></tr></table></figure><p><em>â€œè¿™æ„å‘³ç€å‡½æ•°ä¸ä»…å¯ä»¥é€šè¿‡å‚æ•°<strong>æ¥å—è¡Œä¸º</strong>ï¼Œè¿˜å¯ä»¥<strong>è¿”å›è¡Œä¸º</strong>ã€‚â€</em><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[2]</span></a></sup></p><h2 id="æ—¥åè®¡åˆ’"><a class="markdownIt-Anchor" href="#æ—¥åè®¡åˆ’"></a> æ—¥åè®¡åˆ’</h2><p>ä»¥åå­¦åˆ°çš„æœ‰å…³å‡½æ•°è¿™éƒ¨åˆ†çš„å†…å®¹ä¹Ÿä¼šä¸€èµ·åœ¨è¿™é‡Œæ›´æ–°ã€‚</p><hr /><p align="center"><img src="/img/alice_happy.jpg" alt="è¿™é‡Œæœ‰ä¸€åªçˆ±ä¸½ä¸" style="width:150px; height:150px;"></p><p align="center">å¸Œæœ›æœ¬æ–‡ç« èƒ½å¤Ÿå¸®åˆ°æ‚¨~</p><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>ã€ŠPythonç¼–ç¨‹ ä»å…¥é—¨åˆ°å®è·µï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ [ç¾]åŸƒé‡Œå…‹Â·é©¬ç‘Ÿæ–¯ äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾<a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ“ä½œç³»ç»ŸåŸç†â€”â€”å¤šé“ç³»ç»Ÿä½œä¸šè°ƒåº¦</title>
    <link href="/2022/04/13/multi-JCB/"/>
    <url>/2022/04/13/multi-JCB/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>æœ¬æ–‡ç« ç”¨åˆ°çš„è¯­è¨€ï¼šPython</p>          </div><h1 id="å‰è¨€"><a class="markdownIt-Anchor" href="#å‰è¨€"></a> å‰è¨€</h1><p>å…¶å®ä¸€å‘¨å‰å°±æŠŠç¨‹åºå†™å®Œäº†ï¼Œä½†æ˜¯å› ä¸ºåšå®¢æœ€è¿‘æ‰æ­å¥½ä»¥åŠæœ€è¿‘æ‰å­¦ä¹ äº†ä¸€æ‰‹markdownæ‰€ä»¥ç°åœ¨æ‰å¼€å§‹å†™<s><em>ï¼ˆç»å¯¹ä¸æ˜¯æˆ‘æ‡’ï¼ï¼‰</em></s><br />æ“ä½œç³»ç»Ÿè¯¾ç¨‹çš„ä½œä¸šï¼Œå…¶å®æŒºä¸æƒ³å†™çš„<s>ï¼ˆçœŸçš„ï¼‰</s>ï¼Œæ¯•ç«Ÿæˆ‘æ•°æ®ç»“æ„ä¸ç®—æ³•å­¦å¾—å¾ˆåƒåœ¾wwwï¼Œå°±å½“é¡ºä¾¿å­¦ä¹ pythonå¥½äº†</p><h1 id="åŸç†"><a class="markdownIt-Anchor" href="#åŸç†"></a> åŸç†</h1><p>è¿™éƒ¨åˆ†ç•¥è¿‡ã€‚ï¼ˆå› ä¸ºçœŸçš„æ²¡ä»€ä¹ˆå¥½å†™çš„ï¼Œä»¥åå†è¡¥å……ä¸€ä¸‹å§ï¼‰</p><blockquote><p>å¤åˆ¶å®éªŒè¯´æ˜ä¸Šçš„åŸè¯ï¼š</p><blockquote><p>ç”±äºåœ¨å¤šé“æ‰¹å¤„ç†ç³»ç»Ÿä¸­ï¼Œä¸€æ‰¹ä½œä¸šæŠ•å…¥è¿è¡Œï¼Œè°ƒåº¦ä½œä¸šæ—¶éœ€è¦æ ¹æ®å½“å‰ç³»ç»Ÿå„ç±»ç©ºé—²èµ„æºçš„æƒ…å†µé€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªä½œä¸šè¿›å…¥å†…å­˜ï¼Œå†æŒ‰ç…§è¿›ç¨‹è°ƒåº¦æ–¹å¼é€‰æ‹©ä¸€ä¸ªä½œä¸šçš„è¿›ç¨‹å ç”¨ CPUã€‚<br />æ¯ä¸ªä½œä¸šç”±ä¸€ä¸ªä½œä¸šæ§åˆ¶å—JCBè¡¨ç¤ºï¼ŒJCBå¯ä»¥åŒ…å«å¦‚ä¸‹ä¿¡æ¯ï¼šä½œä¸šåã€æäº¤æ—¶é—´ã€æ‰€éœ€çš„è¿è¡Œæ—¶é—´ã€æ‰€éœ€çš„èµ„æºã€ä½œä¸šçŠ¶æ€ã€é“¾æŒ‡é’ˆç­‰ç­‰ã€‚<br />ä½œä¸šçš„çŠ¶æ€å¯ä»¥æ˜¯ç­‰å¾…W(Wait)ã€è¿è¡ŒR(Run)å’Œå®ŒæˆF(Finish)ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ã€‚æ¯ä¸ªä½œä¸šçš„æœ€åˆçŠ¶æ€æ€»æ˜¯ç­‰å¾…Wã€‚<br />å„ä¸ªç­‰å¾…çš„ä½œä¸šæŒ‰ç…§æäº¤æ—¶åˆ»çš„å…ˆåæ¬¡åºæ’é˜Ÿï¼Œæ€»æ˜¯é¦–å…ˆè°ƒåº¦ç­‰å¾…é˜Ÿåˆ—ä¸­é˜Ÿé¦–çš„ä½œä¸šã€‚<br />æ¯ä¸ªä½œä¸šå®Œæˆåè¦æ‰“å°è¯¥ä½œä¸šçš„å¼€å§‹è¿è¡Œæ—¶åˆ»ã€å®Œæˆæ—¶åˆ»ã€å‘¨è½¬æ—¶é—´å’Œå¸¦æƒå‘¨è½¬æ—¶é—´ï¼Œè¿™ä¸€ç»„ä½œä¸šå®Œæˆåè¦è®¡ç®—å¹¶æ‰“å°è¿™ç»„ä½œä¸šçš„å¹³å‡å‘¨è½¬æ—¶é—´ã€å¸¦æƒå¹³å‡å‘¨è½¬æ—¶é—´ã€‚</p></blockquote></blockquote><h1 id="å®ç°"><a class="markdownIt-Anchor" href="#å®ç°"></a> å®ç°</h1><h2 id="æ ¸å¿ƒ"><a class="markdownIt-Anchor" href="#æ ¸å¿ƒ"></a> æ ¸å¿ƒ</h2><p>æœ‰ä¸¤éƒ¨åˆ†ï¼Œå…ˆè¯´ç¬¬ä¸€éƒ¨åˆ†ï¼šä½œä¸šæ§åˆ¶å—ï¼ˆJCBï¼‰<br />å…¶å®è¿™é‡Œå­˜çš„ä¸œè¥¿è¿‡å¤šäº†ï¼Œä½†æ˜¯å¥½å¤„å°±æ˜¯æ„æ€éƒ½å¾ˆæ¸…æ™°ï¼Œåé¢è®¡ç®—æ€»æ—¶é—´æˆ–è€…æ‰“å°ä¿¡æ¯ä»€ä¹ˆçš„ä¹Ÿæ–¹ä¾¿</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">JCB</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;ä½œä¸šæ§åˆ¶å—&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, job_name, commit_time, run_time, source</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;åˆå§‹åŒ–ä½œä¸šç¨‹åºå—&quot;&quot;&quot;</span><br>        self.job_name = job_name  <span class="hljs-comment"># ä½œä¸šåå­—</span><br>        self.commit_time = commit_time  <span class="hljs-comment"># ä½œä¸šæäº¤æ—¶é—´</span><br>        self.run_time = run_time  <span class="hljs-comment"># ä½œä¸šæ‰€éœ€æ—¶é—´</span><br>        self.start_time = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå¼€å§‹æ—¶é—´</span><br>        self.finish_time = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå®Œæˆæ—¶é—´</span><br>        self.rr = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå“åº”æ¯”</span><br>        self.status = <span class="hljs-string">&#x27;w&#x27;</span>  <span class="hljs-comment"># ç¨‹åºçŠ¶æ€ï¼Œwä¸ºç­‰å¾…ï¼Œrä¸ºè¿è¡Œï¼Œfä¸ºå®Œæˆ</span><br>        self.ta_time = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå‘¨è½¬æ—¶é—´</span><br>        self.wta_time = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå¸¦æƒå‘¨è½¬æ—¶é—´</span><br>        self.source = source  <span class="hljs-comment"># ä½œä¸šæ‰€éœ€èµ„æº</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">cul_rr</span>(<span class="hljs-params">self, clock</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è®¡ç®—ä½œä¸šç›¸åº”æ¯”&quot;&quot;&quot;</span><br>        self.rr = ((clock - self.commit_time) + self.run_time) / self.run_time<br></code></pre></td></tr></table></figure><p>ç„¶åæ˜¯ç¬¬äºŒéƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†ç”¨åˆ°äº†pythonçš„ç‰¹æ€§ï¼šåŒä¸‹åˆ’çº¿æ–¹æ³•ä»¥åŠåµŒå¥—å‡½æ•°ã€è¿”å›å‡½æ•°ç­‰ï¼Œè¿™é‡Œç”¨åˆ°çš„ç‰¹æ€§ä¼šæ”¾åˆ°åé¢è¦å†™çš„ä¸€äº›æ–‡ç« ä¸­æ›´è¯¦ç»†åœ°ä»‹ç»ã€‚<br />å…ˆçœ‹ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">getMethod</span>(<span class="hljs-params">method</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;ä¸åŒç®—æ³•çš„æ’åºæ–¹æ³•&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">FCFS_lt</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.commit_time &lt; other.commit_time<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">SJF_lt</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.run_time &lt; other.run_time<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">HRRF_lt</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.rr &gt; other.rr<br><br>    <span class="hljs-keyword">if</span> method == <span class="hljs-string">&#x27;FCFS&#x27;</span>:<br>        <span class="hljs-keyword">return</span> FCFS_lt<br>    <span class="hljs-keyword">elif</span> method == <span class="hljs-string">&#x27;SJF&#x27;</span>:<br>        <span class="hljs-keyword">return</span> SJF_lt<br>    <span class="hljs-keyword">elif</span> method == <span class="hljs-string">&#x27;HRRF&#x27;</span>:<br>        <span class="hljs-keyword">return</span> HRRF_lt<br></code></pre></td></tr></table></figure><p>è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ ¹æ®ä¸åŒçš„å­—ç¬¦ä¸²è¿”å›ä¸åŒçš„æ’åºæ–¹æ³•ï¼Œè¿™é‡Œä¸€å…±ç”¨åˆ°äº†ä¸‰ç§ç®—æ³•ï¼š</p><ul><li>FCFSï¼šå…ˆæ¥å…ˆæœåŠ¡</li><li>SJFï¼šçŸ­ä½œä¸šä¼˜å…ˆ</li><li>HRRFï¼šå“åº”æ¯”æœ€é«˜è€…ä¼˜å…ˆ</li></ul><p>æ¯”å¦‚æˆ‘è¦ç”¨FCFSï¼Œé‚£ä¹ˆå°±ï¼š<code>JCB.__lt__ = getMethod('FCFS')</code>ï¼Œè¿™é‡ŒgetMethodè¿”å›äº†ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå†èµ‹å€¼ç»™äº†JCBç±»çš„<code>__lt__()</code>æ–¹æ³•ï¼Œè¿™æ ·<code>JCB.__lt__()</code>å°±å’Œ<code>FCFS_lt()</code>ä¸€æ ·äº†ï¼ˆ<strong>æˆ‘çœç•¥äº†å‚æ•°order</strong>ï¼‰ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨ä¹‹åçš„æ–‡ç« å†è¯¦ç»†è¯´ï¼Œ<br />ç°åœ¨å¯ä»¥è¿™æ ·ç†è§£ï¼šè¿™ä¹ˆåšé‡è½½äº†JCBç±»çš„é»˜è®¤æ¯”è¾ƒæ–¹æ³•ï¼Œä¸¤ä¸ªJCBä¹‹é—´å¯ä»¥æ¯”å¤§å°äº†ï¼Œæ€ä¹ˆæ¯”å°±çœ‹<code>__lt__()</code>é‡Œäº†ã€‚<br />é‚£ä¹ˆèƒ½æ¯”è¾ƒå¤§å°äº†ï¼Œæ’åºå°±èƒ½æ–¹ä¾¿èµ·æ¥ï¼Œè€Œpythoné‡Œè¾¹æä¾›äº†<code>sort()</code>å‡½æ•°æ¥å¯¹åˆ—è¡¨è¿›è¡Œæ°¸ä¹…æ’åºï¼Œè¿™ä¸ªæ—¶å€™å³ä½¿åˆ—è¡¨é‡Œæ˜¯ä¸€å †JCBå¯¹è±¡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›è¡Œæ’åºã€‚</p><h2 id="ç®—æ³•éƒ¨åˆ†"><a class="markdownIt-Anchor" href="#ç®—æ³•éƒ¨åˆ†"></a> ç®—æ³•éƒ¨åˆ†</h2><p>æ³¨é‡Šå†™å¾—ç®—æ¯”è¾ƒæ¸…æ¥šæ‰€ä»¥åœ¨è¿™é‡Œä¸å¤šèµ˜è¿°äº†ï¼Œä»¥åæœ‰ç©ºè¯´ä¸å®šä¼šæ›´æ–°<s>ï¼ˆå®æ‰“å®çš„æ‡’ç‹—ï¼‰</s><br />å…¶å®å†™å¾—ä¸ç®—å¥½å§â€¦è‡ªå·±æ„Ÿè§‰æ˜¯å†™å¤æ‚äº†ï¼ŒæŸäº›åœ°æ–¹å‡­æ„Ÿè§‰å†™äº†ç‚¹ä¸œè¥¿ä¿è¯ä¸å‡ºé”™ï¼Œæ¯”å¦‚é‚£ä¸ªåˆ é™¤é˜Ÿåˆ—ï¼ŒæŒ‰é“ç†æ¥è¯´æœ‰å†™åˆ¤æ–­æ¡ä»¶çš„è¯å°±ä¸ä¼šå‡ºé”™</p><div class="note note-warning">            <p>æ³¨æ„è¿™é‡Œç”¨åˆ°äº†<code>copy.deepcopy()</code>ï¼Œéœ€è¦å¯¼å…¥copyæ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> copy<br></code></pre></td></tr></table></figure>          </div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">simulator</span>(<span class="hljs-params">JCB_queue, method, src</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;ä½œä¸šè°ƒåº¦æ¨¡æ‹Ÿç¨‹åº&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># ç³»ç»Ÿæ—¶é’Ÿå’Œèµ„æºæ•°</span><br>    clock = <span class="hljs-number">0</span><br>    source = src<br>    <span class="hljs-comment"># å¹³å‡å‘¨è½¬æ—¶é—´</span><br>    avg_ta_time = <span class="hljs-number">0</span><br>    <span class="hljs-comment"># å¹³å‡å¸¦æƒå‘¨è½¬æ—¶é—´</span><br>    avg_wta_time = <span class="hljs-number">0</span><br>    <span class="hljs-comment"># æ‹·è´é˜Ÿåˆ—</span><br>    copy_queue = copy.deepcopy(JCB_queue)<br>    <span class="hljs-comment"># é˜Ÿåˆ—é•¿åº¦</span><br>    queue_len = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">len</span>(copy_queue))<br>    <span class="hljs-comment"># åˆ›å»ºæ‰§è¡Œé˜Ÿåˆ—å’Œç­‰å¾…é˜Ÿåˆ—</span><br>    wait_queue = []<br>    run_queue = []<br>    num = <span class="hljs-number">0</span><br>    <span class="hljs-comment"># æ’åº</span><br>    JCB.__lt__ = getMethod(<span class="hljs-string">&#x27;FCFS&#x27;</span>)<br>    copy_queue.sort()<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-comment"># è¿è¡Œé˜Ÿåˆ—ä¸­çš„ä½œä¸šå˜æ›´</span><br>        <span class="hljs-keyword">if</span> run_queue:<br>            <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> run_queue:<br>                <span class="hljs-comment"># æ£€æŸ¥ä½œä¸šæ˜¯å¦å®Œæˆ</span><br>                <span class="hljs-keyword">if</span> job.run_time &lt;= clock - job.start_time <span class="hljs-keyword">and</span> job.status == <span class="hljs-string">&#x27;r&#x27;</span>:<br>                    job.status = <span class="hljs-string">&#x27;f&#x27;</span>  <span class="hljs-comment"># å°†å½“å‰ä½œä¸šçŠ¶æ€è®¾ç½®ä¸ºå®Œæˆ</span><br>                    job.finish_time = clock  <span class="hljs-comment"># ä½œä¸šå®Œæˆï¼ˆç»“æŸï¼‰æ—¶é—´ä¸ºå½“å‰ç³»ç»Ÿæ—¶é—´</span><br>                    job.ta_time = job.finish_time - job.commit_time  <span class="hljs-comment"># ä½œä¸šå‘¨è½¬æ—¶é—´ = ä½œä¸šå®Œæˆæ—¶é—´ - ä½œä¸šæäº¤æ—¶é—´</span><br>                    job.wta_time = job.ta_time / job.run_time  <span class="hljs-comment"># ä½œä¸šå¸¦æƒå‘¨è½¬æ—¶é—´ = ä½œä¸šå‘¨è½¬æ—¶é—´ / ä½œä¸šæ‰€éœ€æ—¶é—´</span><br>                    avg_ta_time = avg_ta_time + job.ta_time<br>                    avg_wta_time = avg_wta_time + job.wta_time<br>                    num = num + <span class="hljs-number">1</span>  <span class="hljs-comment"># ä½œä¸šå®Œæˆæ•°+1</span><br>                    source = source + job.source  <span class="hljs-comment"># å½’è¿˜èµ„æº</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä½œä¸šåï¼š<span class="hljs-subst">&#123;job.job_name&#125;</span>\t&quot;</span><br>                          <span class="hljs-string">f&quot;ä½œä¸šå¼€å§‹æ—¶é—´ï¼š<span class="hljs-subst">&#123;job.start_time&#125;</span>\t&quot;</span><br>                          <span class="hljs-string">f&quot;ä½œä¸šå®Œæˆæ—¶é—´ï¼š<span class="hljs-subst">&#123;job.finish_time&#125;</span>\t&quot;</span><br>                          <span class="hljs-string">f&quot;ä½œä¸šå‘¨è½¬æ—¶é—´ï¼š<span class="hljs-subst">&#123;job.ta_time&#125;</span>\t&quot;</span><br>                          <span class="hljs-string">f&quot;ä½œä¸šå¸¦æƒå‘¨è½¬æ—¶é—´ï¼š<span class="hljs-subst">&#123;job.wta_time:<span class="hljs-number">.2</span>f&#125;</span>\t&quot;</span>)<br><br>        <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰å¯ä»¥è¿›å…¥ç­‰å¾…ä½œä¸šé˜Ÿåˆ—çš„ä½œä¸š</span><br>        <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> copy_queue:<br>            <span class="hljs-keyword">if</span> job.commit_time &lt;= clock <span class="hljs-keyword">and</span> job.status == <span class="hljs-string">&#x27;w&#x27;</span>:<br>                wait_queue.append(job)<br><br>        <span class="hljs-comment"># ç­‰å¾…é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å¯ä»¥è¿›å…¥è¿è¡Œé˜Ÿåˆ—çš„ä½œä¸š</span><br>        <span class="hljs-keyword">if</span> wait_queue:<br>            <span class="hljs-comment"># è®¡ç®—å“åº”æ¯”</span><br>            <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> wait_queue:<br>                job.cul_rr(clock)<br>            JCB.__lt__ = getMethod(method)<br>            wait_queue.sort()<br>            <span class="hljs-comment"># ç”¨äºåˆ é™¤ç­‰å¾…é˜Ÿåˆ—åˆ—è¡¨å…ƒç´ çš„åˆ—è¡¨</span><br>            del_queue = []<br>            <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> wait_queue:<br>                <span class="hljs-keyword">if</span> job.source &lt;= source <span class="hljs-keyword">and</span> job.status == <span class="hljs-string">&#x27;w&#x27;</span>:<br>                    run_queue.append(job)<br>                    del_queue.append(job)<br>                    job.start_time = clock  <span class="hljs-comment"># ä½œä¸šå¼€å§‹æ—¶é—´ä¸ºå½“å‰ç³»ç»Ÿæ—¶é—´</span><br>                    job.status = <span class="hljs-string">&#x27;r&#x27;</span><br>                    source = source - job.source<br>            <span class="hljs-keyword">if</span> del_queue <span class="hljs-keyword">and</span> wait_queue:<br>                <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> del_queue:<br>                    wait_queue.remove(job)<br><br>        <span class="hljs-comment"># è·³å‡ºå¾ªç¯ç”¨</span><br>        <span class="hljs-keyword">if</span> num == queue_len:<br>            <span class="hljs-keyword">break</span><br><br>        <span class="hljs-comment"># ç³»ç»Ÿæ—¶é’Ÿè‡ªå¢</span><br>        clock = clock + <span class="hljs-number">1</span><br>    avg_ta_time = avg_ta_time / queue_len<br>    avg_wta_time = avg_wta_time / queue_len<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å¹³å‡å‘¨è½¬æ—¶é—´ï¼š<span class="hljs-subst">&#123;avg_ta_time:<span class="hljs-number">.2</span>f&#125;</span>\tå¸¦æƒå‘¨è½¬æ—¶é—´ï¼š<span class="hljs-subst">&#123;avg_wta_time:<span class="hljs-number">.2</span>f&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="å…¶ä»–å‡½æ•°"><a class="markdownIt-Anchor" href="#å…¶ä»–å‡½æ•°"></a> å…¶ä»–å‡½æ•°</h2><p>å…¶å®åªæœ‰ä¸€ä¸ª<code>input()</code>ç”¨æ¥è·å–ç”¨æˆ·è¾“å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">inputJCB</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;åˆå§‹åŒ–JCBé˜Ÿåˆ—&quot;&quot;&quot;</span><br>    JCB_queue = []<br>    src = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ç³»ç»Ÿèµ„æºæ•°ï¼š&quot;</span>))<br>    JCB_num = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šæ•°é‡ï¼š&quot;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(JCB_num):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰æ˜¯ç¬¬<span class="hljs-subst">&#123;i + <span class="hljs-number">1</span>&#125;</span>ä¸ªä½œä¸šï¼›&quot;</span>)<br>        jn = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šåå­—ï¼š&quot;</span>)<br>        ct = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šæäº¤æ—¶é—´ï¼š&quot;</span>))<br>        rt = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šè¿è¡Œæ—¶é—´ï¼š&quot;</span>))<br>        sc = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šæ‰€éœ€èµ„æºï¼š&quot;</span>))<br>        new_JCB = JCB(jn, ct, rt, sc)<br>        JCB_queue.append(new_JCB)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&quot;</span>)<br>    <span class="hljs-comment"># æ‰“å°JCBé˜Ÿåˆ—</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(JCB_num):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç¬¬<span class="hljs-subst">&#123;i + <span class="hljs-number">1</span>&#125;</span>ä¸ªä½œä¸šåå­—ï¼š<span class="hljs-subst">&#123;JCB_queue[i].job_name&#125;</span>\t&quot;</span><br>              <span class="hljs-string">f&quot;ä½œä¸šæäº¤æ—¶é—´ï¼š<span class="hljs-subst">&#123;JCB_queue[i].commit_time&#125;</span>\t&quot;</span><br>              <span class="hljs-string">f&quot;ä½œä¸šæ‰€éœ€è¿è¡Œæ—¶é—´ï¼š<span class="hljs-subst">&#123;JCB_queue[i].run_time&#125;</span>\t&quot;</span><br>              <span class="hljs-string">f&quot;ä½œä¸šæ‰€éœ€èµ„æºæ•°ï¼š<span class="hljs-subst">&#123;JCB_queue[i].source&#125;</span>&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;FCFSç®—æ³•ï¼š&quot;</span>)<br>    simulator(JCB_queue, <span class="hljs-string">&quot;FCFS&quot;</span>, src)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SJFç®—æ³•ï¼š&quot;</span>)<br>    simulator(JCB_queue, <span class="hljs-string">&quot;SJF&quot;</span>, src)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;HRRFç®—æ³•ï¼š&quot;</span>)<br>    simulator(JCB_queue, <span class="hljs-string">&quot;HRRF&quot;</span>, src)<br></code></pre></td></tr></table></figure><p>pythonæµ‹è¯•ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    inputJCB()<br></code></pre></td></tr></table></figure><h1 id="è¿è¡Œç»“æœ"><a class="markdownIt-Anchor" href="#è¿è¡Œç»“æœ"></a> è¿è¡Œç»“æœ</h1><p>æš‚æ—¶ä¸è´´ç»“æœï¼Œæ²¡æ‰¾åˆ°ä¸€ä¸ªå¥½äº‘å›¾åº“æ”¾å›¾ï¼Œä¸Šä¼ åˆ°githubä¹Ÿä¸åˆé€‚www<br />éº»çƒ¦å„ä½è‡ªå·±è¿è¡Œä¸€ä¸‹äº†</p><h1 id="ç»“è¯­"><a class="markdownIt-Anchor" href="#ç»“è¯­"></a> ç»“è¯­</h1><p>æ—¥åè¡¥å……<s>ï¼ˆå…„å•Šä¸€ç¯‡æ–‡ç« ä¸‹æ¥çœç•¥äº†å¤šå°‘å•Šï¼‰</s></p><hr /><p align="center"><img src="/img/alice_happy.jpg" alt="è¿™é‡Œæœ‰ä¸€åªçˆ±ä¸½ä¸" style="width:150px; height:150px;"></p><p align="center">å¸Œæœ›æœ¬æ–‡ç« èƒ½å¤Ÿå¸®åˆ°æ‚¨~</p>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
      <tag>ç®—æ³•</tag>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Test my blog</title>
    <link href="/2022/04/12/Test-my-blog/"/>
    <url>/2022/04/12/Test-my-blog/</url>
    
    <content type="html"><![CDATA[<h1 id="è¿™æ˜¯ç¬¬ä¸€ç¯‡åšæ–‡ç”¨äºæµ‹è¯•ä»¥åŠç»ƒä¹ markdownè¯­æ³•"><a class="markdownIt-Anchor" href="#è¿™æ˜¯ç¬¬ä¸€ç¯‡åšæ–‡ç”¨äºæµ‹è¯•ä»¥åŠç»ƒä¹ markdownè¯­æ³•"></a> è¿™æ˜¯ç¬¬ä¸€ç¯‡åšæ–‡ï¼Œç”¨äºæµ‹è¯•ä»¥åŠç»ƒä¹ markdownè¯­æ³•</h1><h2 id="æ‰“ä¸¤ä¸ªå°±æ˜¯äºŒçº§æ ‡é¢˜"><a class="markdownIt-Anchor" href="#æ‰“ä¸¤ä¸ªå°±æ˜¯äºŒçº§æ ‡é¢˜"></a> æ‰“ä¸¤ä¸ª##å°±æ˜¯äºŒçº§æ ‡é¢˜</h2><h3 id="markdownå­—ä½“"><a class="markdownIt-Anchor" href="#markdownå­—ä½“"></a> Markdownå­—ä½“</h3><p><em>æ–œä½“æ–‡æœ¬ä¸€ä¸ª*</em><br /><strong>ç²—ä½“æ–‡æœ¬ä¸¤ä¸ª*</strong><br /><em><strong>æ–œç²—ä½“æ–‡æœ¬ä¸‰ä¸ª*</strong></em></p><h3 id="åˆ†éš”çº¿"><a class="markdownIt-Anchor" href="#åˆ†éš”çº¿"></a> åˆ†éš”çº¿</h3><hr /><h2 id="font-size3-facemicrosoft-yaheiç”¨ä¸‰ä¸ª-æˆ–è€…ä¸‰ä¸ªæŠŠæ–‡æœ¬å›´èµ·æ¥ä¸Šé¢ä¸€è¡Œä¸‹é¢ä¸€è¡Œfontè™½ç„¶ä½†æ˜¯ä¸ºä»€ä¹ˆåˆ†å‰²çº¿é‡Œçš„æ–‡æœ¬é»˜è®¤æŒºå¤§çš„æ€è€ƒè¿™é‡Œæˆ‘ç”¨font-sizeæ”¹äº†"><a class="markdownIt-Anchor" href="#font-size3-facemicrosoft-yaheiç”¨ä¸‰ä¸ª-æˆ–è€…ä¸‰ä¸ªæŠŠæ–‡æœ¬å›´èµ·æ¥ä¸Šé¢ä¸€è¡Œä¸‹é¢ä¸€è¡Œfontè™½ç„¶ä½†æ˜¯ä¸ºä»€ä¹ˆåˆ†å‰²çº¿é‡Œçš„æ–‡æœ¬é»˜è®¤æŒºå¤§çš„æ€è€ƒè¿™é‡Œæˆ‘ç”¨font-sizeæ”¹äº†"></a> <font size=3 face='Microsoft YaHei'>ç”¨ä¸‰ä¸ª-æˆ–è€…ä¸‰ä¸ª*æŠŠæ–‡æœ¬å›´èµ·æ¥(ä¸Šé¢ä¸€è¡Œä¸‹é¢ä¸€è¡Œ)</font><br />è™½ç„¶ä½†æ˜¯ä¸ºä»€ä¹ˆåˆ†å‰²çº¿é‡Œçš„æ–‡æœ¬é»˜è®¤æŒºå¤§çš„ï¼ˆæ€è€ƒğŸ¤”ï¼ˆï¼ˆè¿™é‡Œæˆ‘ç”¨&lt;font size&gt;æ”¹äº†</h2><h3 id="åˆ é™¤çº¿"><a class="markdownIt-Anchor" href="#åˆ é™¤çº¿"></a> åˆ é™¤çº¿</h3><p>ä¸¤ä¸ªæ³¢æµªçº¿æ‹¬èµ·æ¥å°±èƒ½<s>åˆ é™¤</s>äº†</p><p><s>è¿™æ ·æˆ‘å°±èƒ½ä¹±è¯´è¯ä¹ï¼</s></p><p>ä¸ºä»€ä¹ˆç”¨ç©ºæ ¼ä¸èƒ½æ¢è¡Œå•Šï¼</p><h3 id="ä¸‹åˆ’çº¿"><a class="markdownIt-Anchor" href="#ä¸‹åˆ’çº¿"></a> ä¸‹åˆ’çº¿</h3><p><u>ç›´æ¥ç”¨htmlçš„&lt;u&gt;æ ‡ç­¾</u></p><h3 id="è„šæ³¨"><a class="markdownIt-Anchor" href="#è„šæ³¨"></a> è„šæ³¨</h3><p>è¿™é‡Œæœ‰ä¸€ä¸ªè„šæ³¨<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><h3 id="åˆ—è¡¨"><a class="markdownIt-Anchor" href="#åˆ—è¡¨"></a> åˆ—è¡¨</h3><ul><li>æ˜Ÿå·+ç©ºæ ¼+å†…å®¹</li><li>æˆ–è€…</li><li>+å·ä¹Ÿè¡Œ</li><li>-å·ä¹Ÿè¡Œ</li><li>æœ‰åºåˆ—è¡¨ç”¨åºå·</li></ul><ol><li>è¿™æ˜¯æœ‰åºåµŒå¥—æ— åºï¼š<ul><li>æˆ‘æ˜¯æ— åº</li></ul></li><li>æˆ‘æ˜¯æœ‰åº</li></ol><h3 id="markdownåŒºå—"><a class="markdownIt-Anchor" href="#markdownåŒºå—"></a> MarkdownåŒºå—</h3><blockquote><p>ç”¨&gt;åŠ ä¸Šä¸€ä¸ªç©ºæ ¼å†åŠ ä¸Šæ–‡æœ¬å°±å¥½äº†</p><blockquote><p>åŒºå—åµŒå¥—å°±å†™å¤šç‚¹&gt;</p><blockquote><ul><li>åŒºå—é‡Œè¾¹ç”¨åˆ—è¡¨ä¹Ÿè¡Œ</li></ul></blockquote></blockquote></blockquote><ul><li>åè¿‡æ¥åˆ—è¡¨é‡Œç”¨åŒºå—ä¹Ÿè¡Œ<blockquote><p>åœ¨æœ€å‰è¾¹æ‘ä¸ªtabå°±å¥½å•¦</p></blockquote></li></ul><h3 id="markdown-ä»£ç "><a class="markdownIt-Anchor" href="#markdown-ä»£ç "></a> Markdown ä»£ç </h3><p>åœ¨ä¸€è¡Œé‡Œç›´æ¥ç”¨`åŒ…èµ·æ¥å°±å¥½å•¦ -&gt; <code>print()</code>å‡½æ•°<br />ä»£ç å—å°±ç”¨ä¸‰ä¸ª`åŒ…èµ·æ¥</p><figure class="highlight python"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@login_required</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">topics</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;æ˜¾ç¤ºæ‰€æœ‰çš„ä¸»é¢˜&quot;&quot;&quot;</span><br>    topics = Topic.objects.order_by(<span class="hljs-string">&#x27;data_added&#x27;</span>)<br>    context = &#123;<span class="hljs-string">&#x27;topics&#x27;</span>: topics&#125;<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;learning_logs/topics.html&#x27;</span>, context)<br></code></pre></td></tr></table></figure><h3 id="markdown-é“¾æ¥"><a class="markdownIt-Anchor" href="#markdown-é“¾æ¥"></a> Markdown é“¾æ¥</h3><p>ä¼‘æ¯ä¸€ä¸‹ï¼Œå¬é¦–æ­Œå§~ <a href="https://www.bilibili.com/video/BV1ty4y1y76V?share_source=copy_web"><s>ç¥å¿…é“¾æ¥</s></a></p><h3 id="markdown-å›¾ç‰‡"><a class="markdownIt-Anchor" href="#markdown-å›¾ç‰‡"></a> Markdown å›¾ç‰‡</h3><p>å¦‚å›¾ï¼š<br /><img src="https://pic1.zhimg.com/v2-e81ff8868ed8bde326ae6074eb8dab40_r.jpg" alt="é‡å…½çº¢èŒ¶" /></p><h3 id="markdown-è¡¨æ ¼"><a class="markdownIt-Anchor" href="#markdown-è¡¨æ ¼"></a> Markdown è¡¨æ ¼</h3><p>ç”¨ | æ¥åˆ†éš”ä¸åŒå•å…ƒæ ¼ï¼Œç”¨ - æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œ</p><table><thead><tr><th style="text-align:left">114</th><th style="text-align:right">514</th><th style="text-align:center">1919810</th></tr></thead><tbody><tr><td style="text-align:left">å“¼</td><td style="text-align:right">å“¼  å•Š</td><td style="text-align:center">å•Šå•Šå•Š</td></tr></tbody></table><h3 id="æ•°å­¦å…¬å¼"><a class="markdownIt-Anchor" href="#æ•°å­¦å…¬å¼"></a> æ•°å­¦å…¬å¼</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>E</mi><mo>=</mo><mi>m</mi><msup><mi>c</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">E=mc^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8641079999999999em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord"><span class="mord mathdefault">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><hr /><h2 id="å ‚å ‚å®Œç»“"><a class="markdownIt-Anchor" href="#å ‚å ‚å®Œç»“"></a> å ‚å ‚å®Œç»“</h2><p>ï¼ˆ<s>å…¶å®æ˜¯æƒ³ä¸ŠåºŠæ‘†çƒ‚äº†</s></p><hr /><p align="center"><img src="/img/alice_happy.jpg" alt="è¿™é‡Œæœ‰ä¸€åªçˆ±ä¸½ä¸" style="width:150px; height:150px;"></p><p align="center">å¸Œæœ›æœ¬æ–‡ç« èƒ½å¤Ÿå¸®åˆ°æ‚¨~</p><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>åŠ VXè¯·åƒKFCç–¯ç‹‚æœ¨æ›œæ—¥æ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
    
    
    <categories>
      
      <category>Gossip</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
