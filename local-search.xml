<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>äºŒå‰æ ‘ä¸“é¢˜</title>
    <link href="/2023/05/22/algorithm-tree/"/>
    <url>/2023/05/22/algorithm-tree/</url>
    
    <content type="html"><![CDATA[<h1>è¯´ç‚¹åºŸè¯</h1><p>çœ‹åˆ°ä»Šå¤©çš„åŠ›æ‰£çš„æ¯æ—¥ä¸€é¢˜æ˜¯ä¸€é“è·ŸäºŒå‰æ ‘æœ‰å…³çš„ï¼Œé€’å½’é¢˜ç›®ï¼Œçªç„¶å‘ç°è‡ªå·±å¯¹æ ‘çš„ç›¸å…³çŸ¥è¯†æœ‰ç‚¹å¿˜å¾—ä¸€å¹²äºŒå‡€äº†ï¼Œäºæ˜¯å°±æƒ³å¤ä¹ ä¸€ä¸‹ï¼Œäºæ˜¯å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚</p><h1>ä»€ä¹ˆäº‹äºŒå‰æ ‘</h1><p><s>ä¸€ç§æ•°æ®ç»“æ„ã€‚</s>å½“ç„¶å…¶å®æˆ‘å†™è¿™ç¯‡æ–‡ç« å¹¶ä¸æƒ³è®²è¿™äº›åŸºç¡€æ¦‚å¿µä»€ä¹ˆbalabalaçš„ï¼Œæˆ‘åªæ˜¯æƒ³å¤ä¹ å’ŒäºŒå‰æ ‘æœ‰å…³çš„ç®—æ³•ï¼ˆé€ƒï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©è´´é“¾æ¥ï¼š<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%8F%89%E6%A0%91">ç»´åŸºç™¾ç§‘â€”â€”äºŒå‰æ ‘</a><br>ç»™å‡ºæœ€åŸºæœ¬çš„æ ‘çš„ç»“ç‚¹çš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TreeNode</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, val=<span class="hljs-number">0</span>, left=<span class="hljs-literal">None</span>, right=<span class="hljs-literal">None</span></span>):<br>        self.val = val<br>        self.left = left<br>        self.right = right<br></code></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TreeNode</span> <br>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> val;<br><span class="hljs-keyword">public</span> TreeNode left;<br><span class="hljs-keyword">public</span> TreeNode right;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">TreeNode</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> val=<span class="hljs-number">0</span>, TreeNode left=<span class="hljs-literal">null</span>, TreeNode right=<span class="hljs-literal">null</span></span>)</span> <br>&#123;<br><span class="hljs-keyword">this</span>.val = val;<br><span class="hljs-keyword">this</span>.left = left;<br><span class="hljs-keyword">this</span>.right = right;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1>äºŒå‰æ ‘çš„å„ç§æ“ä½œ</h1><h2 id="éå†">éå†</h2><p>å¯¹ä¸€æ£µäºŒå‰æ ‘è¿›è¡Œéå†ï¼Œå…¶å®å°±æ˜¯ç”¨<code>DFS</code>å’Œ<code>BFS</code>ï¼Œè€Œ<code>DFS</code>åˆæœ‰ä¸‰ç§é¡ºåºï¼šå‰åºã€ä¸­åºã€ååºã€‚å‰åºå°±æ˜¯ä¸­å·¦å³ï¼Œä¸­åºå°±æ˜¯å·¦ä¸­å³ï¼Œååºå°±æ˜¯å·¦å³ä¸­ã€‚<code>BFS</code>çš„è¯å°±æ˜¯æŒ‰å±‚æ¬¡ä»å·¦åˆ°å³äº†ã€‚<br>æ ¹æ®ä¸Šé¢å¯¹æ ‘ç»“ç‚¹çš„å®šä¹‰å’Œéå†æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¿«å†™å‡ºä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">preOrder</span>(<span class="hljs-params">node: TreeNode</span>):<br>    <span class="hljs-built_in">print</span>(node.val)<br>    <span class="hljs-keyword">if</span> node.left <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        preOrder(node.left)<br>    <span class="hljs-keyword">if</span> node.right <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        preOrder(node.right)<br></code></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">TreeMethods</span> <br>&#123;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PreOrder</span>(<span class="hljs-params">TreeNode node</span>)</span> <br>&#123;<br>Console.WriteLine(node.val);<br><span class="hljs-keyword">if</span> (node.left != <span class="hljs-literal">null</span>)<br>&#123;<br>PreOrder(node.left);<br>&#125;<br><span class="hljs-keyword">if</span> (node.right != <span class="hljs-literal">null</span>)<br>&#123;<br>PreOrder(node.right);<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åªæœ‰å‰åºéå†æ˜¯å› ä¸ºå¦å¤–ä¸¤ä¸ªç…§è‘«èŠ¦ç”»ç“¢å°±å¥½äº†ã€‚<br>ä¸‹é¢æ˜¯ç”¨<code>BFS</code>æŒ‰å±‚æ¬¡éå†çš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">preOrderBFS</span>(<span class="hljs-params">node: TreeNode</span>):<br>    queue = deque([node])<br>    <span class="hljs-keyword">while</span> queue:<br>        cur = queue.popleft()<br>        <span class="hljs-built_in">print</span>(cur.val)<br>        <span class="hljs-keyword">if</span> cur.left <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            preOrderBFS(cur.left)<br>        <span class="hljs-keyword">if</span> cur.right <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            preOrderBFS(cur.right)<br></code></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PreOrderBFS</span>(<span class="hljs-params">TreeNode node</span>)</span><br>&#123;<br>Queue&lt;TreeNode&gt; queue = <span class="hljs-keyword">new</span> Queue&lt;TreeNode&gt;();<br>queue.Enqueue(node);<br><span class="hljs-keyword">while</span> (queue.Any())<br>&#123;<br>TreeNode cur = queue.Dequeue();<br>Console.WriteLine(cur.val);<br><span class="hljs-keyword">if</span> (cur.left != <span class="hljs-literal">null</span>)<br>&#123;<br>queue.Enqueue(cur.left);<br>&#125;<br><span class="hljs-keyword">if</span> (cur.right != <span class="hljs-literal">null</span>)<br>&#123;<br>queue.Enqueue(cur.right);<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘çš„æ·±åº¦">äºŒå‰æ ‘çš„æ·±åº¦</h2><p>æ€æƒ³ï¼šéå†ï¼Œå¾€ä¸‹é€’çš„è¿‡ç¨‹æ˜¯èµ°å®Œå·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå¾€ä¸Šå½’çš„è¿‡ç¨‹æ˜¯ä¼ é€’å½“å‰æœ€æ·±æ·±åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">depth</span>(<span class="hljs-params">node: TreeNode</span>):<br>    <span class="hljs-keyword">if</span> node <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">if</span> node.left <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        leftDepth = depth(node.left)<br>    <span class="hljs-keyword">else</span>:<br>        leftDepth = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">if</span> node.right <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        rightDepth = depth(node.right)<br>    <span class="hljs-keyword">else</span>:<br>        rightDepth = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">return</span> leftDepth + <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> leftDepth &gt; rightDepth <span class="hljs-keyword">else</span> rightDepth + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Depth</span>(<span class="hljs-params">TreeNode node</span>)</span><br>&#123;<br><span class="hljs-built_in">int</span> leftDepth = <span class="hljs-number">0</span>, rightDepth = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">if</span> (node == <span class="hljs-literal">null</span>)<br>&#123;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">if</span> (node.left != <span class="hljs-literal">null</span>)<br>&#123;<br>leftDepth = Depth(node.left);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>leftDepth = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">if</span> (node.right != <span class="hljs-literal">null</span>)<br>&#123;<br>rightDepth = Depth(node.right);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>rightDepth = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">return</span> leftDepth &gt; rightDepth ? leftDepth + <span class="hljs-number">1</span> : rightDepth + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>okï¼Œå…¶å®åˆ°ç›®å‰ä¸ºæ­¢ä»Šå¤©é‡åˆ°çš„é‚£é“é¢˜çš„çŸ¥è¯†å·²ç»å¤Ÿäº†ï¼Œç°åœ¨æ¥çœ‹çœ‹é¢˜ç›®å§ã€‚</p><h1>é¢˜ç›®æè¿°</h1><p><a href="https://leetcode.cn/problems/insufficient-nodes-in-root-to-leaf-paths/description/">1080. æ ¹åˆ°å¶è·¯å¾„ä¸Šçš„ä¸è¶³èŠ‚ç‚¹</a></p><h1>æ€è·¯åŠå®ç°</h1><p>æ˜ç¡®<strong>ä¸è¶³èŠ‚ç‚¹</strong>çš„æ¦‚å¿µï¼Œå“ªäº›èŠ‚ç‚¹åº”è¯¥åˆ é™¤ï¼Œå“ªäº›ä¸èƒ½ã€‚å‡å¦‚ç°åœ¨æœ‰ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œå®ƒçš„â€œæ ¹-å¶â€è·¯å¾„ä¸Šå€¼çš„æ€»å’Œå…¨éƒ½å°äºç»™å®šçš„<code>limit</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªå¶å­èŠ‚ç‚¹å°±æ˜¯ä¸è¶³èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤å®ƒã€‚<br>é‚£å‡å¦‚ç°åœ¨æœ‰ä¸€ä¸ªéå¶å­èŠ‚ç‚¹ï¼Œè¦æ€ä¹ˆçŸ¥é“å®ƒèƒ½ä¸èƒ½å¤Ÿåˆ é™¤å‘¢ï¼Ÿé‚£å°±è¦çœ‹å®ƒæ˜¯å¦è¿˜æœ‰å„¿å­ã€‚å¦‚æœè¿™ä¸ªéå¶å­èŠ‚ç‚¹çš„å„¿å­éƒ½è¢«åˆ é™¤äº†ï¼Œè¯´æ˜å®ƒçš„å„¿å­éƒ½æ˜¯ä¸è¶³èŠ‚ç‚¹ï¼ˆä»”ç»†è¯»é¢˜ï¼ˆè¯´å®è¯ï¼Œé¢˜ç›®æè¿°æœ‰ç‚¹åƒåœ¾äº†ï¼‰ï¼Œåªè¦æ˜¯é€šè¿‡è¿™ä¸ªéå¶å­èŠ‚ç‚¹<code>node</code>çš„æ¯ç§å¯èƒ½çš„â€œæ ¹-å¶â€è·¯å¾„ä¸Šå€¼çš„æ€»å’Œå…¨éƒ½å°äºç»™å®šçš„<code>limit</code>ï¼Œé‚£ä¹ˆè¿™ä¸ªéå¶å­èŠ‚ç‚¹å°±æ˜¯ä¸è¶³èŠ‚ç‚¹ï¼‰ï¼Œä¹Ÿå°±è¯´æ˜å½“å‰è¿™ä¸ªéå¶å­èŠ‚ç‚¹æ¯ç§å¯èƒ½çš„â€œæ ¹-å¶â€è·¯å¾„ä¸Šå€¼çš„æ€»å’Œå°äº<code>limit</code>äº†ï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ é™¤å®ƒã€‚å¦‚æœå®ƒå­˜åœ¨ä¸€ä¸ªå„¿å­ä¸æ˜¯ä¸è¶³èŠ‚ç‚¹ï¼Œé‚£æˆ‘ä»¬å°±ä¸èƒ½å¤Ÿåˆ é™¤å®ƒã€‚</p><div class="note note-warning">            <p>å¦‚æœè¿˜æ˜¯ä¸ç†è§£çš„è¯ï¼Œç®€å•æ¥è¯´ï¼Œéå¶å­èŠ‚ç‚¹<code>node</code>çš„å„¿å­éƒ½è¢«åˆ é™¤çš„è¯ï¼Œé‚£å®ƒä¹Ÿéœ€è¦åˆ é™¤ï¼›å¦‚æœéå¶å­èŠ‚ç‚¹å­˜åœ¨å„¿å­æœªè¢«åˆ é™¤ï¼Œé‚£å®ƒå°±ä¸èƒ½åˆ é™¤ã€‚</p>          </div><p>é‚£ä¹ˆå°±å¯ä»¥åˆ©ç”¨é€’å½’ï¼Œå¾€ä¸‹ä¼ é€’çš„å°±æ˜¯å½“å‰è·¯å¾„å€¼ï¼Œå¾€å›å½’çš„å°±æ˜¯è‡ªèº«æˆ–è€…æ˜¯<code>null</code>ï¼ˆåˆ¤æ–­ä¸ºä¸è¶³èŠ‚ç‚¹ï¼Œè¢«åˆ é™¤äº†ï¼Œæ‰€ä»¥è¿”å›<code>null</code>ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sufficientSubset</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode], limit: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[TreeNode]:<br>        <span class="hljs-comment"># è®¡ç®—å½“å‰è·¯å¾„å’Œ</span><br>        limit -= root.val<br>        <span class="hljs-keyword">if</span> root.left <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> root.right <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:  <span class="hljs-comment"># å½“å‰èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹</span><br>            <span class="hljs-keyword">return</span> root <span class="hljs-keyword">if</span> limit &lt;= <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>  <span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦ä¸ºä¸è¶³èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">if</span> root.left:<br>            root.left = self.sufficientSubset(root.left, limit)  <span class="hljs-comment"># æŠŠå€¼ä¼ é€’ä¸‹å»ï¼Œåˆ¤æ–­è¿™æ¡è·¯æ˜¯å¦æ»¡è¶³æ¡ä»¶</span><br>        <span class="hljs-keyword">if</span> root.right:<br>            root.right = self.sufficientSubset(root.right, limit)<br>        <span class="hljs-keyword">return</span> root <span class="hljs-keyword">if</span> root.left <span class="hljs-keyword">or</span> root.right <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>  <span class="hljs-comment"># å¦‚æœéå¶å­èŠ‚ç‚¹çš„å„¿å­éƒ½è¢«åˆ é™¤äº†ï¼Œå®ƒä¹Ÿåº”è¯¥è¢«åˆ é™¤</span><br></code></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#"><br></code></pre></td></tr></table></figure><p>å¦å¤–çœ‹åˆ°ä¸€ä¸ªæ€è·¯ç•¥å¾®ä¸åŒä½†æ˜¯å†™å¾—å¾ˆä½¬çš„é¢˜è§£ï¼š<a href="https://leetcode.cn/problems/insufficient-nodes-in-root-to-leaf-paths/solutions/2277376/python3-di-gui-xiang-jie-1080-gen-dao-xi-cc4a/">Broncosçš„é¢˜è§£</a></p><h1>å…³äºæœ¬ç¯‡</h1><p>ä»¥åè¿˜ä¼šæ›´æ–°</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>C#</tag>
      
      <tag>Leetcode</tag>
      
      <tag>äºŒå‰æ ‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Unityå­¦ä¹ ç¬”è®°-1</title>
    <link href="/2023/05/20/unity-learning-1/"/>
    <url>/2023/05/20/unity-learning-1/</url>
    
    <content type="html"><![CDATA[<h1>Essential Unity Concepts</h1><h2 id="GameObject">GameObject</h2><p>unityä¸­æœ€æœ€åŸºæœ¬çš„ä¸œè¥¿ï¼Œå¯ä»¥è¯´ä½ æ”¾å…¥æ¸¸æˆä¸­çš„é‚£äº›ä¸œè¥¿éƒ½æ˜¯ä¸€ä¸ª<code>GameObject</code>ï¼Œä»€ä¹ˆç©å®¶äººç‰©ã€éšœç¢ã€æ‘„åƒæœºä¹‹ç±»çš„ã€‚<br>åœ¨ä¸€ä¸ª<code>GameObject</code>ä¸­ï¼ŒåˆåŒ…å«äº†<code>Components</code>ï¼Œå³å®ƒçš„ç»„ä»¶ï¼ˆå…ƒä»¶ï¼‰ï¼Œ<code>Components</code>å¯ä»¥ä¸º<code>GameObject</code>æ·»åŠ ä¸€äº›å±æ€§/æ€§è´¨ï¼Œæ¯”å¦‚æœ€åŸºæœ¬çš„<code>Transform</code>ç»„ä»¶å¯ä»¥æ§åˆ¶<code>GameObject</code>çš„åæ ‡ï¼ˆPositionï¼‰ã€æ—‹è½¬ï¼ˆRotationï¼‰å’Œè§„æ¨¡ï¼ˆScaleï¼‰ç­‰ã€‚<br>è€Œè„šæœ¬ï¼ˆ<code>Scripts</code>ï¼‰ä¹Ÿç®—ä¸€ç§ç»„ä»¶ï¼Œè„šæœ¬æ˜¯ç”¨æ¥æ§åˆ¶<code>GameObject</code>çš„é€»è¾‘çš„ï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ª<code>Player</code>çš„<code>GameObject</code>ï¼Œè¦æƒ³ä½¿å…¶è¿›è¡Œç§»åŠ¨ï¼Œæˆ‘ä»¬å°±éœ€è¦ç¼–å†™ä¸€ä¸ª<code>Move</code>çš„<code>Script</code>ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°<code>Player</code>çš„<code>Components</code>ä¸­ã€‚</p><h2 id="Prefabs">Prefabs</h2><p>å³é¢„åˆ¶ä»¶ï¼Œå¯ä»¥ç†è§£ä¸ºæˆ‘ä»¬åšå¥½çš„<code>GameObject</code>çš„æ¨¡æ¿ã€‚åœ¨æˆ‘ä»¬åˆ¶ä½œå¥½ä¸€ä¸ª<code>GameObject</code>ä¹‹åï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦é‡å¤åˆ©ç”¨ï¼Œå°±éœ€è¦å°†å…¶ä¿å­˜æˆ<code>Prefab</code>ï¼Œæœ€ç®€å•çš„ä¿å­˜æ–¹æ³•å°±æ˜¯å°†<code>GameObject</code>ä»<code>Hierarchy</code>ï¼ˆå±‚çº§ï¼‰é€‰é¡¹å¡ä¸­æ‹–åˆ°<code>Project</code>é€‰é¡¹å¡çš„<code>Prefabs</code>æ–‡ä»¶å¤¹ä¸­ã€‚<br>ä¿å­˜å®Œäº†åï¼Œä»€ä¹ˆæ—¶å€™æˆ‘ä»¬æƒ³è¦ç”¨åˆ°è¿™ä¸ª<code>GameObject</code>äº†ï¼Œå°±ç›´æ¥ä»<code>Prefabs</code>æ–‡ä»¶å¤¹ä¸­æŠŠå®ƒæ‹–åˆ°<code>Hierarchy</code>ä¸­å³å¯ã€‚</p><div class="note note-warning">            <p>åˆ›å»ºé¡¹ç›®ä¸ä¼šé»˜è®¤ç»™ä½ ç”Ÿæˆ<code>Prefabs</code>æ–‡ä»¶å¤¹ï¼ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå·±åˆ›å»ºï¼Œä¸€èˆ¬æ˜¯åœ¨<code>Assets</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºï¼Œå³<code>Assets/Prefabs</code>ã€‚</p>          </div><h2 id="Tags">Tags</h2><p>å³æ ‡ç­¾ï¼Œå…¶ç”¨äºç»™<code>GameObject</code>è´´ä¸Šæ ‡ç­¾ï¼ˆä»è€Œä½¿å¾—å…¶æœ‰ä¸€ç§æ›´ä¸ºå¹¿æ³›çš„åˆ†ç±»ï¼‰ï¼Œä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦åˆ¤æ–­ä¸€ä¸ª<code>GameObject</code>æ˜¯å¦ä¸ºæ•Œäººï¼Œæˆ‘ä»¬èƒ½æ€ä¹ˆåšå‘¢ï¼Ÿ<s>ï¼ˆå½“ç„¶æ˜¯çœ‹å®ƒæ˜¯å¦ç»§æ‰¿è‡ª<code>Enemy</code>æŠ½è±¡ç±»ï¼‰</s>é‚£å°±æ˜¯æ£€æŸ¥å®ƒçš„æ ‡ç­¾æ˜¯å¦ä¸º<code>Enemy</code>æ ‡ç­¾ã€‚<br>è¦ä¸ºä¸€ä¸ª<code>GameObject</code>è´´ä¸Š<code>Tag</code>å¾ˆç®€å•ï¼Œä»<code>Hierarchy</code>ä¸­é€‰ä¸­ï¼Œç„¶ååœ¨<code>Inspector</code>ä¸­å°±èƒ½æ‰¾åˆ°<code>Tag</code>äº†ã€‚<br>ç°åœ¨å·²ç»ä¸º<code>GameObject</code>æ·»åŠ å®Œ<code>Tag</code>äº†ï¼Œåœ¨è„šæœ¬ä¸­æ€ä¹ˆå»ä½¿ç”¨å‘¢ï¼Ÿä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œç°åœ¨åˆ›å»ºä¸€ä¸ªè¡Œä¸ºè„šæœ¬ï¼Œè®©ä¸€ä¸ª<code>GameObject</code>èƒ½å¤Ÿæ³¨è§†ç€æœ‰ç€åä¸º<code>Player</code>çš„<code>Tag</code>çš„<code>GameObject</code>ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">GazeExample</span>: <span class="hljs-title">MonoBehaviour</span> &#123;<br>GameObject player;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>()</span> &#123;<br><span class="hljs-comment">// æ‰¾åˆ°å¸¦æœ‰ Player æ ‡ç­¾çš„ GameObject</span><br>player = GameObject.FindWithTag(<span class="hljs-string">&quot;Player&quot;</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span>()</span> &#123;<br><span class="hljs-comment">// è®©å½“å‰ GameObject çš„è§†è§’ä¸€ç›´å¯¹ç€ player</span><br>transform.LookAt(Player.transform);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="Layers">Layers</h2><p>å³å±‚çº§ã€‚å±‚çº§èƒ½å…è®¸æˆ‘ä»¬åœ¨ä¸ç›¸å…³çš„<code>GameObject</code>ä¹‹é—´æ·»åŠ ï¼ˆå®šä¹‰ï¼‰é€šç”¨åŠŸèƒ½ï¼Œæ¯”å¦‚åœ¨åœºæ™¯è§†å›¾ä¸­ç»˜åˆ¶å“ªäº›å¯¹è±¡åº”å¿½ç•¥å…‰çº¿æŠ•å°„ã€æˆ–è€…å¯¹ç›¸æœºä¸å¯è§ã€‚è¦æ”¹å˜ä¸€ä¸ª<code>GameObject</code>çš„å±‚çº§ï¼Œä¹Ÿæ˜¯åœ¨<code>Hierarchy</code>ä¸­é€‰ä¸­ï¼Œè½¬åˆ°<code>Inspector</code>ä¸­å³å¯çœ‹è§ã€‚<br>è¦å•ç‹¬é€‰æ‹©å“ªäº›å±‚çº§å¯è§ï¼Œå¯ä»¥åœ¨<code>Inspector</code>çš„ä¸Šæ–¹çš„<code>Layers</code>ï¼ˆæˆ–è€…è¯´åœ¨æ•´ä¸ªç•Œé¢çš„å³ä¸Šè§’ï¼‰ä¸­é€‰æ‹©ã€‚<br><s>ï¼ˆä¸ªäººè§‰å¾—å¯ä»¥ç†è§£æˆç”»ç”»é‡Œè¾¹çš„å›¾å±‚ï¼Ÿï¼‰</s></p><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Unity</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C#</tag>
      
      <tag>Unity</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IPå’Œå­—ç¬¦ä¸²çš„ç›¸äº’è½¬æ¢</title>
    <link href="/2023/05/15/ip2str/"/>
    <url>/2023/05/15/ip2str/</url>
    
    <content type="html"><![CDATA[<h1>æ¥æº</h1><p>æœ¬æ–‡å‡ºè‡ªï¼š<a href="https://blog.csdn.net/mhmyqn/article/details/48653157">MySQLå¦‚ä½•æœ‰æ•ˆçš„å­˜å‚¨IPåœ°å€åŠå­—ç¬¦ä¸²IPå’Œæ•°å€¼ä¹‹é—´å¦‚ä½•è½¬æ¢</a></p><h1>å†™æ³•</h1><p>ä»”ç»†æƒ³æƒ³ï¼Œ<code>IPv4</code>çš„æ¯ä¸€éƒ¨åˆ†å…¶å®éƒ½æ˜¯<code>0~255</code>çš„å–å€¼ï¼Œä¹Ÿå°±æ˜¯<code>8 bit</code>çš„å¤§å°ï¼Œå¦‚æœè½¬æ¢æˆæ•´å‹é‚£ä¹ˆå°±åªéœ€è¦<code>32 bit</code>å³<code>4</code>ä¸ªå­—èŠ‚çš„å¤§å°ã€‚<br>è€Œè½¬æ¢çš„æ–¹æ³•ä¹Ÿæ˜¯é¡ºç€è¿™ä¸ªæ€è·¯ï¼Œå…ˆæŠŠå­—ç¬¦ä¸²ä»¥<code>.</code>ä¸ºåˆ†éš”ç¬¦åˆ†æˆå››éƒ¨åˆ†ï¼Œå†æŠŠè¿™å››éƒ¨åˆ†è¿›è¡Œä½æ“ä½œååŠ èµ·æ¥ï¼Œå°±èƒ½å¾—åˆ°æ•´å‹çš„<code>IPv4</code>åœ°å€äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> Mikan</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æŠŠå­—ç¬¦ä¸²IPè½¬æ¢æˆlong</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> ipStr å­—ç¬¦ä¸²IP</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> IPå¯¹åº”çš„longå€¼</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">long</span> <span class="hljs-title function_">ip2Long</span><span class="hljs-params">(String ipStr)</span> &#123;<br>String[] ip = ipStr.split(<span class="hljs-string">&quot;\\.&quot;</span>);<br><span class="hljs-keyword">return</span> (Long.valueOf(ip[<span class="hljs-number">0</span>]) &lt;&lt; <span class="hljs-number">24</span>) + (Long.valueOf(ip[<span class="hljs-number">1</span>]) &lt;&lt; <span class="hljs-number">16</span>)<br>+ (Long.valueOf(ip[<span class="hljs-number">2</span>]) &lt;&lt; <span class="hljs-number">8</span>) + Long.valueOf(ip[<span class="hljs-number">3</span>]);<br>&#125;<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆè½¬æ¢å›å»çš„æ€è·¯ä¹Ÿå¤§å·®ä¸å·®ï¼Œå…ˆç”¨ä½æ“ä½œå¾—åˆ°å››ä¸ªéƒ¨åˆ†ï¼Œå†è¿›è¡Œè½¬å‹å’Œå­—ç¬¦ä¸²åˆå¹¶ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æŠŠIPçš„longå€¼è½¬æ¢æˆå­—ç¬¦ä¸²</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> ipLong IPçš„longå€¼</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> longå€¼å¯¹åº”çš„å­—ç¬¦ä¸²</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">long2Ip</span><span class="hljs-params">(<span class="hljs-type">long</span> ipLong)</span> &#123;<br><span class="hljs-type">StringBuilder</span> <span class="hljs-variable">ip</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br>ip.append(ipLong &gt;&gt;&gt; <span class="hljs-number">24</span>).append(<span class="hljs-string">&quot;.&quot;</span>);<br>ip.append((ipLong &gt;&gt;&gt; <span class="hljs-number">16</span>) &amp; <span class="hljs-number">0xFF</span>).append(<span class="hljs-string">&quot;.&quot;</span>);<br>ip.append((ipLong &gt;&gt;&gt; <span class="hljs-number">8</span>) &amp; <span class="hljs-number">0xFF</span>).append(<span class="hljs-string">&quot;.&quot;</span>);<br>ip.append(ipLong &amp; <span class="hljs-number">0xFF</span>);<br><span class="hljs-keyword">return</span> ip.toString();<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¯”è¾ƒå°´å°¬çš„æ˜¯<code>java</code>æ²¡æœ‰æ— ç¬¦å·æ•´å‹ï¼Œåªå¥½ç›´æ¥ä½¿ç”¨é•¿æ•´å‹æ¥å­˜å‚¨äº†ï¼ˆä¸è§‰å¾—å¦ä¸€ç§æ„ä¹‰ä¸Šçš„ååˆ†æµªè´¹å—.jpgï¼‰ã€‚</p><h1>å†™åœ¨æœ€å</h1><p>åŸæ–‡ä¸­æåˆ°<code>MySQL</code>ä¸­æ˜¯è‡ªå¸¦ç›¸åº”å‡½æ•°æ¥æŠŠå­—ç¬¦ä¸²æ ¼å¼çš„IPè½¬æ¢æˆæ•´æ•°çš„<code>INET_ATON</code>å’ŒIPè½¬æ¢æˆå­—ç¬¦ä¸²çš„<code>INET_NTOA</code>çš„ï¼Œè¿˜æœ‰é€‚åº”<code>IPv6</code>çš„<code>INET6_ATON</code>å’Œ<code>INET6_NTOA</code>ï¼Œä¹‹åå¯ä»¥å­¦ä¹ ä¸€ä¸‹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>MyBatis-Pluså­¦ä¹ ç¬”è®°-1</title>
    <link href="/2023/05/09/mybatis-plus-1/"/>
    <url>/2023/05/09/mybatis-plus-1/</url>
    
    <content type="html"><![CDATA[<h1>å¿«é€Ÿå…¥é—¨</h1><p>å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæ˜ å°„æ•°æ®åº“ä¸­<code>user</code>è¡¨çš„å®ä½“ç±»<code>User</code>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br><span class="hljs-keyword">private</span> Long id;<br><span class="hljs-keyword">private</span> String name;<br><span class="hljs-keyword">private</span> Integer age;<br><span class="hljs-keyword">private</span> String email;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¦ä½¿ç”¨<code>MyBatis-Plus</code>è¿›è¡Œ<code>CRUD</code>æ“ä½œï¼Œå°±åœ¨<code>Mapper</code>æ–‡ä»¶å¤¹ä¸‹ç¼–å†™å¯¹åº”çš„<code>Mapper</code>ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseMapper</span>&lt;User&gt; &#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨å¯åŠ¨ç±»ä¸­æ·»åŠ <code>@MapperScan</code>æ³¨è§£ï¼Œæ‰«æ<code>Mapper</code>æ–‡ä»¶å¤¹å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@MapperScan(&quot;com.me.quickstart.mapper&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Application</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        SpringApplication.run(Application.class, args);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h1>æ³¨è§£</h1><h2 id="TableName">@TableName</h2><ul><li>æè¿°ï¼šè¡¨åæ³¨è§£ï¼Œæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨</li><li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»<br>ä¸€èˆ¬æ¥è¯´åªéœ€è¦çŸ¥é“<code>value</code>å±æ€§ï¼ˆå³è¡¨åï¼‰å°±è¡Œäº†ã€‚ç”¨æ³•ï¼š<code>@TableName(value=&quot;sys_user&quot;)</code>ï¼Œ<code>@TableName(&quot;sys_user&quot;)</code></li></ul><h2 id="TableId">@TableId</h2><ul><li>æè¿°ï¼šä¸»é”®æ³¨è§£</li><li>ä½¿ç”¨ä½ç½®ï¼šå®ä½“ç±»ä¸»é”®å­—æ®µ<br>ç”¨æ³•ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@TableId</span><br><span class="hljs-keyword">private</span> Long id;<br></code></pre></td></tr></table></figure><h2 id="TableField">TableField</h2><ul><li>æè¿°ï¼šå­—æ®µæ³¨è§£ï¼ˆéä¸»é”®ï¼‰<br>ç”¨æ³•ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@TableField(&quot;nickname&quot;)</span><br><span class="hljs-keyword">private</span> String name;<br></code></pre></td></tr></table></figure><h1>CRUDæ¥å£</h1><p>å»ºè®®è½¬åˆ°æ–‡æ¡£çœ‹ï¼š<a href="https://www.baomidou.com/pages/49cc81/#service-crud-%E6%8E%A5%E5%8F%A3">CRUDæ¥å£</a></p><h2 id="Chain">Chain</h2><h3 id="query">query</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// é“¾å¼æŸ¥è¯¢ æ™®é€š</span><br>QueryChainWrapper&lt;T&gt; <span class="hljs-title function_">query</span><span class="hljs-params">()</span>;<br><span class="hljs-comment">// é“¾å¼æŸ¥è¯¢ lambda å¼ã€‚æ³¨æ„ï¼šä¸æ”¯æŒ Kotlin</span><br>LambdaQueryChainWrapper&lt;T&gt; <span class="hljs-title function_">lambdaQuery</span><span class="hljs-params">()</span>;<br><br><span class="hljs-comment">// ç¤ºä¾‹ï¼š</span><br>query().eq(<span class="hljs-string">&quot;column&quot;</span>, value).one();<br>lambdaQuery().eq(Entity::getId, value).list();<br></code></pre></td></tr></table></figure><h3 id="update">update</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// é“¾å¼æ›´æ”¹ æ™®é€š</span><br>UpdateChainWrapper&lt;T&gt; <span class="hljs-title function_">update</span><span class="hljs-params">()</span>;<br><span class="hljs-comment">// é“¾å¼æ›´æ”¹ lambda å¼ã€‚æ³¨æ„ï¼šä¸æ”¯æŒ Kotlin</span><br>LambdaUpdateChainWrapper&lt;T&gt; <span class="hljs-title function_">lambdaUpdate</span><span class="hljs-params">()</span>;<br><br><span class="hljs-comment">// ç¤ºä¾‹ï¼š</span><br>update().eq(<span class="hljs-string">&quot;column&quot;</span>, value).remove();<br>lambdaUpdate().eq(Entity::getId, value).update(entity);<br></code></pre></td></tr></table></figure><h2 id="ActiveRecordæ¨¡å¼">ActiveRecordæ¨¡å¼</h2><div class="note note-success">            <p><strong>è¯´æ˜</strong>ï¼š</p><ul><li>å®ä½“ç±»åªéœ€ç»§æ‰¿Modelç±»å³å¯è¿›è¡Œå¼ºå¤§çš„CRUDæ“ä½œ</li><li>éœ€è¦é¡¹ç›®ä¸­å·²æ³¨å…¥å¯¹åº”å®ä½“çš„BaseMapper</li></ul>          </div><p>ç”¨æ³•ï¼š</p><ul><li>ç»§æ‰¿Model</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Model</span>&lt;User&gt;&#123;<br><span class="hljs-comment">// fields...</span><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>è°ƒç”¨CRUDæ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>user.insert();<br></code></pre></td></tr></table></figure><h2 id="Dbç±»">Dbç±»</h2><div class="note note-success">            <p><strong>è¯´æ˜</strong>ï¼š</p><ul><li>ä½¿ç”¨é™æ€è°ƒç”¨çš„æ–¹å¼ï¼Œæ‰§è¡ŒCRUDæ–¹æ³•ï¼Œé¿å…<code>Service</code>å¾ªç¯æ³¨å…¥ã€‚</li><li>éœ€è¦é¡¹ç›®ä¸­å·²æ³¨å…¥å¯¹åº”å®ä½“çš„BaseMapper</li><li>å¯¹äºå‚æ•°ä¸ºWrapperçš„ï¼Œéœ€è¦åœ¨Wrapperä¸­ä¼ å…¥Entityæˆ–è€…EntityClassä¾›å¯»æ‰¾å¯¹åº”çš„Mapper</li><li>ä¸å»ºè®®åœ¨å¾ªç¯ä¸­è°ƒç”¨ï¼Œå¦‚æœæ˜¯æ‰¹é‡ä¿å­˜ï¼Œå»ºè®®å°†æ•°æ®æ„é€ å¥½åä½¿ç”¨ Db.saveBatch(æ•°æ®) ä¿å­˜</li></ul>          </div><p>ç”¨æ³•å‚è§ï¼š<a href="https://gitee.com/baomidou/mybatis-plus/blob/3.0/mybatis-plus/src/test/java/com/baomidou/mybatisplus/test/toolkit/DbTest.java">æµ‹è¯•ç”¨ä¾‹</a></p><h1>æ¡ä»¶æ„é€ å™¨</h1><h2 id="AbstractWrapper">AbstractWrapper</h2><p>ç”¨äºç”Ÿæˆ<code>sql</code>çš„<code>where</code>æ¡ä»¶ï¼Œ<code>entity</code>å±æ€§ä¹Ÿç”¨äºç”Ÿæˆ<code>sql</code>çš„<code>where</code>æ¡ä»¶ã€‚åŒæ—¶ä¹Ÿæ˜¯<code>QueryWrapper(LambdaQueryWrapper)</code>å’Œ<code>UpdateWrapper(LambdaUpdateWrapper)</code>çš„çˆ¶ç±»ã€‚<br>æ–¹æ³•å‚ç…§ï¼š<a href="https://www.baomidou.com/pages/10c804/#abstractwrapper">æ¡ä»¶æ„é€ å™¨</a></p><h2 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</h2><p>ç»§ç»­ä½¿ç”¨æœ€å¼€å§‹æåˆ°çš„<code>User</code>å®ä½“ç±»ï¼Œå‡è®¾<code>id</code>å¯¹åº”æ•°æ®åº“ä¸­çš„<code>uid</code>å­—æ®µã€‚</p><h3 id="QueryWrapper">QueryWrapper</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// æŸ¥è¯¢æ¡ä»¶æ„é€ å™¨</span><br>QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();<br>wrapper.eq(<span class="hljs-string">&quot;uid&quot;</span>, id);<br><span class="hljs-comment">// æŸ¥è¯¢æ“ä½œ</span><br>List&lt;User&gt; users = userMapper.selectList(wrapper);<br></code></pre></td></tr></table></figure><p>å¼•å…¥<code>lambda</code>æ¥é¿å…ç¡¬ç¼–ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();<br>wrapper.lambda().eq(User::getId, id);<br><span class="hljs-comment">// æŸ¥è¯¢æ“ä½œ</span><br>List&lt;User&gt; users = userMapper.selectList(wrapper);<br></code></pre></td></tr></table></figure><h3 id="LambdaQueryWrapper">LambdaQueryWrapper</h3><p>ä¸Šé¢çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">LambdaQueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;User&gt;().lambda();<br>wrapper.eq(User::getId, id);<br>List&lt;User&gt; user = userMapper.selectList(wrapper);<br></code></pre></td></tr></table></figure><p>ç®€åŒ–å†ç®€åŒ–ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">LambdaQueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;();<br>wrapper.eq(User::getId, id);<br>List&lt;User&gt; user = userMapper.selectList(wrapper);<br></code></pre></td></tr></table></figure><h3 id="UpdateWrapper">UpdateWrapper</h3><p>æ—¢ç„¶éƒ½æœ‰æŸ¥è¯¢ç”¨çš„<code>wrapper</code>é‚£è‚¯å®šä¹Ÿæœ‰æ›´æ–°ç”¨çš„<code>wrapper</code>å•¦ï¼Œä½¿ç”¨æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">UpdateWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UpdateWrapper</span>&lt;&gt;();<br>wrapper.set(<span class="hljs-string">&quot;user_name&quot;</span>, name);<br>wrapper.eq(<span class="hljs-string">&quot;uid&quot;</span>, id);<br>userMapper.update(<span class="hljs-literal">null</span>, wrapper);<br></code></pre></td></tr></table></figure><h3 id="LambdaUpdateWrapper">LambdaUpdateWrapper</h3><p>é‚£å…¶å®ç”¨æ³•å’Œä¸Šé¢çš„<code>lambda</code>æŸ¥è¯¢å·®ä¸å¤š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">LambdaUpdateWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaUpdateWrapper</span>&lt;User&gt;()<br>.eq(User::getId, id)<br>.set(User::getName, name);<br>userMapper.udpate(<span class="hljs-literal">null</span>, wrapper);<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>MyBatis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>SQL</tag>
      
      <tag>Spring</tag>
      
      <tag>MyBatis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Docker(ğŸ‹)å­¦ä¹ ç¬”è®°-1</title>
    <link href="/2023/04/27/docker-learning-1/"/>
    <url>/2023/04/27/docker-learning-1/</url>
    
    <content type="html"><![CDATA[<h1>Dockeræ˜¯ä»€ä¹ˆï¼Ÿ</h1><p><s>æ˜¯ä¸€æ¡ğŸ‹</s>æ˜¯ä¸€ä¸ªåº”ç”¨å®¹å™¨å¼•æ“ã€‚åæ­£å°±æ˜¯ä½ å¯ä»¥ç”¨å®ƒæ¥æ‰“åŒ…ã€ä¼ è¾“å’Œæ–°æœºå™¨ä¸Šå¿«é€Ÿéƒ¨ç½²åº”ç”¨ã€‚ï¼ˆä¸ºåº”ç”¨æä¾›ä¸€ä¸ªç‹¬ç«‹çš„ã€éš”ç¦»çš„æ²™ç›’ç¯å¢ƒï¼‰</p><h2 id="ä»€ä¹ˆæ˜¯å®¹å™¨ï¼Ÿ">ä»€ä¹ˆæ˜¯å®¹å™¨ï¼Ÿ</h2><p>è¿™é‡Œå¼•ç”¨å®˜æ–¹æ–‡æ¡£çš„åŸæ–‡ï¼Œä¸€ä¸ªå®¹å™¨å¯ä»¥æ€»ç»“ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>æ˜¯ä¸€ä¸ªé•œåƒçš„å¯è¿è¡Œå®ä¾‹ã€‚ä½ èƒ½å¤Ÿé€šè¿‡ä½¿ç”¨DockerAPIå’ŒCLIæ¥åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€ç§»åŠ¨æˆ–æ˜¯åˆ é™¤ä¸€ä¸ªå®¹å™¨ã€‚</li><li>å¯ä»¥è¿è¡Œåœ¨æœ¬åœ°æˆ–è™šæ‹Ÿæœºä¸Šï¼Œåˆæˆ–æ˜¯éƒ¨ç½²åœ¨äº‘ä¸Šã€‚</li><li>æ˜¯ä¾¿æºçš„ï¼ˆå¯è¿è¡Œåœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸Šï¼‰</li><li>å’Œå…¶ä»–çš„å®¹å™¨æ˜¯éš”ç¦»çš„ï¼Œå¹¶ä¸”è¿è¡Œå®ƒè‡ªå·±æ‹¥æœ‰çš„è½¯ä»¶ã€äºŒè¿›åˆ¶æ–‡ä»¶å’Œé…ç½®ã€‚</li></ul><h1>åœ¨è‡ªå·±çš„æœºå™¨ä¸Šå®‰è£…Docker</h1><p>å®˜æ–¹æä¾›äº†ä¸‰ç§å¹³å°ï¼ˆMacã€Windowsã€Linuxï¼‰çš„å®‰è£…æ–‡æ¡£ï¼š<a href="https://docs.docker.com/get-docker/">Get Docker</a>ã€‚æˆ‘è‡ªå·±æ˜¯Windowså¹³å°ã€‚</p><div class="note note-warning">            <p>Dockerçš„å®‰è£…å¯èƒ½æ¯”è¾ƒå¤æ‚ï¼ˆå› ä¸ºè¿˜éœ€è¦Windowså®‰è£…Linuxå­ç³»ç»Ÿå’Œè™šæ‹Ÿæœºå¹³å°æ”¯æŒä»€ä¹ˆçš„ï¼‰ï¼è¯·è€å¿ƒä¸€æ­¥ä¸€æ­¥æ¥å¹¶è§£å†³å„ç§é—®é¢˜ï¼</p>          </div><p>å®‰è£…æˆåŠŸåçš„<code>Docker Desktop</code>ç•Œé¢ï¼š<img src="http://imagehost.map1e-g.cn/Docker/docker_interface_1.jpg" alt="Docker Desktop"><br>åŒæ ·çš„ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨<code>docker run hello-world</code>å‘½ä»¤è¿›è¡ŒéªŒè¯ï¼Œå®‰è£…å¥½ååº”è¯¥å¦‚å›¾æ‰€ç¤ºï¼š<img src="http://imagehost.map1e-g.cn/Docker/docker_cli_1.jpg" alt="Docker Cli"></p><h1>è·Ÿç€å®˜æ–¹åˆ›å»ºä¸€ä¸ªå®¹å™¨å¹¶åœ¨å…¶ä¸Šé¢å¯åŠ¨app</h1><p>é¦–å…ˆï¼Œæˆ‘ä»¬æŠŠé¡¹ç›®å…‹éš†åˆ°æœ¬åœ°ï¼š<code>git clone https://github.com/docker/getting-started.git</code>ã€‚<br>ç„¶ååœ¨<code>vscode</code>ä¸­æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹ï¼ˆå½“ç„¶äº†ï¼Œ<code>vscode</code>éœ€è¦<strong>å®‰è£…Docker</strong>æ‰©å±•ï¼‰ã€‚<br>æ³¨æ„åˆ°ç›®å½•ä¸­çš„<code>Dockerfile</code>äº†å—ï¼Ÿå®ƒæ˜¯ä¸ªç®€å•çš„æŒ‡ä»¤è„šæœ¬ï¼Œè€Œä¸”æ²¡æœ‰æ–‡ä»¶æ‰©å±•ï¼Œ<code>Docker</code>å°±æ˜¯ç”¨è¿™ä¸ªè„šæœ¬æ¥æ„å»ºå®¹å™¨é•œåƒçš„ã€‚<br>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨å½“å‰æ–‡ä»¶å¤¹çš„å­æ–‡ä»¶å¤¹<code>app</code>ä¸­åˆ›å»ºä¸€ä¸ª<code>Dockerfile</code>è„šæœ¬ã€‚</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œæ‰“å¼€<code>vscode</code>çš„æ‚¬æµ®å‘½ä»¤è¡Œé¢æ¿ï¼ˆå¿«æ·é”®ä¸º<code>Ctrl+Shift+P</code>ï¼‰ï¼Œè¾“å…¥<code>Terminal</code>ï¼Œæ‰¾åˆ°<code>Terminal:Create New Terminal</code>å¹¶å•å‡»ã€‚</li><li>å“¦ï¼Œå½“ç„¶ï¼Œè®°å¾—ä½¿ç”¨<code>Command Prompt</code>è€Œä¸æ˜¯ä½¿ç”¨<code>Powershell</code>ï¼Œä¸‹é¢çš„å‘½ä»¤åœ¨<code>Powershell</code>ä¸­å¹¶ä¸é€‚ç”¨ã€‚è¦ä½¿ç”¨<code>Command Prompt</code>ï¼Œåœ¨åˆšåˆšå¼¹å‡ºçš„ç»ˆç«¯çª—å£çš„å³ä¸Šè§’ï¼Œç‚¹å‡»<code>+</code>å’Œ<code>...</code>ä¹‹é—´çš„æŒ‰é’®ï¼Œåœ¨å¼¹å‡ºçš„åˆ—è¡¨ä¸­é€‰æ‹©å³å¯ã€‚</li><li>ç¬¬äºŒæ­¥ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<code>cd app</code>ï¼Œè¿›å…¥<code>app</code>æ–‡ä»¶å¤¹ï¼›<code>type nul &gt; Dockerfile</code>ï¼Œåˆ›å»º<code>Dockerfile</code>è„šæœ¬æ–‡ä»¶ã€‚<br>ç„¶åå°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°<code>Dockerfile</code>ä¸­ï¼š</li></ul><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Docker"><span class="hljs-comment"># syntax=docker/dockerfile:1</span><br>   <br><span class="hljs-keyword">FROM</span> node:<span class="hljs-number">18</span>-alpine<br><span class="hljs-keyword">WORKDIR</span><span class="language-bash"> /app</span><br><span class="hljs-keyword">COPY</span><span class="language-bash"> . .</span><br><span class="hljs-keyword">RUN</span><span class="language-bash"> yarn install --production</span><br><span class="hljs-keyword">CMD</span><span class="language-bash"> [<span class="hljs-string">&quot;node&quot;</span>, <span class="hljs-string">&quot;src/index.js&quot;</span>]</span><br><span class="hljs-keyword">EXPOSE</span> <span class="hljs-number">3000</span><br></code></pre></td></tr></table></figure><p>ç¬¬ä¸€è¡Œçš„<code>FROM</code>æŒ‡ä»¤åˆå§‹åŒ–äº†ä¸€ä¸ªæ–°çš„æ„å»ºé˜¶æ®µå¹¶ä¸ºåç»­æŒ‡ä»¤è®¾ç½®åŸºæœ¬é•œåƒï¼Œä¸€ä¸ªåˆæ³•çš„<code>Dockerfile</code>å¿…é¡»ä»¥è¯¥æŒ‡ä»¤å¼€å¤´ã€‚<br>ç¬¬äºŒè¡Œçš„<code>WORKDIR</code>å°±æ˜¯ä¸ºåç»­çš„<code>RUN</code>ã€<code>CMD</code>ã€<code>ENTRYPOINT</code>ã€<code>COPY</code>å’Œ<code>ADD</code>è®¾ç½®å·¥ä½œè·¯å¾„ã€‚<br>ç¬¬ä¸‰è¡Œçš„<code>COPY</code>æŒ‡ä»¤ä»<code>&lt;src&gt;</code>å¤åˆ¶æ–°æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿè·¯å¾„<code>&lt;dest&gt;</code> <code>ä¸­ã€‚   ç¬¬å››è¡Œçš„</code>RUN<code>å°±æ˜¯æ‰§è¡Œè·Ÿåœ¨å…¶åé¢çš„æŒ‡ä»¤ã€‚   ç¬¬äº”è¡Œçš„</code>CMD<code>æŒ‡ä»¤çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºæ­£åœ¨æ‰§è¡Œçš„å®¹å™¨æä¾›é»˜è®¤å€¼ï¼Œè¿™äº›é»˜è®¤å€¼å¯ä»¥åŒ…å«å¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨ä½ æŒ‡å®š</code>ENTRYPOINT<code>çš„æƒ…å†µä¸‹çœç•¥å¯æ‰§è¡Œæ–‡ä»¶ã€‚   ç¬¬å…­è¡Œçš„</code>EXPOSE<code>æŒ‡ä»¤å‘ŠçŸ¥</code>Docker<code>å®¹å™¨åœ¨è¿è¡Œçš„æ—¶å€™ç›‘å¬æŒ‡å®šçš„ç½‘ç»œç«¯å£ï¼Œä½ å¯ä»¥æŒ‡å®šç«¯å£æ˜¯ç›‘å¬UDPè¿˜æ˜¯TCPï¼ˆ</code>EXPOSE 3000/udp<code>ï¼‰ï¼Œé»˜è®¤ä¸ºTCPã€‚   é‚£ä¹ˆæ¥ä¸‹æ¥å°±èƒ½å¤Ÿæ„å»ºä¸€ä¸ªå®¹å™¨é•œåƒäº†ã€‚åœ¨</code>app<code>ç›®å½•ä¸‹ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</code>docker build -t getting-started .`ï¼ˆäº†è§£æ›´å¤šæœ‰å…³è¯¥æŒ‡ä»¤çš„ä¿¡æ¯ï¼Œå¯ä»¥å‚è€ƒ<a href="https://docs.docker.com/get-started/02_our_app/">å®˜æ–¹æ–‡æ¡£</a>ï¼‰</p><div class="note note-warning">            <p>å¦‚æœæœ¬åœ°æ²¡æœ‰æ‰€éœ€è¦çš„é•œåƒï¼ˆ<code>FROM</code>æŒ‡å®šçš„ï¼‰ï¼Œé‚£ä¹ˆ<code>Docker</code>å°±éœ€è¦ä»ç½‘ä¸Šæ‹‰å–ã€‚</p>          </div><p>æœ€åä¸€æ­¥ï¼Œåœ¨æˆ‘ä»¬çš„å®¹å™¨é‡Œå¯åŠ¨appï¼è¾“å…¥æŒ‡ä»¤ï¼š<code>docker run -dp 3000:3000 getting-started</code>æ¥å¯åŠ¨ã€‚</p><h1>æ›´æ–°åº”ç”¨</h1><p>TO DOâ€¦</p><h1>å‚è€ƒæ–‡æ¡£</h1><p>Dockerå®˜æ–¹æ–‡æ¡£ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Docker</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Docker</tag>
      
      <tag>VSCode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Springå­¦ä¹ ç¬”è®°-1</title>
    <link href="/2023/04/26/spring-learning-1/"/>
    <url>/2023/04/26/spring-learning-1/</url>
    
    <content type="html"><![CDATA[<h1>å¼€å‘ç¯å¢ƒæ­å»º</h1><p>æˆ‘é€‰æ‹©çš„<code>IDE</code>æ˜¯<code>vscode</code>ï¼ŒåŸå› æ˜¯è½»å·§ã€ç®€å•ã€å¥½ç”¨ï¼ˆæœ€é‡è¦çš„æ˜¯å…è´¹ï¼‰ï¼Œä¸è¿‡åœ¨è¿›è¡Œå¼€å‘ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹<code>vscode</code>è¿›è¡Œä¸€äº›ç¯å¢ƒæ­å»ºå’Œé…ç½®ã€‚<br>å¦‚ä½•åœ¨<code>vscode</code>ä¸Šé¢ç¼–å†™<code>Java</code>ç¨‹åºå’Œç¼–å†™<code>Spring Boot</code>é¡¹ç›®ï¼Œåœ¨<code>vscode</code>çš„å®˜æ–¹æ–‡æ¡£ä¸­éƒ½èƒ½å¤Ÿæ‰¾åˆ°ï¼Œåœ¨è¿™é‡Œæ”¾å‡ºé“¾æ¥ï¼š</p><ul><li><a href="https://code.visualstudio.com/docs/java/java-tutorial">Setting up VS Code for Java development</a></li><li><a href="https://code.visualstudio.com/docs/java/java-spring-boot">Spring Boot in Visual Studio Code</a><br>åœ¨æ­å»ºç¯å¢ƒè¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·å–„ç”¨æœç´¢å¼•æ“<s>æˆ–è€…æŠ€æœ¯ç¾¤ç¾¤å‹</s>ã€‚<br>æ ¹æ®ä¸Šé¢ä¸¤ä¸ªç½‘ç«™èµ°å®Œæµç¨‹ï¼Œåº”è¯¥èƒ½å¤ŸæˆåŠŸå¯åŠ¨ä¸€ä¸ª<code>Spring Boot</code>é¡¹ç›®ã€‚<br>å½“ç„¶äº†ï¼Œå¦‚æœä¸æƒ³è‡ªå·±åˆ›å»ºä¸€ä¸ª<code>Spring Boot</code>åº”ç”¨çš„è¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨<code>git clone</code>æ‹‰ä¸€ä¸ªé¡¹ç›®ç›´æ¥è¿è¡Œæµ‹è¯•ç»“æœï¼Œè¿™é‡Œä»¥<code>https://github.com/spring-guides/gs-spring-boot.git</code>ä¸ºä¾‹ã€‚<br>ä½¿ç”¨<code>Ctrl+Shift+P</code>æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥<code>git clone</code>ï¼Œç„¶åè¾“å…¥<code>https://github.com/spring-guides/gs-spring-boot.git</code>ï¼Œé€‰å¥½æ–‡ä»¶å¤¹ï¼Œç­‰å¾…å®Œæˆå³å¯ã€‚<br>æ‹‰å–å®Œæˆä¹‹åï¼Œåˆ‡æ¢åˆ°å·¦è¾¹ä¾§æ çš„<code>Spring Boot Dashboard</code>é¢æ¿ï¼Œé‡Œé¢åº”è¯¥ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œå‚è€ƒä¸‹å›¾ï¼š<br><img src="http://imagehost.map1e-g.cn/SpringBootLearning/1/dashboard.jpg" alt="1638"><br>æˆ‘ä»¬å¯ä»¥ç›´æ¥ä»<code>APPS</code>é‡Œé¢å¯åŠ¨æˆ‘ä»¬æƒ³è¦å¯åŠ¨çš„åº”ç”¨ï¼Œè¿™é‡Œæˆ‘å¯åŠ¨çš„æ˜¯<code>spring-boot-complete</code>ï¼Œå¯åŠ¨å®Œæˆåå‚è€ƒä¸‹å›¾ï¼š<br><img src="http://imagehost.map1e-g.cn/SpringBootLearning/1/greet_from_vscode.jpg" alt="1638"></li></ul><h1>SpringBooté…ç½®</h1><h2 id="è‡ªå®šä¹‰é…ç½®ç±»">è‡ªå®šä¹‰é…ç½®ç±»</h2><p>åœ¨<code>Spring 3.0</code>ä¹‹åï¼Œä¸å†éœ€è¦<code>XML</code>é…ç½®æ–‡ä»¶äº†ï¼Œå¯ä»¥ä½¿ç”¨<code>@Configuration</code>æ³¨è§£æ¥ä»£æ›¿<code>XML</code>é…ç½®æ–‡ä»¶ã€‚è€Œ<code>@SpringBootConfiguration</code>æ˜¯Spring Bootåº”ç”¨çš„ä¸“ç”¨é…ç½®ç±»æ³¨è§£ï¼Œå…¶ä½œç”¨ç­‰æ•ˆäº<code>@Configuration</code>ï¼Œç”¨å“ªä¸ªéƒ½å¯ä»¥ã€‚<br><code>Spring 3.0+</code>ä¸­æœ‰ä¸€æ•´å¥—çš„æ³¨è§£æ¥ä»£æ›¿<code>XML</code>é…ç½®æ–‡ä»¶ä¸­çš„å®šä¹‰ï¼Œå¦‚<code>@Bean</code>ç­‰ã€‚</p><h2 id="å¯¼å…¥é…ç½®">å¯¼å…¥é…ç½®</h2><p><code>Spring Boot</code>ä¼šè‡ªåŠ¨æ‰«æå½“å‰åŒ…ä¸‹çš„é…ç½®ç±»ï¼Œä½†æ˜¯å¦‚æœé…ç½®ç±»åœ¨å…¶ä»–å­åŒ…ä¸­ï¼Œåˆæˆ–è€…åœ¨ä¾èµ–çš„<code>jar</code>åŒ…ä¸­ï¼Œæˆ‘ä»¬å°±éœ€è¦æ‰‹åŠ¨å¯¼å…¥é…ç½®ç±»ï¼Œä½¿ç”¨<code>@Import</code>æ³¨è§£æ¥å¯¼å…¥é…ç½®ç±»ã€‚<br>ä¸è¿‡<code>@SpringBootApplication</code>æ³¨è§£åŒ…å«äº†<code>@ComponentScan</code>æ³¨è§£å¹¶æ‰«ææ‰€æœ‰å­åŒ…ç›®å½•ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´å³ä½¿é…ç½®ç±»åœ¨å…¶ä»–å­åŒ…ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦è‡ªå·±å¯¼å…¥é…ç½®ç±»ã€‚å¿…è¦æ—¶ï¼Œç›´æ¥ä½¿ç”¨<code>@ComponentScan</code>æ¥æ·»åŠ è¦æ‰«æçš„è·¯å¾„ï¼Œä¼šæ¯”<code>@Import</code>æ–¹ä¾¿ã€‚<br>å¦‚æœè¿™äº›é…ç½®ç±»éƒ½åœ¨ç±»æ‰«æè·¯å¾„ä¸‹ï¼Œå°±ä¸éœ€è¦é€šè¿‡<code>@Import</code>å¯¼å…¥äº†ã€‚<br><code>Spring</code>æ¡†æ¶è¿˜æä¾›äº†ä¸€ä¸ª<code>@ImportResource</code>æ³¨è§£ï¼Œå¯ä»¥ç”¨äºå¯¼å…¥é¢å¤–çš„<code>XML</code>é…ç½®æ–‡ä»¶ï¼ŒæŒ‡å®šè¦å¯¼å…¥çš„æ–‡ä»¶è·¯å¾„å³å¯ã€‚</p><h2 id="é…ç½®æ–‡ä»¶">é…ç½®æ–‡ä»¶</h2><p>é…ç½®æ–‡ä»¶æœ‰ä¸¤ç§æ ¼å¼ï¼Œä¸€ç§æ˜¯<code>.properties</code>æ ¼å¼ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">spring.datasource.url</span>=<span class="hljs-string">jdbc:mysql://$&#123;MYSQL_HOST:localhost&#125;:3306/db_example</span><br><span class="hljs-attr">spring.datasource.username</span>=<span class="hljs-string">springuser</span><br><span class="hljs-attr">spring.datasource.password</span>=<span class="hljs-string">ThePassword</span><br><span class="hljs-attr">spring.datasource.driver-class-name</span>=<span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br></code></pre></td></tr></table></figure><p>å¦å¤–ä¸€ç§æ˜¯<code>.yml</code>æ ¼å¼ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://$&#123;MYSQL_HOST:localhost&#125;:3306/db_example</span><br><span class="hljs-attr">username:</span> <span class="hljs-string">springuser</span><br><span class="hljs-attr">password:</span> <span class="hljs-string">ThePassword</span><br><span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br></code></pre></td></tr></table></figure><p><code>.yml</code>æ ¼å¼çš„æ ¼å¼è¯´æ˜ï¼š</p><ul><li>é”®å†’å·åé¢éœ€è¦å¸¦ä¸€ä¸ªç©ºæ ¼</li><li>æ¯ä¸ªå±‚çº§çš„ç¼©è¿›ç”¨ä¸¤ä¸ªç©ºæ ¼<br>éœ€è¦æ³¨æ„çš„æ˜¯<code>.yml</code>é…ç½®æ–‡ä»¶ä¸æ”¯æŒ<code>@PropertySource</code>æ³¨è§£æ¥å¯¼å…¥é…ç½®ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨<code>@ConfigurationProperties</code>æ³¨è§£ã€‚</li></ul><h2 id="é…ç½®ç»‘å®š">é…ç½®ç»‘å®š</h2><h3 id="å‚æ•°ç»‘å®š">å‚æ•°ç»‘å®š</h3><p>é¦–å…ˆç¼–å†™<code>application.yml</code>é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">user:</span><br>  <span class="hljs-attr">name:</span> <span class="hljs-string">Maple</span><br>  <span class="hljs-attr">age:</span> <span class="hljs-number">18</span><br>  <span class="hljs-attr">params:</span><br>    <span class="hljs-attr">first:</span> <span class="hljs-string">China</span><br>    <span class="hljs-attr">second:</span> <span class="hljs-number">2</span><br>  <span class="hljs-attr">accountInf:</span><br>    <span class="hljs-attr">account:</span> <span class="hljs-number">123456</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure><p>ç„¶åæ–°å»º<code>UserProperties</code>å‚æ•°ç±»è¿›è¡Œå‚æ•°ç»‘å®šï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@ConfigurationProperties(prefix = &quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserProperties</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <span class="hljs-keyword">private</span> Map&lt;String, String&gt; params;<br>    <span class="hljs-keyword">private</span> AccountInf accountInf;<br>&#125;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AccountInf</span> &#123;<br>    <span class="hljs-keyword">private</span> String account;<br>    <span class="hljs-keyword">private</span> String password;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ä¸€ä¸‹ä¸€èˆ¬å‚æ•°ç±»çš„å‘½åè§„èŒƒï¼š<code>XxxProperties</code>ã€‚<br>ä½¿ç”¨<code>@ConfigurationProperties</code>æ³¨è§£å¯ä»¥å°†é…ç½®å‚æ•°æ˜ å°„åˆ°ä¸€ä¸ª<code>Java Bean</code>ä¸Šï¼Œè¯¥æ³¨è§£ä¸­çš„<code>prefix</code>æˆ–<code>value</code>å‚æ•°ç”¨äºæŒ‡å®šè¦æ˜ å°„çš„å‚æ•°å‰ç¼€ï¼Œå‰ç¼€æ ¼å¼ä¸ºè‹±æ–‡å°å†™ï¼Œå¤šä¸ªå‰ç¼€ä»¥<code>-</code>åˆ†éš”ã€‚<br>å› ä¸º<code>@ConfigurationProperties</code>æ³¨è§£ç»‘å®šé…ç½®å‚æ•°éœ€è¦ç”¨åˆ°ç±»çš„<code>setter</code>æ–¹æ³•ï¼Œæ‰€ä»¥è¿™é‡Œç”¨äº†<code>@Data</code>æ³¨è§£ã€‚<code>Lombok</code>ä¸­çš„<code>@Data</code>æ³¨è§£ç”¨äºåœ¨ç¼–è¯‘çš„æ—¶å€™ç”Ÿæˆç±»çš„<code>setter</code>ã€<code>getter</code>ã€æ„é€ å™¨ã€<code>toString</code>ç­‰æ–¹æ³•ã€‚<br>ç„¶ååœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ <code>@EnableConfigurationProperties</code>æ³¨è§£ï¼Œç”¨äºæŒ‡å®šè¦å¯ç”¨çš„<code>@ConfigurationProperties</code>å‚æ•°ç±»ï¼Œä½¿å…¶ç”Ÿæ•ˆï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-meta">@RequiredArgsConstructor</span><br><span class="hljs-meta">@EnableConfigurationProperties(value = &#123; UserProperties.class &#125;)</span><br><span class="hljs-meta">@Slf4j</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoApplication</span> &#123;<br><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserProperties userProperties;<br><br><span class="hljs-meta">@Bean</span><br><span class="hljs-keyword">public</span> CommandLineRunner <span class="hljs-title function_">commandLineRunner</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-keyword">return</span> (args) -&gt; &#123;<br>log.info(<span class="hljs-string">&quot;user properties: &#123;&#125;&quot;</span>, userProperties);<br>&#125;;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>SpringApplication.run(DemoApplication.class, args);<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h1>ä¹±ä¸ƒå…«ç³Ÿçš„</h1><p>å…¶å®è¿™é‡Œæ”¾çš„æ˜¯æˆ‘çœ‹ä¸€ä¸ªé¡¹ç›®æ—¶å€™é¡ºé“å­¦ä¹ çš„ä¸œè¥¿</p><h2 id="AOPé¢å‘åˆ‡é¢ç¼–ç¨‹">AOPé¢å‘åˆ‡é¢ç¼–ç¨‹</h2><p>å…ˆä¸Šåœ¨å“ªçœ‹çš„æ¦‚å¿µï¼ˆå…¬ä¼—å·ï¼šCoderLiï¼‰ï¼š<a href="https://mp.weixin.qq.com/s/kX6T-WyJWUhOnj4cyEGHmg">AOP æ¦‚å¿µç¯‡</a><br><code>AOP</code>å°±æ˜¯<code>Aspect Oriented Programming</code>çš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ˜¯<code>Spring</code>ï¼ˆæ³¨æ„ä¸æ˜¯<code>Spring Boot</code>ï¼‰æ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ã€‚<br>okï¼Œä¸æ•´è¿™äº›çœ‹äº†æœ‰çš„æ²¡çš„ä¸œè¥¿ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œå®ƒååˆ†åƒ<code>C#</code>ä¸­çš„å§”æ‰˜ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨æŸä¸ªä¸šåŠ¡ç±»ä¸­æœ‰æŸä¸ªä¸šåŠ¡æ–¹æ³•ï¼Œåœ¨æ‰§è¡Œè¿™ä¸ªæ–¹æ³•å‰ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ£€æŸ¥ï¼ˆæˆ–è¯´æ‰§è¡ŒæŸä¸ªæ–¹æ³•ï¼‰ï¼Œåœ¨æ‰§è¡Œå®Œè¿™ä¸ªæ–¹æ³•åï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦è¿›è¡Œæ£€æŸ¥ï¼ˆæˆ–è¯´æ‰§è¡Œå¦ä¸€ä¸ªæ–¹æ³•ï¼‰ï¼Œè¿™æ—¶å€™æˆ‘ä»¬è¿˜æœ‰å¦å¤–ä¸€ä¸ªä¸šåŠ¡ç±»å’Œä¸šåŠ¡æ–¹æ³•ï¼Œå®ƒä¹Ÿéœ€è¦å’Œå‰é¢æ‰€è¯´çš„é‚£æ ·åšï¼Œé‚£ä¸ºäº†è¿™é‡Œèƒ½å¤Ÿå‡å°‘é‡å¤å·¥ä½œé‡ï¼Œ<code>AOP</code>å°±æ˜¯ä¸ºæ­¤è€Œç”Ÿçš„ï¼ˆç¡®ä¿¡ï¼‰ï¼Œå®ƒå…ˆæŠŠæ‰§è¡Œå‰å’Œæ‰§è¡Œåè¦æ‰§è¡Œçš„æ£€æŸ¥æå–å‡ºæ¥ï¼Œå¦‚æœæœ‰ä»€ä¹ˆåœ°æ–¹éœ€è¦ç”¨çš„ï¼Œç›´æ¥è¿›è¡Œæ³¨å…¥å³å¯ã€‚<br>ä¸€ä¸ªæµè¡Œçš„<code>Java AOP</code>æ¡†æ¶å°±æ˜¯<code>AspectJ</code>ï¼Œé‚£ä¹ˆåœ¨æˆ‘è¿™ä¸ªé¡¹ç›®é‡Œç”¨åˆ°çš„ä¹Ÿæ˜¯å®ƒã€‚<br>ä¸<code>AOP</code>ç›¸å…³çš„æ¦‚å¿µæœ‰ï¼ˆæ­¤å¤„å‡ºè‡ªä¸Šé¢æ–‡ç« ï¼Œæˆ‘æ€•ä¸Šè¾¹æ–‡ç« å“ªå¤©æŒ‚äº†çœ‹ä¸åˆ°äº†ï¼‰ï¼š</p><ul><li>è¿æ¥ç‚¹ï¼šç¨‹åºæ‰§è¡Œçš„æŸä¸ªç‰¹å®šä½ç½®ï¼Œæ¯”å¦‚æŸä¸ªæ–¹æ³•è°ƒç”¨å‰ã€è°ƒç”¨åï¼Œæ–¹æ³•æŠ›å‡ºå¼‚å¸¸åï¼Œå¯¹ç±»æˆå‘˜çš„è®¿é—®ä»¥åŠå¼‚å¸¸å¤„ç†ç¨‹åºå—çš„æ‰§è¡Œç­‰ã€‚ä¸€ä¸ªç±»æˆ–ä¸€æ®µç¨‹åºä»£ç æ‹¥æœ‰ä¸€äº›å…·æœ‰è¾¹ç•Œæ€§è´¨çš„ç‰¹å®šç‚¹ï¼Œè¿™äº›ä»£ç ä¸­çš„ç‰¹å®šç‚¹å°±æ˜¯è¿æ¥ç‚¹ã€‚å®ƒè‡ªèº«è¿˜å¯ä»¥åµŒå¥—å…¶ä»–çš„ Joinpointã€‚AOP ä¸­çš„ Joinpoint å¯ä»¥æœ‰å¤šç§ç±»å‹ï¼šæ„é€ æ–¹æ³•è°ƒç”¨ï¼Œå­—æ®µçš„è®¾ç½®å’Œè·å–ï¼Œæ–¹æ³•çš„è°ƒç”¨ï¼Œæ–¹æ³•çš„æ‰§è¡Œï¼Œå¼‚å¸¸çš„å¤„ç†æ‰§è¡Œï¼Œç±»çš„åˆå§‹åŒ–ã€‚Spring ä»…æ”¯æŒæ–¹æ³•æ‰§è¡Œç±»å‹çš„ Joinpointã€‚</li><li>åˆ‡ç‚¹ï¼šå¦‚æœè¿æ¥ç‚¹ç›¸å½“äºæ•°æ®ä¸­çš„è®°å½•ï¼Œé‚£ä¹ˆåˆ‡ç‚¹ç›¸å½“äºæŸ¥è¯¢æ¡ä»¶ï¼Œä¸€ä¸ªåˆ‡ç‚¹å¯ä»¥åŒ¹é…å¤šä¸ªè¿æ¥ç‚¹ã€‚æ‰€ä»¥åˆ‡ç‚¹è¡¨ç¤ºä¸€ç»„ Joinpoint ï¼Œè¿™äº› Jointpoint æˆ–æ˜¯é€šè¿‡é€»è¾‘å…³ç³»ç»„åˆèµ·æ¥ï¼Œæˆ–æ˜¯é€šè¿‡é€šé…ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰æ–¹å¼é›†ä¸­èµ·æ¥ï¼Œå®ƒå®šä¹‰äº†ç›¸åº”çš„ Advice å°†è¦å‘ç”Ÿçš„åœ°æ–¹ã€‚</li><li>é€šçŸ¥ï¼šæ˜¯ç»‡å…¥åˆ°ç›®æ ‡ç±»è¿æ¥ç‚¹ä¸Šçš„ä¸€æ®µç¨‹åºä»£ç ã€‚Spring æä¾›çš„é€šçŸ¥æ¥å£éƒ½æ˜¯å¸¦æ–¹ä½åçš„ï¼Œå¦‚ï¼šBeforeAdviceã€AfterReturningAdviceã€ThrowsAdvice ç­‰ã€‚æˆ‘ä»¬é€šè¿‡ AOP å°†æ¨ªåˆ‡å…³æ³¨åŠŸèƒ½åŠ åˆ°åŸæœ‰çš„ä¸šåŠ¡é€»è¾‘ä¸Šï¼Œè¿™æ˜¯å¯¹åŸæœ‰ä¸šåŠ¡é€»è¾‘çš„ä¸€ç§å¢å¼ºï¼Œå¯ä»¥æ˜¯å‰ç½®ã€åç½®ã€è¿”å›åã€æŠ›å‡ºå¼‚å¸¸æ—¶ç­‰ã€‚å…¶å® Advice ç¿»è¯‘æˆâ€œå¢å¼ºâ€æ›´åˆç†ï¼Œæ›´èƒ½å‡†ç¡®è¡¨è¾¾å…¶æœ¬è´¨ã€‚æ—¢ç„¶å¤§éƒ¨åˆ†æ–‡çŒ®éƒ½æ˜¯ç§°ä¸ºé€šçŸ¥ï¼Œæˆ‘ä»¬è¿™é‡Œä¹Ÿç§°ä¸ºé€šçŸ¥ã€‚</li><li>ç»‡å…¥ï¼ˆæ³¨å…¥ï¼‰ï¼šç»‡å…¥æ˜¯å°†Adviceé€šçŸ¥æ·»åŠ åˆ°ç›®æ ‡ç±»å…·ä½“è¿æ¥ç‚¹ä¸Šçš„è¿‡ç¨‹ã€‚ç¼–è¯‘å™¨ç»‡å…¥ã€åŠ¨æ€ç»‡å…¥ã€‚</li><li>Aspect åˆ‡é¢ï¼šPointcutï¼ˆåˆ‡ç‚¹ï¼‰å’ŒAdviceï¼ˆé€šçŸ¥ï¼‰ç»„æˆçš„</li></ul><h2 id="SpringBootå·¥ç¨‹ç»“æ„">SpringBootå·¥ç¨‹ç»“æ„</h2><p>è¿™éƒ¨åˆ†æˆ‘ç›´æ¥å‘ChatGPTå‘èµ·æé—®ï¼Œä»¥ä¸‹æ˜¯å¾—åˆ°çš„å›ç­”ï¼š</p><blockquote><p>åœ¨ä¸€ä¸ªSpring Bootå·¥ç¨‹ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨ä¸€äº›å¸¸è§çš„æ–‡ä»¶å¤¹æ¥å­˜æ”¾ç‰¹å®šç±»å‹çš„æ–‡ä»¶ï¼Œè¿™æ ·å¯ä»¥æ›´å¥½åœ°ç»„ç»‡ä»£ç å’Œèµ„æºã€‚ä»¥ä¸‹æ˜¯è¿™äº›æ–‡ä»¶å¤¹çš„ä½œç”¨åŠå…¶ç”¨é€”çš„ç®€è¦è¯´æ˜ï¼š</p><ol><li><code>config</code> æ–‡ä»¶å¤¹ï¼šè¿™ä¸ªæ–‡ä»¶å¤¹é€šå¸¸ç”¨æ¥å­˜æ”¾ä¸€äº›é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚æ•°æ®åº“é…ç½®æ–‡ä»¶ã€ç¼“å­˜é…ç½®æ–‡ä»¶ã€Springé…ç½®æ–‡ä»¶ç­‰ã€‚åœ¨Spring Bootä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨Javaç±»æ¥ä»£æ›¿ä¼ ç»Ÿçš„XMLé…ç½®æ–‡ä»¶ï¼Œè¿™äº›Javaç±»é€šå¸¸ä½äº<code>config</code>æ–‡ä»¶å¤¹ä¸­ã€‚</li><li><code>controller</code> æ–‡ä»¶å¤¹ï¼šè¿™ä¸ªæ–‡ä»¶å¤¹é€šå¸¸ç”¨æ¥å­˜æ”¾æ§åˆ¶å™¨ï¼ˆControllerï¼‰ç±»ï¼Œè¿™äº›ç±»ç”¨äºå¤„ç†HTTPè¯·æ±‚å¹¶è¿”å›HTTPå“åº”ã€‚æ§åˆ¶å™¨ç±»é€šå¸¸æ˜¯Spring MVCåº”ç”¨ç¨‹åºçš„æ ¸å¿ƒï¼Œç”¨äºè§£æå’Œå¤„ç†è¯·æ±‚ï¼Œè°ƒç”¨å…¶ä»–çš„æœåŠ¡å±‚ï¼ˆServiceï¼‰å’Œæ•°æ®è®¿é—®å±‚ï¼ˆDAOï¼‰ç±»ï¼Œå¹¶æœ€ç»ˆè¿”å›å“åº”ã€‚</li><li><code>dao</code> æ–‡ä»¶å¤¹ï¼šè¿™ä¸ªæ–‡ä»¶å¤¹é€šå¸¸ç”¨æ¥å­˜æ”¾æ•°æ®è®¿é—®å¯¹è±¡ï¼ˆData Access Objectï¼ŒDAOï¼‰ç±»ã€‚DAOç±»é€šå¸¸æ˜¯ç”¨äºè®¿é—®æŒä¹…åŒ–å­˜å‚¨å±‚ï¼ˆä¾‹å¦‚æ•°æ®åº“ï¼‰çš„ç±»ã€‚è¿™äº›ç±»é€šå¸¸å°è£…äº†è®¿é—®æ•°æ®çš„é€»è¾‘ï¼Œå¹¶ä¸å…¶ä»–å±‚ï¼ˆä¾‹å¦‚æœåŠ¡å±‚ï¼‰è¿›è¡Œåä½œï¼Œä»è€Œå®ç°åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘ã€‚</li><li><code>handler</code> æ–‡ä»¶å¤¹ï¼šè¿™ä¸ªæ–‡ä»¶å¤¹é€šå¸¸ç”¨æ¥å­˜æ”¾å¼‚å¸¸å¤„ç†å™¨ï¼ˆException Handlerï¼‰ç±»ã€‚å¼‚å¸¸å¤„ç†å™¨ç±»ç”¨äºæ•è·å’Œå¤„ç†åº”ç”¨ç¨‹åºä¸­çš„å¼‚å¸¸ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºé€‚å½“çš„HTTPå“åº”ã€‚å¼‚å¸¸å¤„ç†å™¨é€šå¸¸ä¼šæ‹¦æˆªæ§åˆ¶å™¨æŠ›å‡ºçš„å¼‚å¸¸ï¼Œæ ¹æ®å¼‚å¸¸çš„ç±»å‹ç”Ÿæˆé€‚å½“çš„HTTPå“åº”ï¼Œå¹¶å°†å…¶å‘é€å›å®¢æˆ·ç«¯ã€‚</li><li><code>service</code> æ–‡ä»¶å¤¹ï¼šè¿™ä¸ªæ–‡ä»¶å¤¹é€šå¸¸ç”¨æ¥å­˜æ”¾æœåŠ¡å±‚ï¼ˆServiceï¼‰ç±»ã€‚æœåŠ¡å±‚ç±»ç”¨äºå®ç°åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘ã€‚è¿™äº›ç±»é€šå¸¸å°è£…äº†ä¸šåŠ¡é€»è¾‘ï¼Œå¹¶ä¸å…¶ä»–å±‚ï¼ˆä¾‹å¦‚æ•°æ®è®¿é—®å±‚ï¼‰è¿›è¡Œåä½œï¼Œä»è€Œå®ç°åº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚</li><li><code>utils</code> æ–‡ä»¶å¤¹ï¼šè¿™ä¸ªæ–‡ä»¶å¤¹é€šå¸¸ç”¨æ¥å­˜æ”¾å·¥å…·ç±»ï¼ˆUtility Classï¼‰ã€‚å·¥å…·ç±»é€šå¸¸åŒ…å«äº†ä¸€äº›é™æ€æ–¹æ³•ï¼Œç”¨äºæ‰§è¡Œä¸€äº›é€šç”¨çš„ã€å¯é‡ç”¨çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ª<code>StringUtils</code>ç±»ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›é™æ€æ–¹æ³•ï¼Œç”¨äºæ‰§è¡Œå­—ç¬¦ä¸²æ“ä½œã€‚</li><li><code>vo</code> æ–‡ä»¶å¤¹ï¼šè¿™ä¸ªæ–‡ä»¶å¤¹é€šå¸¸ç”¨æ¥å­˜æ”¾å€¼å¯¹è±¡ï¼ˆValue Objectï¼ŒVOï¼‰ç±»ã€‚å€¼å¯¹è±¡é€šå¸¸æ˜¯ä¸€äº›ç®€å•çš„Javaç±»ï¼Œç”¨äºä¼ é€’æ•°æ®ã€‚å®ƒä»¬é€šå¸¸ç”¨äºåœ¨ä¸åŒå±‚ä¹‹é—´ä¼ é€’æ•°æ®ï¼Œä¾‹å¦‚åœ¨æ§åˆ¶å™¨å±‚å’ŒæœåŠ¡å±‚ä¹‹é—´ã€‚å€¼å¯¹è±¡é€šå¸¸ä¸å…·æœ‰è¡Œä¸ºï¼Œè€ŒåªåŒ…å«ä¸€äº›å±æ€§å’Œgetter/setteræ–¹æ³•ã€‚<br>é‚£ä¹ˆåœ¨æŸäº›æ–‡ä»¶å¤¹ä¸­è¿˜å­˜åœ¨å­æ–‡ä»¶å¤¹ï¼ŒåŒæ ·çš„ï¼Œæˆ‘å‘ChatGPTå‘èµ·æé—®ï¼Œé—®å®ƒ<code>dao</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>mapper</code>å’Œ<code>pojo</code>æ–‡ä»¶å¤¹æ˜¯ä»€ä¹ˆï¼š<br>æ˜¯çš„ï¼Œé€šå¸¸æƒ…å†µä¸‹åœ¨ <code>dao</code> æ–‡ä»¶å¤¹ä¸‹ä¼šå†æ¬¡ç»†åˆ†ä¸º <code>mapper</code> å’Œ <code>pojo</code> æ–‡ä»¶å¤¹ã€‚</li><li><code>mapper</code> æ–‡ä»¶å¤¹ï¼šè¯¥æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«ä¸€äº›MyBatisçš„ Mapper æ¥å£ï¼Œè¿™äº›æ¥å£ç”¨äºå®šä¹‰æ•°æ®è®¿é—®çš„ SQL æ“ä½œã€‚MyBatis æ˜¯ä¸€ç§æµè¡Œçš„æŒä¹…åŒ–æ¡†æ¶ï¼Œå®ƒä½¿ç”¨ XML æˆ–æ³¨è§£æ¥æ˜ å°„ Java å¯¹è±¡å’Œæ•°æ®åº“è¡¨ä¹‹é—´çš„å…³ç³»ã€‚åœ¨ <code>mapper</code> æ–‡ä»¶å¤¹ä¸­ï¼Œé€šå¸¸ä¼šåˆ›å»ºä¸€ä¸ªæ¥å£ï¼Œè¯¥æ¥å£å®šä¹‰äº†ä¸€ç»„ä¸æ•°æ®åº“äº¤äº’çš„æ–¹æ³•ï¼Œä¾‹å¦‚æ’å…¥æ•°æ®ã€æ›´æ–°æ•°æ®ã€æŸ¥è¯¢æ•°æ®ç­‰ã€‚åŒæ—¶ï¼ŒMyBatis è¿˜æä¾›äº†ä¸€äº›æ³¨è§£æ¥æè¿° SQL è¯­å¥ï¼Œä¾‹å¦‚ <code>@Select</code>ã€<code>@Update</code>ã€<code>@Insert</code> ç­‰ï¼Œè¿™äº›æ³¨è§£é€šå¸¸ä¼šä¸æ¥å£æ–¹æ³•ä¸€èµ·ä½¿ç”¨ã€‚</li><li><code>pojo</code> æ–‡ä»¶å¤¹ï¼šè¯¥æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«ä¸€äº›ä¸æ•°æ®åº“è¡¨å¯¹åº”çš„ Java ç±»ï¼Œä¹Ÿç§°ä¸ºå®ä½“ç±»æˆ– POJOï¼ˆPlain Old Java Objectï¼‰ç±»ã€‚è¿™äº›ç±»é€šå¸¸ä¸æ•°æ®åº“è¡¨çš„æ¯ä¸ªå­—æ®µå¯¹åº”ï¼Œæ¯ä¸ªå­—æ®µé€šå¸¸ä¼šæ˜ å°„åˆ°ç±»ä¸­çš„ä¸€ä¸ªå±æ€§ã€‚è¿™äº›ç±»é€šå¸¸ä½¿ç”¨æ³¨è§£æ¥æè¿°å®ƒä»¬ä¸æ•°æ®åº“è¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œä¾‹å¦‚ <code>@Table</code>ã€<code>@Column</code> ç­‰ã€‚åœ¨è®¿é—®æ•°æ®åº“æ—¶ï¼Œè¿™äº›ç±»é€šå¸¸ç”¨äºå­˜å‚¨å’Œä¼ è¾“æ•°æ®ã€‚åŒæ—¶ï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œé€šå¸¸è¿˜ä¼šåœ¨è¿™äº›ç±»ä¸­æä¾›ä¸€äº› getter å’Œ setter æ–¹æ³•ã€‚<br>ç»¼ä¸Šæ‰€è¿°ï¼Œ<code>mapper</code> æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«ä¸æ•°æ®åº“äº¤äº’ç›¸å…³çš„ MyBatis Mapper æ¥å£å’Œ SQL è¯­å¥çš„æ³¨è§£ï¼Œè€Œ <code>pojo</code> æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«ä¸æ•°æ®åº“è¡¨å¯¹åº”çš„ Java å®ä½“ç±»æˆ– POJO ç±»ã€‚è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹é€šå¸¸ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å®ç°åº”ç”¨ç¨‹åºä¸æ•°æ®åº“çš„æ•°æ®è®¿é—®ã€‚<br>ç»§ç»­æé—®<code>service</code>æ–‡ä»¶å¤¹ä¸‹çš„å­æ–‡ä»¶å¤¹ï¼š<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œåœ¨ <code>service</code> æ–‡ä»¶å¤¹ä¸‹ä¼šå†æ¬¡ç»†åˆ†ä¸º <code>excel</code>ã€<code>impl</code> å’Œ <code>thread</code> æ–‡ä»¶å¤¹ã€‚</li><li><code>excel</code> æ–‡ä»¶å¤¹ï¼šè¯¥æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«ä¸€äº›å¤„ç† Excel æ–‡ä»¶çš„ç±»ï¼Œä¾‹å¦‚è¯»å– Excel æ–‡ä»¶ã€å†™å…¥ Excel æ–‡ä»¶ã€ç”Ÿæˆ Excel æŠ¥è¡¨ç­‰ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨ä¸€äº›ç¬¬ä¸‰æ–¹çš„ Excel å¤„ç†åº“ï¼Œä¾‹å¦‚ Apache POIã€EasyExcel ç­‰ã€‚é€šè¿‡è¿™äº›åº“ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è¯»å–å’Œå†™å…¥ Excel æ–‡ä»¶ï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºä¸­å¯¹ Excel æ•°æ®è¿›è¡Œå¤„ç†å’Œåˆ†æã€‚</li><li><code>impl</code> æ–‡ä»¶å¤¹ï¼šè¯¥æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«ä¸€äº›æœåŠ¡æ¥å£çš„å®ç°ç±»ï¼Œè¿™äº›å®ç°ç±»é€šå¸¸ä¸æ•°æ®åº“äº¤äº’ï¼Œå¹¶æä¾›ä¸šåŠ¡é€»è¾‘çš„å¤„ç†ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œé€šå¸¸ä¼šåˆ›å»ºä¸€äº›ä¸æœåŠ¡æ¥å£ç›¸å¯¹åº”çš„å®ç°ç±»ï¼Œè¿™äº›å®ç°ç±»é€šå¸¸ä½¿ç”¨ Spring æ¡†æ¶çš„æ³¨è§£æ¥æ ‡è¯†è‡ªå·±ï¼Œå¹¶ä¸æ•°æ®åº“è®¿é—®ç›¸å…³çš„ DAO å±‚è¿›è¡Œåä½œã€‚é€šè¿‡è¿™äº›å®ç°ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å°†æœåŠ¡æ¥å£ä¸­å®šä¹‰çš„ä¸šåŠ¡é€»è¾‘è½¬åŒ–ä¸ºå®é™…çš„ä»£ç å®ç°ï¼Œå¹¶ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ã€‚</li><li><code>thread</code> æ–‡ä»¶å¤¹ï¼šè¯¥æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«ä¸€äº›ä¸å¤šçº¿ç¨‹ç¼–ç¨‹ç›¸å…³çš„ç±»ï¼Œä¾‹å¦‚çº¿ç¨‹æ± ã€ä»»åŠ¡é˜Ÿåˆ—ã€å®šæ—¶ä»»åŠ¡ç­‰ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨ Java çš„å¤šçº¿ç¨‹ç¼–ç¨‹æœºåˆ¶æ¥å®ç°ä¸€äº›å¹¶å‘æ“ä½œï¼Œä¾‹å¦‚é€šè¿‡çº¿ç¨‹æ± æ¥ç®¡ç†å¹¶å‘è¯·æ±‚ï¼Œé€šè¿‡ä»»åŠ¡é˜Ÿåˆ—æ¥å®ç°å¼‚æ­¥å¤„ç†ç­‰ã€‚é€šè¿‡è¿™äº›ç±»ï¼Œæˆ‘ä»¬å¯ä»¥æé«˜åº”ç”¨ç¨‹åºçš„å¹¶å‘æ€§èƒ½ï¼Œå¹¶æ›´å¥½åœ°åˆ©ç”¨å¤šæ ¸ CPU çš„è®¡ç®—èµ„æºã€‚<br>ç»¼ä¸Šæ‰€è¿°ï¼Œ<code>excel</code> æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«å¤„ç† Excel æ–‡ä»¶çš„ç±»ï¼Œ<code>impl</code> æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«æœåŠ¡æ¥å£çš„å®ç°ç±»ï¼Œ<code>thread</code> æ–‡ä»¶å¤¹é€šå¸¸åŒ…å«ä¸å¤šçº¿ç¨‹ç¼–ç¨‹ç›¸å…³çš„ç±»ã€‚è¿™ä¸‰ä¸ªæ–‡ä»¶å¤¹é€šå¸¸ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å®ç°åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘å¤„ç†å’Œå¹¶å‘å¤„ç†ã€‚<br>ç»§ç»­æé—®ï¼Œ<code>vo</code>æ–‡ä»¶å¤¹ä¸‹çš„<code>dos</code>ã€<code>excelVo</code>ã€<code>param</code>å’Œ<code>QuesVo</code>æ˜¯ä»€ä¹ˆï¼š<br>åœ¨ Spring Boot é¡¹ç›®ä¸­ï¼Œé€šå¸¸ä¼šä½¿ç”¨ VOï¼ˆValue Objectï¼Œå€¼å¯¹è±¡ï¼‰æ¨¡å¼æ¥ä¼ é€’æ•°æ®ï¼Œè¿™ç§æ¨¡å¼å¯ä»¥å°†å¤šä¸ªå®ä½“ç±»çš„å±æ€§ç»„åˆæˆä¸€ä¸ªå¯¹è±¡ï¼Œä¾¿äºä¼ é€’å’Œæ“ä½œã€‚åœ¨ <code>vo</code> æ–‡ä»¶å¤¹ä¸­ï¼Œé€šå¸¸ä¼šåŒ…å«ä¸€äº›ç”¨äºä¼ é€’æ•°æ®çš„ VO ç±»ï¼Œä¾‹å¦‚ï¼š</li><li><code>Do</code>ï¼š<code>Do</code> è¡¨ç¤º <code>Domain Object</code>ï¼Œæ˜¯å®ä½“ç±»ï¼ˆEntityï¼‰çš„ä¸€ç§å‘½åæ–¹å¼ï¼Œé€šå¸¸ç”¨äºè¡¨ç¤ºæ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨æˆ–è€…ä¸€ç»„ç›¸å…³çš„è¡¨ã€‚<code>Do</code> å¯¹è±¡é€šå¸¸åŒ…å«æ•°æ®åº“è¡¨çš„æ‰€æœ‰å­—æ®µï¼Œä»¥åŠç›¸åº”çš„ getter å’Œ setter æ–¹æ³•ã€‚</li><li><code>ExcelVo</code>ï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦å°†æ•°æ®å¯¼å‡ºä¸º Excel æ–‡ä»¶æˆ–è€…ä» Excel æ–‡ä»¶ä¸­å¯¼å…¥æ•°æ®ã€‚ä¸ºäº†æ–¹ä¾¿æ•°æ®çš„å¯¼å…¥å¯¼å‡ºï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª <code>ExcelVo</code> ç±»ï¼Œç”¨äºå­˜å‚¨å¯¼å‡ºæˆ–è€…å¯¼å…¥çš„æ•°æ®ï¼Œå¹¶åœ¨ç±»ä¸­å®šä¹‰ç›¸åº”çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»¥æ–¹ä¾¿æ“ä½œã€‚</li><li><code>Param</code>ï¼š<code>Param</code> è¡¨ç¤º <code>Parameter</code>ï¼Œç”¨äºå°è£…æ–¹æ³•è°ƒç”¨æ‰€éœ€çš„å‚æ•°ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ª Java Beanï¼ŒåŒ…å«å¤šä¸ªå±æ€§å’Œç›¸åº”çš„ getter å’Œ setter æ–¹æ³•ã€‚</li><li><code>QuesVo</code>ï¼šåœ¨å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦å¤„ç†é—®å·è°ƒæŸ¥ç›¸å…³çš„æ•°æ®ã€‚ä¸ºäº†æ–¹ä¾¿æ•°æ®çš„ä¼ é€’å’Œæ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ª <code>QuesVo</code> ç±»ï¼Œç”¨äºå°è£…é—®å·è°ƒæŸ¥ç›¸å…³çš„æ•°æ®ï¼Œä¾‹å¦‚é—®å·æ ‡é¢˜ã€é—®é¢˜åˆ—è¡¨ã€ç­”æ¡ˆé€‰é¡¹ç­‰ã€‚<br>ç»¼ä¸Šæ‰€è¿°ï¼Œ<code>vo</code> æ–‡ä»¶å¤¹ä¸‹çš„ <code>Do</code>ã€<code>ExcelVo</code>ã€<code>Param</code> å’Œ <code>QuesVo</code> åˆ†åˆ«è¡¨ç¤ºæ•°æ®åº“å®ä½“ç±»ã€Excel æ•°æ®ã€æ–¹æ³•å‚æ•°å’Œé—®å·è°ƒæŸ¥ç›¸å…³æ•°æ®çš„ VO ç±»ï¼Œå®ƒä»¬ç”¨äºä¼ é€’å’Œæ“ä½œç›¸åº”çš„æ•°æ®ã€‚</li></ol></blockquote><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Spring</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
      <tag>VSCode</tag>
      
      <tag>Spring</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Rediså­¦ä¹ ç¬”è®°-1</title>
    <link href="/2023/04/22/redis-learning-1/"/>
    <url>/2023/04/22/redis-learning-1/</url>
    
    <content type="html"><![CDATA[<h1>Redisæ˜¯ä»€ä¹ˆï¼Ÿ</h1><p>æ˜¯ä¸€ä¸ª<code>key-value</code>æ•°æ®åº“ã€‚</p><h1>å®‰è£…Redis</h1><p><a href="https://github.com/tporadowski/redis/releases">ä¸‹è½½ç‚¹æ­¤å¤„</a><br>ç‚¹å‡»ä¸Šé¢è·³è½¬åˆ°ä¸‹è½½ç•Œé¢ï¼ˆgithubé“¾æ¥ï¼Œä¸­å›½å¤§é™†å¯èƒ½éš¾ä»¥è®¿é—®ï¼‰ï¼Œä¸‹è½½<code>zip</code>å‹ç¼©åŒ…å½¢å¼çš„æ–‡ä»¶ï¼Œç„¶åå°†å…¶è§£å‹åˆ°æŸä¸€å¤„ã€‚åœ¨è¯¥ç›®å½•ä¸‹è¿è¡Œç»ˆç«¯ï¼ˆ<code>cmd</code>ï¼‰ï¼Œå¹¶æ‰§è¡Œå‘½ä»¤ï¼š<code>redis-server.exe redis.windows.conf</code>ã€‚</p><blockquote><p>oké‚£ä¹ˆå®‰è£…è¿™é‡Œæˆ‘å¡äº†åŠå¤©ï¼Œä¹‹å‰æ˜¯ç”¨è¿‡çš„ï¼Œä½†æ˜¯ç°åœ¨ä¸€å¯åŠ¨å°±ï¼šæä¾›æ— æ•ˆå‚æ•°balabala<br>æ¯ä¸ªäººçš„è§£å†³æ–¹æ³•å¯èƒ½éƒ½ä¸ä¸€æ ·ï¼Œæˆ‘å»ºè®®å¤šæœä¸åŒæ–¹æ³•è¯•<br>æˆ‘è‡ªå·±æ˜¯è¿™ä¸€å¥<code>Warning: no config file specified, using the default config.</code>ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½ç›´æ¥ä½¿ç”¨<code>redis-server</code>å¯åŠ¨ï¼Œè€Œæ˜¯å¾—æ‰“å…¨ï¼ˆä¹Ÿå°±æ˜¯æŒ‡å®šä½¿ç”¨å“ªä¸ªé…ç½®æ–‡ä»¶ï¼‰ï¼š<code>redis-server.exe redis.windows.conf</code>ï¼ŒæŒºæ— è¯­çš„<br>å¦‚æœæˆåŠŸå¼€å¯<code>Redis</code>çš„è¯ï¼Œä¼šçœ‹åˆ°<code>Redis</code>çš„å›¾æ ‡ï¼Œä»¥åŠæœ€åä¸€å¥<code>Ready to accept connections</code>ï¼Œä¸è¦å…³é—­è¿™ä¸ªçª—å£ï¼Œåœ¨<code>Redis</code>ç›®å½•ä¸‹å¦å¤–æ‰“å¼€ä¸€ä¸ªç»ˆç«¯å¹¶æ‰§è¡Œ<code>redis-cli.exe -h 127.0.0.1 -p 6379</code>ï¼ˆå¦‚æœæ²¡ä¿®æ”¹è¿‡é…ç½®æ–‡ä»¶ç›´æ¥<code>redis-cli.exe</code>ä¹Ÿè¡Œï¼Œåé¢çš„<code>host</code>å’Œ<code>port</code>å‚æ•°éƒ½æ˜¯é»˜è®¤çš„ï¼‰ã€‚æˆåŠŸè¿æ¥åæ˜¾ç¤º<code>127.0.0.1:6379&gt;</code>ã€‚<br>è¿™é‡Œå¦‚æœé‡åˆ°ç›®æ ‡è®¡ç®—æœºç§¯ææ‹’ç»ï¼Œé‚£æˆ‘å»ºè®®å’Œä¸Šé¢ä¸€æ ·ä¸Šç½‘æœï¼Œå½“ç„¶è·Ÿä¸Šè¿°æ­¥éª¤ç”¨<code>cmd</code>æˆåŠŸå¯åŠ¨<code>Redis</code>çš„è¯æˆ‘è§‰å¾—æ˜¯ä¸ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜çš„ã€‚</p></blockquote><h1>Redisæ•°æ®ç±»å‹</h1><p><code>Redis</code>ä¸€å…±æ”¯æŒäº”ç§æ•°æ®ç±»å‹ï¼š<code>stringï¼ˆå­—ç¬¦ä¸²ï¼‰</code>ï¼Œ<code>hashï¼ˆå“ˆå¸Œï¼‰</code>ï¼Œ<code>listï¼ˆåˆ—è¡¨ï¼‰</code>ï¼Œ<code>setï¼ˆé›†åˆï¼‰</code>ï¼Œ<code>zset(æœ‰åºé›†åˆ)</code>ã€‚</p><blockquote><p>ä½¿ç”¨<code>del &lt;key_1&gt; [key_2]...</code>æ¥åˆ é™¤é”®ï¼Œä½¿ç”¨<code>select &lt;num&gt;</code>æ¥é€‰æ‹©æ•°æ®åº“ã€‚<br>è¦æŸ¥çœ‹æ›´å¤šå‘½ä»¤ï¼Œå¯ä»¥å‰å¾€ï¼š<a href="https://redis.io/commands/">Rediså®˜ç½‘</a></p></blockquote><h2 id="string">string</h2><p>æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œä¸€ä¸ª<code>key</code>å¯¹åº”ä¸€ä¸ª<code>value</code>ã€‚<br>åªéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼šâ€œ<code>string</code>ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚æ„æ€æ˜¯<code>Redis</code>çš„<code>string</code>å¯ä»¥åŒ…å«ä»»ä½•æ•°æ®ã€‚æ¯”å¦‚<code>jpg</code>å›¾ç‰‡æˆ–è€…åºåˆ—åŒ–çš„å¯¹è±¡ã€‚<br>ç›¸å…³æŒ‡ä»¤ï¼š<code>set &lt;key&gt; &lt;value&gt;</code>ï¼Œ<code>get &lt;key&gt;</code>ã€‚</p><h2 id="hash">hash</h2><p><code>Redis hash</code>æ˜¯ä¸€ä¸ªé”®å€¼å¯¹<strong>é›†åˆ</strong>ã€‚<br>ç›¸å…³æŒ‡ä»¤ï¼š<code>hmset &lt;key&gt; &lt;field_1&gt; &lt;value_1&gt; [field_2] [value_2]...</code>ï¼Œ<code>hget &lt;key&gt; &lt;field&gt;</code>ã€‚</p><h2 id="list">list</h2><p><code>Redis list</code>æ˜¯ç®€å•çš„å­—ç¬¦ä¸²<strong>åˆ—è¡¨</strong>ï¼Œä¾ç…§æ’å…¥é¡ºåºæ’åºã€‚<br>ç›¸å…³æŒ‡ä»¤ï¼š<code>lpush &lt;key&gt; &lt;value_1&gt; [value_2]...</code>ï¼Œ<code>rpush &lt;key&gt; &lt;value_1&gt; [value_2]...</code>ï¼Œ<code>lrange &lt;key&gt; &lt;start&gt; &lt;stop&gt;</code>ã€‚</p><h2 id="set">set</h2><p><code>Redis set</code>æ˜¯å­—ç¬¦ä¸²çš„æ— åº<strong>é›†åˆ</strong>ã€‚<br>ç›¸å…³æŒ‡ä»¤ï¼š<code>sadd &lt;key&gt; &lt;member_1&gt; [member_2]...</code>ï¼Œ<code>smembers &lt;key&gt;</code>ã€‚</p><h2 id="zset">zset</h2><blockquote><p>â€œæ¯ä¸ªå…ƒç´ éƒ½ä¼šå…³è”ä¸€ä¸ªdoubleç±»å‹çš„åˆ†æ•°ã€‚redisæ­£æ˜¯é€šè¿‡åˆ†æ•°æ¥ä¸ºé›†åˆä¸­çš„æˆå‘˜è¿›è¡Œä»å°åˆ°å¤§çš„æ’åºã€‚â€<br>â€œzsetçš„æˆå‘˜æ˜¯å”¯ä¸€çš„,ä½†åˆ†æ•°(score)å´å¯ä»¥é‡å¤ã€‚â€<br>ç›¸å…³æŒ‡ä»¤ï¼š<code>zadd &lt;key&gt; &lt;score_1&gt; &lt;member_1&gt; [score_2] [member_2]...</code>ï¼Œ<code>zrangebyscore &lt;key&gt; &lt;min&gt; &lt;max&gt;</code>ã€‚</p></blockquote><h2 id="HyperLogLog">HyperLogLog</h2><p>åé¢æ·»åŠ çš„æ–°ä¸œè¥¿ï¼Œç”¨æ¥åšåŸºæ•°ç»Ÿè®¡çš„ç®—æ³•ï¼ŒåŸºæ•°å°±æ˜¯æ•°æ®é›†ä¸­ä¸é‡å¤å…ƒç´ çš„æ•°é‡ï¼Œè€Œè¿™ä¸ªä¸œè¥¿å› ä¸ºæ˜¯ç”¨æ¥è®¡ç®—åŸºæ•°çš„ï¼Œæ‰€ä»¥ä¸ä¼šå­˜å‚¨è¾“å…¥å…ƒç´ æœ¬èº«ã€‚</p><h2 id="Stream">Stream</h2><p>ååé¢æ·»åŠ çš„æ–°ä¸œè¥¿ï¼Œä¸»è¦ç”¨äºæ¶ˆæ¯é˜Ÿåˆ—MQï¼ˆä»€ä¹ˆç‰©è”ç½‘åº”ç”¨ï¼‰ã€‚<br>è‡³äºâ€œä¸æ˜¯å·²ç»æœ‰å‘å¸ƒè®¢é˜…æ¨¡å¼äº†å—æ€ä¹ˆè¿˜æœ‰åŠ å…¥ä¸ªStreamå•Šï¼Ÿâ€è¿™ä¸ªé—®é¢˜ï¼Œå‚è€ƒç½‘ç«™ä¸Šè¯´ï¼šâ€œä½†å®ƒæœ‰ä¸ªç¼ºç‚¹å°±æ˜¯æ¶ˆæ¯æ— æ³•æŒä¹…åŒ–ï¼Œå¦‚æœå‡ºç°ç½‘ç»œæ–­å¼€ã€Rediså®•æœºç­‰ï¼Œæ¶ˆæ¯å°±ä¼šè¢«ä¸¢å¼ƒã€‚ç®€å•æ¥è¯´å‘å¸ƒè®¢é˜…å¯ä»¥åˆ†å‘æ¶ˆæ¯ï¼Œä½†æ— æ³•è®°å½•å†å²æ¶ˆæ¯ã€‚â€<br>é‚£ä¹ˆ<code>Stream</code>å‘¢ï¼Ÿâ€œè€Œ Redis Stream æä¾›äº†æ¶ˆæ¯çš„æŒä¹…åŒ–å’Œä¸»å¤‡å¤åˆ¶åŠŸèƒ½ï¼Œå¯ä»¥è®©ä»»ä½•å®¢æˆ·ç«¯è®¿é—®ä»»ä½•æ—¶åˆ»çš„æ•°æ®ï¼Œå¹¶ä¸”èƒ½è®°ä½æ¯ä¸€ä¸ªå®¢æˆ·ç«¯çš„è®¿é—®ä½ç½®ï¼Œè¿˜èƒ½ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ã€‚â€<br>æ¯ä¸ª<code>Stream</code>éƒ½æœ‰å”¯ä¸€ä¸ªåç§°ï¼Œè¿™ä¸ªåç§°å°±æ˜¯<code>Redis</code>çš„<code>Key</code>ã€‚<br>ä¸è¿‡èœé¸Ÿæ•™ç¨‹ä¸Šçš„<code>Stream</code>è¿™éƒ¨åˆ†ä¹Ÿåªæ˜¯è®²äº†äº›åŸºç¡€å‘½ä»¤å°±æ²¡äº†ï¼Œæ¶ˆè´¹è€…ç»„æ²¡æ€ä¹ˆè®²ï¼Œä¹‹åæˆ‘ä¼šæ‰¾ç‚¹å…¶ä»–æ–‡æ¡£çœ‹çœ‹ï¼Œå†è¿›è¡Œè¡¥å……ã€‚æ€»ä¹‹å…ˆæŠŠæœ‰çš„è®²äº†å§ï¼<br>ä¸‹é¢ä»¥ä¸€ä¸ªæ¶ˆæ¯ä¸­ä¸¤ä¸ªå­—æ®µæ¥åˆ›å»ºä¸€ä¸ª<code>Stream</code>ï¼Œå¹¶å¯¹å…¶è¿›è¡Œä¸€äº›æ“ä½œã€‚å‡è®¾æˆ‘ä»¬ç°åœ¨éœ€è¦è®°å½•å­¦ç”Ÿçš„å§“åå’Œä»–ä»¬å¯¹åº”çš„å­¦å·ï¼Œå¹¶æ”¾å…¥è¿™ä¸ª<code>Stream</code>ä¸­ã€‚</p><div class="note note-warning">            <p>ç”±äº<code>Redis</code>è‡ªå¸¦å‘½ä»¤æç¤ºï¼Œæ‰€ä»¥ä¸‹é¢å‘½ä»¤ä¸ä¼šç»™å‡ºå®Œæ•´æ ¼å¼ã€‚</p>          </div><h3 id="xadd">xadd</h3><p>æˆ‘ä»¬å¯ä»¥ç”¨<code>xadd</code>æ¥åˆ›å»ºé˜Ÿåˆ—å’Œå‘é˜Ÿåˆ—ä¸­æ·»åŠ æ¶ˆæ¯ã€‚</p><blockquote><p><code>xadd</code>å‘½ä»¤æ ¼å¼ï¼š<code>xadd key ID field string [field string ...]</code>ï¼Œ<code>ID</code>æ—¢å¯ä»¥è‡ªå·±è®¾ç½®ï¼Œä¹Ÿèƒ½å¤Ÿè®©<code>Redis</code>æ¥è®¾ç½®ã€‚è‡ªå·±è®¾ç½®éœ€è¦ä¿æŒé€’å¢æ€§ï¼Œå¦‚æœéœ€è¦<code>Redis</code>è®¾ç½®ï¼Œ<code>ID</code>å¤„å°±æ”¹ä¸º<code>*</code>ã€‚</p></blockquote><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">127.0.0.1:6379</span>&gt; xadd StudentsInf * StudentID <span class="hljs-number">0</span> Name Tom<br><span class="hljs-string">&quot;1682212841653-0&quot;</span><br><span class="hljs-number">127.0.0.1:6379</span>&gt; xadd StudentsInf * StudentID <span class="hljs-number">1</span> Name Amy<br><span class="hljs-string">&quot;1682212847920-0&quot;</span><br><span class="hljs-number">127.0.0.1:6379</span>&gt; xadd StudentsInf * StudentID <span class="hljs-number">2</span> Name Jack<br><span class="hljs-string">&quot;1682212857405-0&quot;</span><br><span class="hljs-number">127.0.0.1:6379</span>&gt; xadd StudentsInf * StudentID <span class="hljs-number">3</span> Name Kevin<br><span class="hljs-string">&quot;1682212867763-0&quot;</span><br><span class="hljs-number">127.0.0.1:6379</span>&gt; xadd StudentsInf * StudentID <span class="hljs-number">4</span> Name Chen<br><span class="hljs-string">&quot;1682213031310-0&quot;</span><br><span class="hljs-number">127.0.0.1:6379</span>&gt; xadd StudentsInf * StudentID <span class="hljs-number">5</span> Name Kanade<br><span class="hljs-string">&quot;1682213051016-0&quot;</span><br></code></pre></td></tr></table></figure><h3 id="xlen">xlen</h3><p>æˆ‘ä»¬å¯ä»¥ç”¨<code>xlen</code>æ¥æŸ¥çœ‹æŒ‡å®šé˜Ÿåˆ—çš„é•¿åº¦ã€‚</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">127.0.0.1:6379</span>&gt; xlen StudentsInf<br>(integer) <span class="hljs-number">6</span><br></code></pre></td></tr></table></figure><h3 id="xrange">xrange</h3><p>è¦æŸ¥çœ‹æŒ‡å®šé˜Ÿåˆ—ï¼Œåˆ™ä½¿ç”¨<code>xrange</code>å‘½ä»¤ã€‚å…¶ä¸­ï¼Œ<code>-</code>ä»£è¡¨æœ€å°å€¼ï¼Œ<code>+</code>ä»£è¡¨æœ€å¤§å€¼</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">127</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>:<span class="hljs-number">6379</span>&gt; xrange StudentsInf - +<br><span class="hljs-attribute">1</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;1682212841653-0&quot;</span><br>   <span class="hljs-attribute">2</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;StudentID&quot;</span><br>      <span class="hljs-attribute">2</span>) <span class="hljs-string">&quot;0&quot;</span><br>      <span class="hljs-attribute">3</span>) <span class="hljs-string">&quot;Name&quot;</span><br>      <span class="hljs-attribute">4</span>) <span class="hljs-string">&quot;Tom&quot;</span><br><span class="hljs-attribute">2</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;1682212847920-0&quot;</span><br>   <span class="hljs-attribute">2</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;StudentID&quot;</span><br>      <span class="hljs-attribute">2</span>) <span class="hljs-string">&quot;1&quot;</span><br>      <span class="hljs-attribute">3</span>) <span class="hljs-string">&quot;Name&quot;</span><br>      <span class="hljs-attribute">4</span>) <span class="hljs-string">&quot;Amy&quot;</span><br><span class="hljs-attribute">3</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;1682212857405-0&quot;</span><br>   <span class="hljs-attribute">2</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;StudentID&quot;</span><br>      <span class="hljs-attribute">2</span>) <span class="hljs-string">&quot;2&quot;</span><br>      <span class="hljs-attribute">3</span>) <span class="hljs-string">&quot;Name&quot;</span><br>      <span class="hljs-attribute">4</span>) <span class="hljs-string">&quot;Jack&quot;</span><br><span class="hljs-attribute">4</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;1682212867763-0&quot;</span><br>   <span class="hljs-attribute">2</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;StudentID&quot;</span><br>      <span class="hljs-attribute">2</span>) <span class="hljs-string">&quot;3&quot;</span><br>      <span class="hljs-attribute">3</span>) <span class="hljs-string">&quot;Name&quot;</span><br>      <span class="hljs-attribute">4</span>) <span class="hljs-string">&quot;Kevin&quot;</span><br><span class="hljs-attribute">5</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;1682213031310-0&quot;</span><br>   <span class="hljs-attribute">2</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;StudentID&quot;</span><br>      <span class="hljs-attribute">2</span>) <span class="hljs-string">&quot;4&quot;</span><br>      <span class="hljs-attribute">3</span>) <span class="hljs-string">&quot;Name&quot;</span><br>      <span class="hljs-attribute">4</span>) <span class="hljs-string">&quot;Chen&quot;</span><br><span class="hljs-attribute">6</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;1682213051016-0&quot;</span><br>   <span class="hljs-attribute">2</span>) <span class="hljs-number">1</span>) <span class="hljs-string">&quot;StudentID&quot;</span><br>      <span class="hljs-attribute">2</span>) <span class="hljs-string">&quot;5&quot;</span><br>      <span class="hljs-attribute">3</span>) <span class="hljs-string">&quot;Name&quot;</span><br>      <span class="hljs-attribute">4</span>) <span class="hljs-string">&quot;Kanade&quot;</span><br></code></pre></td></tr></table></figure><p>å¦å¤–ï¼Œ<code>Redis</code>ä¹Ÿæä¾›äº†ä¸€ä¸ªå€’åºè·å–æ¶ˆæ¯åˆ—è¡¨çš„å‘½ä»¤ï¼š<code>xrevrange</code>ï¼Œç”¨æ³•å’Œ<code>xrange</code>ä¸€è‡´ã€‚</p><h3 id="xdel">xdel</h3><p>è¦åˆ é™¤æŸä¸€æ¶ˆæ¯ï¼Œå¯ä»¥ä½¿ç”¨<code>xdel</code>å‘½ä»¤ã€‚</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs accesslog"><span class="hljs-number">127.0.0.1:6379</span>&gt; del StudentsInf <span class="hljs-number">1682212867763</span>-<span class="hljs-number">0</span><br>(integer) <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h1>Redisçš„å‘å¸ƒè®¢é˜…</h1><p><code>Redis</code>ä¹Ÿæœ‰å‘å¸ƒè®¢é˜…é€šä¿¡æ¨¡å¼ï¼Œå‘å¸ƒè€…å‘å¸ƒä¿¡æ¯åˆ°é¢‘é“ï¼Œé¢‘é“è½¬å‘æ¶ˆæ¯ç»™è®¢é˜…è€…ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š<br>æˆ‘ä»¬éœ€è¦æ‰“å¼€ä¸¤ä¸ª<code>redis-cli</code>ï¼Œå…ˆåœ¨ç¬¬ä¸€ä¸ªé‡Œé¢è¿›è¡Œé¢‘é“è®¢é˜…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Redis">127.0.0.1:6379&gt; subscribe MyTestChannel<br>Reading messages... (press Ctrl-C to quit)<br>1) &quot;subscribe&quot;<br>2) &quot;MyTestChannel&quot;<br>3) (integer) 1<br></code></pre></td></tr></table></figure><p>ç„¶åæ¥åˆ°ç¬¬äºŒä¸ª<code>redis-cli</code>è¿›è¡Œä¿¡æ¯çš„å‘å¸ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Redis">127.0.0.1:6379&gt; publish MyTestChannel &quot;Test Message 1&quot;<br>(integer) 1<br></code></pre></td></tr></table></figure><p>æ¥ç€å°±èƒ½çœ‹åˆ°å¦å¤–ä¸€è¾¹æ˜¾ç¤ºå‡ºä¿¡æ¯äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Redis">1) &quot;message&quot;<br>2) &quot;MyTestChannel&quot;<br>3) &quot;Test Message 1&quot;<br></code></pre></td></tr></table></figure><h1>Redisä¸­çš„äº‹åŠ¡</h1><p>æ—¢ç„¶å®ƒæ˜¯ä¸ªæ•°æ®åº“ï¼Œé‚£å¾ˆæ˜æ˜¾å®ƒä¹Ÿæœ‰äº‹åŠ¡ï¼ï¼ˆ<br><code>Redis</code>çš„äº‹åŠ¡å¤„ç†æ­¥éª¤å¦‚ä¸‹ï¼š</p><blockquote><p>å¼€å§‹äº‹åŠ¡â€”â€”<code>multi</code><br>å‘½ä»¤å…¥é˜Ÿâ€”â€”<code>set</code> or other commands<br>æ‰§è¡Œäº‹åŠ¡â€”â€”<code>exec</code> / å–æ¶ˆäº‹åŠ¡â€”â€”<code>discard</code><br>ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåœ¨æ‰§è¡Œäº‹åŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰å‘½ä»¤æ‰§è¡Œå¤±è´¥å¹¶<strong>ä¸ä¼šæ‰“æ–­äº‹åŠ¡æ‰§è¡Œ</strong>ï¼Œæ‰€ä»¥ä¹Ÿ<strong>ä¸ä¼šå›æ»šä¹‹å‰çš„æ“ä½œ</strong>ã€‚<br><code>Redis</code>çš„äº‹åŠ¡è¿˜æœ‰ä¸€ä¸ª<code>watch</code>å‘½ä»¤å¯ä»¥ç›‘è§†<code>key</code>ï¼Œå¦‚æœåœ¨äº‹åŠ¡æ‰§è¡Œä¹‹å‰è¿™ä¸ªï¼ˆæˆ–è¿™äº›ï¼‰<code>key</code>è¢«å…¶ä»–å‘½ä»¤æ‰€æ”¹åŠ¨ï¼Œé‚£ä¹ˆäº‹åŠ¡å°†è¢«æ‰“æ–­ã€‚<br>æ¯”å¦‚ç°åœ¨æœ‰ä¸¤ä¸ª<code>redis-cli</code>éƒ½åœ¨ä½¿ç”¨åŒä¸€ä¸ªæ•°æ®åº“ï¼Œç¬¬ä¸€ä¸ªåœ¨æ‰§è¡Œäº‹åŠ¡ï¼Œç¬¬äºŒä¸ªæ”¹å˜äº†ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸­ç›‘è§†çš„<code>key</code>ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªä¸­çš„äº‹åŠ¡å°†è¢«æ‰“æ–­ã€‚<br>åŒæ ·çš„æˆ‘ä»¬æ‰“å¼€ä¸¤ä¸ª<code>redis-cli</code>æ¥ä½¿ç”¨ä¸€ä¸‹<code>watch</code>ã€‚åœ¨ç¬¬ä¸€ä¸ªçª—å£ä¸­ï¼Œæˆ‘ä»¬å…ˆä½¿ç”¨<code>set</code>å‘½ä»¤è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹ï¼š<code>127.0.0.1:6379&gt; set WatchKey &quot;A value&quot;</code>ã€‚ç„¶åæ¥åˆ°ç¬¬äºŒä¸ªçª—å£ï¼Œè¾“å…¥å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Redis">127.0.0.1:6379&gt; watch WatchKey<br>OK<br>127.0.0.1:6379&gt; multi<br>OK<br>127.0.0.1:6379&gt; get WatchKey<br>QUEUED<br>127.0.0.1:6379&gt; exists WatchKey<br>QUEUED<br>127.0.0.1:6379&gt; set WatchKey &quot;No execute&quot;<br>QUEUED<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ç›‘è§†äº†åœ¨ç¬¬ä¸€ä¸ªçª—å£è®¾ç½®çš„<code>WatchKey</code>é”®ï¼Œç„¶åè®¾ç½®äº†ä¸€ä¸ªä¸‰æ¡å‘½ä»¤çš„äº‹åŠ¡ã€‚è¿™æ—¶å€™å…ˆåˆ«æ‰§è¡Œï¼Œå›åˆ°ç¬¬ä¸€ä¸ªçª—å£å¯¹<code>WatchKey</code>è¿›è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚åˆ é™¤ï¼š<code>127.0.0.1:6379&gt; del WatchKey</code>ï¼Œæ‰§è¡ŒæˆåŠŸåå†åœ¨ç¬¬äºŒä¸ªçª—å£æ‰§è¡Œäº‹åŠ¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Redis">127.0.0.1:6379&gt; exec<br>(nil)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°<code>exec</code>å‘½ä»¤ç›´æ¥è¿”å›äº†<code>null</code>ï¼Œè¯´æ˜äº‹åŠ¡æ²¡æœ‰è¢«æ‰§è¡Œã€‚</p><h1>Redisæ•°æ®å¤‡ä»½ä¸æ¢å¤</h1><p>è¦å¤‡ä»½æ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨<code>save</code>æˆ–<code>bgsave</code>å‘½ä»¤ï¼Œç›´æ¥åœ¨<code>redis-cli</code>ä¸­è¾“å…¥å³å¯ï¼Œè¯¥å‘½ä»¤æ‰§è¡Œåä¼šç”Ÿæˆ<code>dump.rdb</code>æ–‡ä»¶ã€‚è¦æ¢å¤æ•°æ®ä¹Ÿååˆ†å®¹æ˜“ï¼Œç›´æ¥å°†<code>dump.rdb</code>æ–‡ä»¶ç½®äº<code>Redis</code>å®‰è£…ç›®å½•å¹¶å¯åŠ¨æœåŠ¡å³å¯ã€‚</p><h1>Rediså¯†ç éªŒè¯</h1><p>ä¸º<code>Redis</code>è®¾ç½®å¯†ç è®¿é—®ï¼Œä½¿ç”¨<code>config set requirepass &lt;password&gt;</code>å‘½ä»¤å³å¯ã€‚å¦‚æœéœ€è¦æŸ¥çœ‹å¯†ç ï¼Œä½¿ç”¨<code>config get requirepass</code>å‘½ä»¤å³å¯ã€‚</p><h1>å¯èƒ½é‡åˆ°çš„é—®é¢˜</h1><h2 id="redis-cliä¹±ç "><code>redis-cli</code>ä¹±ç </h2><p>Solution: <code>redis-cli --raw</code></p><h1>ä¹±ä¸ƒå…«ç³Ÿçš„è¯</h1><p>ä¹Ÿè®¸ä»¥ååˆå­¦åˆ°ä»€ä¹ˆ<code>Redis</code>ç›¸å…³å†æ”¾åˆ°è¿™é‡Œã€‚</p><h1>å‚è€ƒ</h1><p><a href="https://www.runoob.com/redis">èœé¸Ÿæ•™ç¨‹Redis</a></p><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Redis</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Redis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ ‘è“æ´¾4Bä¸DHT11ã€TTP223å’ŒBF1750(FVI)</title>
    <link href="/2023/04/09/raspberrypi-essay-1/"/>
    <url>/2023/04/09/raspberrypi-essay-1/</url>
    
    <content type="html"><![CDATA[<h1>DHT11</h1><h2 id="ç¡¬ä»¶åŠæ¥çº¿ç­‰è¯´æ˜">ç¡¬ä»¶åŠæ¥çº¿ç­‰è¯´æ˜</h2><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œå…ˆæ”¾å‡ºä¸€ä¸ªDHT11çš„æ•°æ®æ‰‹å†Œï¼Œéœ€è¦å‚è€ƒçš„å¯ä»¥ç‚¹å‡»è·³è½¬ï¼š<a href="https://cdn-shop.adafruit.com/datasheets/DHT11-chinese.pdf">DHT11æ•°æ®æ‰‹å†Œ</a><br>è¿™é‡Œæˆ‘è‡ªå·±ä¹°çš„æ˜¯ä¸‰è„šçš„DHT11ï¼Œä¸è¿‡ä¸‰è„šå’Œå››è„šçš„æ¥çº¿éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¦æ¥çš„æ˜¯<code>VCC</code>ã€<code>DATA</code>å’Œ<code>GND</code>ã€‚<br><img src="http://imagehost.map1e-g.cn/RaspberryPi/DHT11_Pin.jpg" alt="DHT11å¼•è„šè¯´æ˜"><br>å†çœ‹åˆ°æˆ‘ä»¬çš„æ ‘è“æ´¾4Bçš„å¼•è„šï¼š<br><img src="http://imagehost.map1e-g.cn/RaspberryPi/RaspberryPi_Pin.png" alt="æ ‘è“æ´¾4Bå¼•è„šè¯´æ˜"><br>ç„¶åæŠŠæˆ‘ä»¬çš„<code>VCC</code>è¿æ¥åˆ°ä»»æ„<code>3.3V</code>æˆ–<code>5V</code>å¼•è„šä¸Šï¼Œ<code>GND</code>è¿æ¥è‡³ä»»æ„<code>Ground</code>å¼•è„šä¸Šï¼Œ<code>DATA</code>è¿æ¥åˆ°ä»»æ„GPIOå¼•è„šä¸Šï¼Œæˆ‘è¿™é‡Œä»¥è¿æ¥åˆ°7å·å¼•è„šä¸Šåšç¤ºä¾‹ã€‚</p><h2 id="ç¼–ç¨‹ç¯å¢ƒå‡†å¤‡">ç¼–ç¨‹ç¯å¢ƒå‡†å¤‡</h2><p>è¿™é‡Œè‡ªå·±ç”¨çš„IDEå°±æ˜¯æ ‘è“æ´¾å®˜æ–¹çƒ§å½•è‡ªå¸¦çš„<code>Thonny</code>ï¼Œç¼–ç¨‹è¯­è¨€ç”¨çš„<code>Python</code>ï¼Œç„¶åè¿˜éœ€è¦å®‰è£…ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“<code>Adafruit_DHT</code>ï¼Œå®‰è£…è¯¥åº“ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo git clone https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/adafruit/</span>Adafruit_Python_DHT.git<br>cd Adafruit_Python_DHT<br></code></pre></td></tr></table></figure><p>OKï¼Œç°åœ¨å…ˆåœä¸€ä¸‹ï¼Œå› ä¸ºè¿™ä¸ªåº“æœ€åæ›´æ–°æ˜¯19å¹´ï¼Œä¼šå¯¼è‡´æ ‘è“æ´¾4Bæ— æ³•ä½¿ç”¨ï¼Œå› ä¸ºé©±åŠ¨æœªæ”¯æŒæ ‘è“æ´¾4Bçš„å¤„ç†å™¨<code>BCM2711</code>ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ä¸ºå…¶æ·»åŠ æ”¯æŒã€‚æ‰“å¼€å½“å‰ç›®å½•ä¸‹çš„<code>Adafruit_DHT</code>ï¼Œç¼–è¾‘<code>platform_detect.py</code>ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆå¦‚æœä½ æ²¡åŠ¨è¿‡ä»£ç ï¼Œé‚£ä¹ˆä¸‹åˆ—è¯­å¥åº”è¯¥æ·»åŠ åœ¨ç¬¬111è¡Œä¹‹åï¼Œå¦‚æœåšæ–‡å†…å®¹è¿‡æœŸäº†ä¹Ÿæ²¡å…³ç³»ï¼Œå› ä¸ºä½ åº”è¯¥èƒ½å¾ˆå¥½åœ°çœ‹å‡ºæ¥ä¸‹é¢è¿™å¥åº”è¯¥æ”¾åœ¨å“ªé‡Œï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">elif</span> match.group(<span class="hljs-number">1</span>) == <span class="hljs-string">&#x27;BCM2711&#x27;</span>:<br>   <span class="hljs-comment"># Pi 4b</span><br>   <span class="hljs-keyword">return</span> <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œæ’å…¥ä¸€ç‚¹é¢˜å¤–è¯ï¼Œæ ‘è“æ´¾4Bè™½ç„¶ç”¨çš„æ˜¯BCM2711ä½†æ˜¯æŸäº›å‘½ä»¤æ˜¾ç¤ºå‡ºæ¥ä¼šæ˜¯BCM2835ï¼ˆè²Œä¼¼ï¼‰ï¼ŒæŸ¥äº†ä¸‹åŸå› æ²¡æ‡‚ï¼ˆé€ƒ<br>å¦‚æœä½ è§‰å¾—éœ€è¦æƒé™ç¼–è¾‘å¾ˆéº»çƒ¦ï¼Œå»ºè®®å¤šä½¿ç”¨æ§åˆ¶å°ï¼Œé‡äº‹ä¸å†³å‘½ä»¤å‰åŠ <code>sudo</code>ã€‚<br>ç¼–è¾‘å®Œæˆåå°±æ˜¯å®‰è£…åº“äº†ï¼Œæ‰§è¡Œè¯¥å‘½ä»¤ï¼š<code>sudo python setup.py install</code>ï¼Œå½“ç„¶æˆ‘ä¸çŸ¥é“ä½ çš„æ ‘è“æ´¾ä¸Š<code>python</code>å’Œ<code>python3</code>æ˜¯ä¸æ˜¯ä¸€ä¸ªç‰ˆæœ¬ï¼ˆæœ‰äººçš„æ ‘è“æ´¾è£…äº†<code>python2</code>å’Œ<code>python3</code>ï¼‰ï¼Œä¸æ˜¯çš„è¯å°±å†æ‰§è¡Œä¸‹<code>sudo python3 setup.py install</code>ã€‚<br>åœ¨ç½‘ä¸Šçœ‹åˆ°çš„å…¶ä»–åšæ–‡éƒ½è¯´è¦æ›´æ–°è½¯ä»¶åŒ…ï¼Œåæ­£æˆ‘æ²¡æ›´æ–°ï¼Œå¦‚æœç¡¬è¦æ›´æ–°çš„è¯ï¼Œè®°å¾—æ³¨æ„<code>sudo apt-get install build-essential python-dev</code>è¾“å‡ºçš„è¯´æ˜ï¼Œå¯èƒ½æ˜¯æŠŠ<code>python3</code>çš„å¸äº†è£…<code>python2</code>çš„ï¼ˆï¼Ÿï¼‰</p></blockquote><h2 id="ç¼–å†™ç¨‹åº">ç¼–å†™ç¨‹åº</h2><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸å†™ï¼Œå› ä¸º<code>Adafruit</code>æä¾›äº†ç¤ºä¾‹ç¨‹åºï¼Œå¯ä»¥ç›´æ¥è¿è¡Œç¨‹åºæµ‹è¯•ï¼Œç¤ºä¾‹ç¨‹åºå°±åœ¨<code>Adafruit_Python_DHT</code>ç›®å½•ä¸‹çš„<code>examples</code>æ–‡ä»¶å¤¹é‡Œï¼Œåœ¨å½“å‰ç›®å½•çš„ç»ˆç«¯ä¸‹æ‰§è¡Œï¼š<code>python AdafruitDHT.py 11 4</code>å³å¯ã€‚</p><blockquote><p>å¦‚æœä½ ä¸çŸ¥é“æ€ä¹ˆè¿›å…¥ç›®å½•ï¼Œæˆ‘è¿˜æ˜¯é‚£å¥è¯ï¼Œå»ºè®®å¤šä½¿ç”¨æ§åˆ¶å°ï¼Œè®°ä½æœ€åŸºæœ¬çš„å‘½ä»¤æ˜¯å¥½çš„ã€‚ç°åœ¨å°±å…ˆå‚è€ƒä¸‹é¢çš„å‘½ä»¤å§ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> ~<br><span class="hljs-built_in">cd</span> Adafruit_Python_DHT/examples<br></code></pre></td></tr></table></figure></blockquote><p>é‚£ä¹ˆ<code>python AdafruitDHT.py 11 4</code>åé¢çš„<code>11</code>å’Œ<code>4</code>æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿçœ‹åˆ°æºç é‡Œé¢å†™çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Parse command line parameters.</span><br>sensor_args = &#123; <span class="hljs-string">&#x27;11&#x27;</span>: Adafruit_DHT.DHT11,<br>                <span class="hljs-string">&#x27;22&#x27;</span>: Adafruit_DHT.DHT22,<br>                <span class="hljs-string">&#x27;2302&#x27;</span>: Adafruit_DHT.AM2302 &#125;<br><span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(sys.argv) == <span class="hljs-number">3</span> <span class="hljs-keyword">and</span> sys.argv[<span class="hljs-number">1</span>] <span class="hljs-keyword">in</span> sensor_args:<br>    sensor = sensor_args[sys.argv[<span class="hljs-number">1</span>]]<br>    pin = sys.argv[<span class="hljs-number">2</span>]<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥åœ¨è¿™é‡Œï¼Œç¬¬ä¸€ä¸ªå‚æ•°<code>11</code>ä»£è¡¨ä¼ æ„Ÿå™¨çš„å‹å·ï¼Œè¿™é‡Œæ”¯æŒä¸‰ç§ä¼ æ„Ÿå™¨çš„æ•°æ®è¯»å–ï¼›è€Œç¬¬äºŒä¸ªå‚æ•°<code>4</code>ä»£è¡¨çš„æ˜¯GPIOçš„ç¼–å·ï¼Œæ³¨æ„ä¸æ˜¯æ¿ç¼–å·ï¼Œè™½ç„¶æˆ‘ç”¨çš„<code>GPIO 4</code>æ˜¯7å·å¼•è„šï¼Œä½†æ˜¯GPIOç¼–å·æ˜¯<code>4</code>ï¼Œæ‰€ä»¥è¿™é‡Œä¼ å…¥çš„å‚æ•°æ˜¯<code>4</code>ã€‚<br>ä¸‹é¢å°±ç”±æˆ‘ä»¬è‡ªå·±æ¥ç¼–å†™ç¨‹åºã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ç¼–å†™çš„æ˜¯ä¸€ä¸ªæ¯ç§’è¯»ä¸€æ¬¡æ•°æ®å¹¶æ‰“å°åˆ°ç»ˆç«¯çš„ç¨‹åºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> Adafruit_DHT<br><br>sensor=Adafruit_DHT.DHT11<br>gpio=<span class="hljs-number">4</span><br><br><span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>):<br>    humidity, temperature = Adafruit_DHT.read_retry(sensor, gpio)<br>    <span class="hljs-keyword">if</span> humidity <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> temperature <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>      <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Temp=&#123;0:0.1f&#125;*C  Humidity=&#123;1:0.1f&#125;%&#x27;</span>.<span class="hljs-built_in">format</span>(temperature, humidity))<br>    <span class="hljs-keyword">else</span>:<br>      <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Failed to get reading. Try again!&#x27;</span>)<br>      time.sleep(<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä»£ç ç®€æ´æ˜“æ‡‚ï¼Œç›´æ¥è°ƒåº“å°±è¡Œï¼Œçœç•¥äº†å¤æ‚çš„è¯»å–æ•°æ®ã€è®¡ç®—æ•°æ®å’Œæ ¡éªŒæ•°æ®çš„æ­¥éª¤ï¼ˆåå¤„æ˜¯æ²¡å­¦åˆ°ä»€ä¹ˆä¸œè¥¿.jpgï¼‰ã€‚</p><h1>TTP223</h1><p>æˆ‘ä¹°çš„æ˜¯è¿™æ ·çš„ï¼š<img src="http://imagehost.map1e-g.cn/RaspberryPi/TTP223.jpg" alt="TTP223"><br>è¿™ä¸ªå°±å¥½æ‡‚äº†ï¼Œ<code>VCC</code>å’Œ<code>GND</code>å’Œä¸Šé¢çš„<code>DHT11</code>çš„ä¸€æ ·ï¼Œå‰©ä¸‹çš„<code>SIG</code>ä¹Ÿæ˜¯æ¥ä»»æ„ä¸€ä¸ª<code>GPIO</code>å¼•è„šå³å¯ï¼Œä¸‹é¢çš„ç¨‹åºæˆ‘æ¥çš„æ˜¯<code>GPIO_17</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> RPi.GPIO <span class="hljs-keyword">as</span> GPIO<br><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep<br>GPIO.setmode(GPIO.BCM)<br>GPIO.setup(<span class="hljs-number">17</span>, GPIO.IN)<br>GPIO.setup(<span class="hljs-number">17</span>, GPIO.IN, pull_up_down=GPIO.PUD_UP)<br><br><span class="hljs-keyword">try</span>:<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        sleep(<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">if</span> GPIO.<span class="hljs-built_in">input</span>(<span class="hljs-number">17</span>) == GPIO.HIGH:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;touch!&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;nothing happen.&#x27;</span>)<br><span class="hljs-keyword">except</span> KeyboardInterrupt:<br>    GPIO.cleanup()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;GPIO cleanup()&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ç°åœ¨æ¥è§£é‡Šä¸€ä¸‹ï¼Œå¼•å…¥<code>RPi.GPIO</code>è¿™ä¸ªåº“ï¼Œ<code>GPIO</code>å¼•è„šç¼–ç è®¾ç½®ä¸º<code>BCM</code>ç¼–ç ï¼Œç„¶åæŠŠ<code>BCM</code>ç¼–ç ä¸‹çš„<code>17</code>å·å¼•è„šè®¾ç½®ä¸ºè¾“å…¥æ¨¡å¼ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦ä»ä¸­è¯»å–å¼•è„šç”µå¹³çŠ¶æ€æ¥çŸ¥é“ä¼ æ„Ÿå™¨æ˜¯å¦è¢«è§¦æ‘¸ï¼›<code>GPIO.setup(17, GPIO.IN, pull_up_down=GPIO.PUD_UP)</code>è¿™ä¸€å¥çš„è¯ï¼Œç¿»è¯‘ä¸€ä¸‹å°±æ˜¯è®¾ç½®ä¸Šæ‹‰ç”µé˜»ï¼Œå…³äºä¸Šä¸‹æ‹‰ç”µé˜»æœ‰ä»€ä¹ˆä½œç”¨ï¼Œå¯ä»¥ç™¾åº¦ä¸€ä¸‹ï¼ˆ<br>å½“æˆ‘ä»¬è§¦æ‘¸æ¿æ£€æµ‹åˆ°è§¦æ‘¸æ—¶ï¼Œå¼•è„šå°±ä¼šè¾“å‡ºé«˜ç”µå¹³ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦é€šè¿‡æ£€æµ‹å¼•è„šæ­¤åˆ»ç”µå¹³çŠ¶æ€ï¼Œå°±èƒ½çŸ¥é“æ˜¯å¦å­˜åœ¨è§¦æ‘¸ï¼Œç„¶åè¿›è¡Œæˆ‘ä»¬éœ€è¦è¿›è¡Œçš„æ“ä½œå³å¯ã€‚</p><h1>BH1750(FVI)</h1><h2 id="ç¡¬ä»¶åŠæ¥çº¿è¯´æ˜">ç¡¬ä»¶åŠæ¥çº¿è¯´æ˜</h2><p>å‰æ’æç¤ºï¼šè¿™ä¸ªä¸œè¥¿æ˜¯è¦è‡ªå·±ç„Šçš„ï¼Œå¦‚æœä½ ä¸ä¼šç„Šæˆ–è€…ä»æ¥æ²¡æ¥è§¦è¿‡ç„Šæ¥å¼•è„šçš„ï¼Œæˆ‘çš„å»ºè®®æ˜¯æ‰¾æ‰¾ç„Šæ¥å¥½çš„ï¼Œä¸è¦æŠ˜ç£¨è‡ªå·±ï¼ˆ<br><img src="http://imagehost.map1e-g.cn/RaspberryPi/BH1750_Pin.jpg" alt="BH1750å¼•è„šè¯´æ˜"><br>BH1750æ˜¯é€šè¿‡<code>I2C</code>åè®®è¿›è¡Œæ•°æ®ä¼ è¾“çš„ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°æ ‘è“æ´¾çš„3å·å¼•è„šï¼ˆ<code>GPIO 2</code>ï¼‰å’Œ5å·å¼•è„šï¼ˆ<code>GPIO 3</code>ï¼‰ï¼Œåˆ†åˆ«æ˜¯<code>SDA</code>å’Œ<code>SCL</code>ã€‚<br>BH1750çš„æ¥çº¿ä¹Ÿååˆ†ç®€å•æ˜äº†ï¼Œ<code>VCC</code>å’Œ<code>GND</code>ä¸å‰é¢æ¥çº¿è¯´æ˜ä¸€æ ·ï¼Œå¦å¤–ä¸¤ä¸ª<code>SDA</code>å’Œ<code>SCL</code>å¼•è„šä¹Ÿæ˜¯åˆšå¥½å¯¹åº”æ ‘è“æ´¾4Bä¸Šçš„ä¸¤ä¸ªGPIOå¼•è„šã€‚<br>ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåœ¨ç»ˆç«¯ä½¿ç”¨<code>gpio readall</code>å‘½ä»¤çš„è¯ï¼Œæˆ‘ä»¬ä¼šå‘ç°æ ‘è“æ´¾4Bæä¾›äº†<code>SDA 1</code>ã€<code>SCL 1</code>å’Œ<code>SDA 0</code>ã€<code>SCL 0</code>ä¸¤å¯¹<code>I2C</code>æ¥å£ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æ˜¯<code>1</code>ï¼Œå¹¶ä¸”è¿™ä¸ª<code>0</code>åœ¨é»˜è®¤æƒ…å†µä¸‹åº”è¯¥æ˜¯æ— æ³•ä½¿ç”¨çš„ï¼ˆçœ‹åˆ«äººè¯´çš„ï¼Œè‡ªå·±è²Œä¼¼æ²¡è¯•è¿‡ï¼‰ï¼Œä¹Ÿæœ‰è¯´æŠŠæ‘„åƒå¤´å…³äº†å°±èƒ½ä½¿ç”¨ï¼Œå¦‚æœæœ‰å…´è¶£å¯ä»¥è‡ªå·±è¯•è¯•ã€‚<br><img src="http://imagehost.map1e-g.cn/RaspberryPi/BH1750_Function.jpg" alt="BH1750åŠŸèƒ½è¯´æ˜"><br>ä¸Šé¢è¿™äº›å›¾çš„åŠŸèƒ½è¯´æ˜ï¼Œå°±æ˜¯å‘Šè¯‰æˆ‘ä»¬ï¼Œå‘BH1750é€å…¥è¿™äº›æ•°æ®ï¼ŒBH1750ä¼šæ‰§è¡Œä»€ä¹ˆæ“ä½œï¼Œå¯ä»¥ç†è§£ä¸ºå‘½ä»¤ã€‚</p><h2 id="æ ‘è“æ´¾4Bå¼€å¯I2Cå’Œä¸‹è½½i2c-tools">æ ‘è“æ´¾4Bå¼€å¯I2Cå’Œä¸‹è½½i2c-tools</h2><p>æ¥å®Œçº¿åï¼Œæˆ‘ä»¬ä»éœ€è¦é…ç½®ä¸€äº›ä¸œè¥¿ã€‚ç°åœ¨å…ˆæ¥æ‰“å¼€æ ‘è“æ´¾4Bçš„<code>I2C</code>åŠŸèƒ½ã€‚<br>é¦–å…ˆï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œç„¶ååœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤<code>sudo raspi-config</code>ï¼Œè¿›å…¥è®¾ç½®ç•Œé¢ã€‚<br>ä½¿ç”¨æ–¹å‘é”®ç§»åŠ¨ï¼Œä½¿ç”¨å›è½¦ç¡®è®¤ï¼Œè¿›å…¥<code>3 Interface Options</code>ï¼Œé€‰æ‹©ç¬¬äº”é¡¹<code>I5 I2C</code>ï¼Œç„¶åé€‰æ‹©<code>Yes</code>ï¼Œé€€å‡ºå¹¶é‡å¯ç³»ç»Ÿï¼ˆé‡å¯å¯ä½¿ç”¨<code>sudo reboot</code>ï¼‰ã€‚è‡³æ­¤ï¼Œå°±å¯ç”¨äº†æ ‘è“æ´¾çš„<code>I2C</code>åŠŸèƒ½äº†ã€‚<br>æ¥ä¸‹æ¥æ˜¯å®‰è£…<code>i2c-tools</code>ï¼Œæ‰“å¼€ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š<code>sudo apt-get install i2c-tools</code>ç­‰å¾…å®‰è£…å®Œæˆå³å¯ã€‚<br>å®‰è£…æˆåŠŸåï¼Œè¾“å…¥<code>sudo i2cdetect -l</code>æ¥æ£€æŸ¥ä¸€ä¸‹æˆ‘ä»¬ä½¿ç”¨çš„æ¥å£ï¼š<br><img src="http://imagehost.map1e-g.cn/RaspberryPi/i2cdetect-l.jpg" alt=""><br>å‡ºç°<code>i2c-1</code>è¯´æ˜ä½¿ç”¨çš„æ˜¯<code>I2C1</code>çš„æ¥å£ï¼Œä¹Ÿå°±æ˜¯<code>SDA 1</code>å’Œ<code>SCL 1</code>ã€‚<br>ç„¶åå†æ£€æŸ¥ä¸€ä¸‹æˆ‘ä»¬æ¥å…¥çš„ä¼ æ„Ÿå™¨BH1750ï¼Œåœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š<code>sudo i2cdetect -y 1</code>è¿›è¡ŒæŸ¥çœ‹ï¼š<br><img src="http://imagehost.map1e-g.cn/RaspberryPi/i2cdetect-l.jpg" alt=""><br>æˆªå›¾ä¸Šçš„<code>23</code>å°±æ˜¯æˆ‘ä»¬çš„BH1750çš„é»˜è®¤åœ°å€ã€‚<br>è‡³æ­¤ï¼Œé…ç½®å®Œæˆã€‚</p><h2 id="ç¼–å†™ç¨‹åº-2">ç¼–å†™ç¨‹åº</h2><p>ç»ˆäºåˆ°ç¼–å†™ç¨‹åºç¯èŠ‚äº†ï¼Œå¯å–œå¯è´ºæ~</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> RPi.GPIO <span class="hljs-keyword">as</span> GPIO<br><span class="hljs-keyword">import</span> smbus<br><span class="hljs-keyword">from</span> paho.mqtt <span class="hljs-keyword">import</span> client <span class="hljs-keyword">as</span> mqtt_client<br><br>GPIO.setmode(GPIO.BCM)<br>GPIO.setup(<span class="hljs-number">17</span>, GPIO.OUT)<br><br><span class="hljs-comment"># BH1750FVI config</span><br>DEVICE = <span class="hljs-number">0x23</span>  <span class="hljs-comment"># Default device I2C address</span><br>POWER_DOWN = <span class="hljs-number">0x00</span><br>POWER_ON = <span class="hljs-number">0x01</span><br>RESET = <span class="hljs-number">0x07</span><br>CONTINUOUS_LOW_RES_MODE = <span class="hljs-number">0x13</span><br>CONTINUOUS_HIGH_RES_MODE_1 = <span class="hljs-number">0x10</span><br>CONTINUOUS_HIGH_RES_MODE_2 = <span class="hljs-number">0x11</span><br>ONE_TIME_HIGH_RES_MODE_1 = <span class="hljs-number">0x20</span><br>ONE_TIME_HIGH_RES_MODE_2 = <span class="hljs-number">0x21</span><br>ONE_TIME_LOW_RES_MODE = <span class="hljs-number">0x23</span><br>bus = smbus.SMBus(<span class="hljs-number">1</span>)<br><br><span class="hljs-comment"># MQTT broker config</span><br>broker = <span class="hljs-string">&#x27;******&#x27;</span><br>port = ******<br>topic = <span class="hljs-string">&#x27;***&#x27;</span><br>client_id = <span class="hljs-string">&#x27;******&#x27;</span><br>username = <span class="hljs-string">&#x27;***&#x27;</span><br>password = <span class="hljs-string">&#x27;***&#x27;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">read_light</span>():<br>    data = bus.read_i2c_block_data(DEVICE, ONE_TIME_HIGH_RES_MODE_1)<br>    light_level = <span class="hljs-built_in">round</span>((data[<span class="hljs-number">1</span>] + (<span class="hljs-number">256</span> * data[<span class="hljs-number">0</span>])) / <span class="hljs-number">1.2</span>, <span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">return</span> light_level<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">connect_mqtt</span>():<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">on_connect</span>(<span class="hljs-params">client, userdata, flags, rc</span>):<br>        <span class="hljs-keyword">if</span> rc == <span class="hljs-number">0</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Connected to MQTT Broker!&quot;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Failed to connect, return code %d\n&quot;</span>, rc)<br>    client = mqtt_client.Client(client_id)<br>    client.username_pw_set(username, password)<br>    client.on_connect = on_connect<br>    client.connect(host=broker, port=port)<br>    <span class="hljs-keyword">return</span> client<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">publish</span>(<span class="hljs-params">client</span>):<br>    msg_count = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            time.sleep(<span class="hljs-number">1</span>)<br>            light_level = read_light()<br>            <span class="hljs-keyword">if</span> light_level &gt; <span class="hljs-number">55</span>:<br>                GPIO.output(<span class="hljs-number">17</span>, GPIO.LOW)<br>            <span class="hljs-keyword">else</span>:<br>                GPIO.output(<span class="hljs-number">17</span>, GPIO.HIGH)<br>            publish_msg = &#123;<span class="hljs-string">&#x27;lightLevel&#x27;</span>: light_level&#125;<br>            result = client.publish(<br>                topic,<br>                payload=json.dumps(publish_msg)<br>            )<br>            <span class="hljs-comment"># result: [0, 1]</span><br>            status = result[<span class="hljs-number">0</span>]<br>            <span class="hljs-keyword">if</span> status == <span class="hljs-number">0</span>:<br>                <span class="hljs-built_in">print</span>(publish_msg)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Failed to send message to topic <span class="hljs-subst">&#123;topic&#125;</span>&quot;</span>)<br>    <span class="hljs-keyword">except</span> KeyboardInterrupt:<br>        GPIO.cleanup()<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;GPIO.cleanup()&#x27;</span>)<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>():<br>    client = connect_mqtt()<br>    client.loop_start()<br>    publish(client)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    run()<br></code></pre></td></tr></table></figure><p>è¿™è¾¹è§£é‡Šä¸€äº›æ¯”è¾ƒé‡è¦çš„è¯­å¥ã€‚<code>bus = smbus.SMBus(1)</code>è¿™é‡Œå°±æ˜¯å®ä¾‹åŒ–ï¼Œ<code>1</code>ä»£è¡¨çš„æ˜¯<code>/dev/i2c-1</code>ã€‚<br><code>read_i2c_block_data(i2c_addr, register, length)</code>ï¼Œå°±æ˜¯ä»ç»™å®šçš„å¯„å­˜å™¨ä¸­è¯»å–å­—èŠ‚æ•°æ®å—ï¼Œå…¶ä¸­ä¸‰ä¸ªå‚æ•°åˆ†åˆ«è¡¨ç¤ºï¼ši2cè®¾å¤‡çš„åœ°å€ã€ç»™å®šçš„å¯„å­˜å™¨ã€è¯»å–çš„é•¿åº¦ï¼ˆæœ€å¤š32ä½ï¼‰ï¼Œè¿”å›ä¸€ä¸ªå­—èŠ‚ç»„æˆçš„åˆ—è¡¨ã€‚<br><code>(data[1] + (256 * data[0])) / 1.2</code>å°±æ˜¯å•çº¯çš„è®¡ç®—å…¬å¼ï¼Œä¸ç”¨ç®¡å¤ªå¤šã€‚å…¶ä»–ä»£ç çš„è¯éƒ½æ˜¯MQTTçš„æ¨¡æ¿ä»£ç ï¼Œå¯ä»¥é€šè¿‡å®˜ç½‘çš„æ–‡æ¡£äº†è§£åˆ°è¿™äº›ä»£ç çš„ç”¨é€”ï¼š<a href="https://docs.emqx.com/zh/cloud/latest/connect_to_deployments/python_sdk.html">ä½¿ç”¨Python SDKæ¥å…¥</a>ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>RaspberryPi</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>nano</tag>
      
      <tag>RaspberryPi</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä½¿ç”¨Pygameæ¥åˆ¶ä½œæ¸¸æˆå§ï¼â€”â€”Pygameå­¦ä¹ </title>
    <link href="/2023/03/30/pygame-learning-1/"/>
    <url>/2023/03/30/pygame-learning-1/</url>
    
    <content type="html"><![CDATA[<h1>å ç”²</h1><p>æ‰€æœ‰å†…å®¹å‡ä»<a href="https://www.youtube.com/watch?v=AY9MnQ4x3zk">The ultimate introduction to Pygame</a>è·å¾—</p><h1>PygameåŸºç¡€</h1><h2 id="å¦‚ä½•åˆå§‹åŒ–Pygameï¼Ÿ">å¦‚ä½•åˆå§‹åŒ–Pygameï¼Ÿ</h2><p><code>pygame.init()</code>å³å¯</p><h2 id="ä½†æ˜¯æ²¡æœ‰å¼¹å‡ºçª—å£">ä½†æ˜¯æ²¡æœ‰å¼¹å‡ºçª—å£</h2><p>ä½¿ç”¨<code>screen = pygame.display.set_mode((x, y))</code>æ¥åˆ›å»ºä¸€ä¸ªå¤§å°ï¼ˆè§£æåº¦ï¼‰ä¸º<code>x * y</code>çš„çª—å£ï¼Œ<br>ä½¿ç”¨<code>pygame.display.set_caption(title)</code>æ¥è®¾ç½®çª—å£æ ‡é¢˜<br>ä½†æ˜¯ç°åœ¨çš„çª—å£å¹¶ä¸å®Œå–„ï¼Œå› ä¸ºåªå‡ºç°<strong>1s</strong>å°±æ¶ˆå¤±äº†ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€è¦åŠ ä¸ª<code>while True</code>ä¿æŒç¨‹åºä¸€ç›´è¿è¡Œå°±å¥½äº†ã€‚<br>ä½†æ˜¯è¿˜éœ€è¦åœ¨å¾ªç¯é‡Œæ·»åŠ ä¸€å¥<code>pygame.display.update()</code>ï¼Œå®ƒèƒ½å¤Ÿæ›´æ–°æˆ‘ä»¬çš„çª—å£é‡Œçš„ç”»é¢ï¼Œè€Œä¸ä¼šè®©æˆ‘ä»¬çš„çª—å£ä¸€ç›´ä¿æŒä¸€ä¸ªå¸§ï¼ˆç”»é¢ï¼‰ä¸å˜ã€‚</p><div class="note note-warning">            <p>Oops!ä½ å¯èƒ½åˆå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ç‚¹å‡»å…³é—­çª—å£ä¹‹åæŠ¥é”™äº†ï¼å› ä¸ºå…³é—­çª—å£ä¹‹åç¨‹åºä»å°†è¿è¡Œï¼Œå¹¶ä¸”ç»§ç»­æ‰§è¡Œ<code>pygame.display.update()</code>ã€‚<br>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¼š<strong>æ•æ‰å…³é—­çª—å£äº‹ä»¶</strong>ï¼Œå¹¶åœ¨æ•æ‰åˆ°ä¹‹åè°ƒç”¨Pythonçš„<code>exit()</code>æ–¹æ³•ï¼ˆæ­¤æ–¹æ³•åœ¨<code>sys</code>åº“ä¸­ï¼Œéœ€<code>import</code>ï¼‰ï¼Œé€€å‡ºç¨‹åºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br><span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.QUIT:<br>pygame.quit()<br>exit()<br></code></pre></td></tr></table></figure>          </div><h2 id="ååˆ†é‡è¦çš„å®šæ—¶å™¨">ååˆ†é‡è¦çš„å®šæ—¶å™¨</h2><p>åœ¨ä¸åŒæœºå™¨ä¸Šè¿è¡ŒåŒä¸€ä¸ªæ¸¸æˆï¼Œå¸§æ•°ä¼šæ ¹æ®æœºå™¨çš„å¥½åè€Œå˜å¾—ä¸ä¸€è‡´ï¼Œå¦‚æœæˆ‘ä»¬ä¸å¯¹<code>1s</code>å†…æ›´æ–°çš„å¸§æ•°è¿›è¡ŒæŸäº›é™åˆ¶ï¼Œé‚£ä¹ˆå¸§æ•°ä½çš„æ—¶å€™æ‰€æœ‰çš„äº‹ç‰©å°†å˜æ…¢ï¼Œå¸§æ•°é«˜çš„æ—¶å€™æ‰€æœ‰çš„äº‹ç‰©å°†å˜å¿«ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å®šæ—¶å™¨ã€‚<br>åœ¨pygameä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>clock = pygame.time.Clock()</code>æ¥åˆå§‹åŒ–ä¸€ä¸ªå®šæ—¶å™¨ï¼Œéšåï¼Œåœ¨<code>while True</code>é‡ŒåŠ å…¥ä¸€å¥<code>clock.time(60)</code>è®¾ç½®æ¯ç§’æœ€å¤§å¸§é€Ÿç‡è¿›è¡Œé™åˆ¶ã€‚</p><h2 id="ç»˜åˆ¶æˆ‘ä»¬æƒ³è¦å±•ç¤ºåœ¨çª—å£ä¸Šçš„-GameObject-ï¼">ç»˜åˆ¶æˆ‘ä»¬æƒ³è¦å±•ç¤ºåœ¨çª—å£ä¸Šçš„&quot;GameObject&quot;ï¼</h2><p>åœ¨çª—å£ä¸­åŠ è½½ï¼ˆç»˜åˆ¶ï¼‰ä¸€ä¸ªå›¾åƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python">image_01 = pygame.image.load(path).convert()<br>screen.blit(image_01, (x, y))<br></code></pre></td></tr></table></figure><p>å½“ç„¶å¦‚æœæ˜¯é€æ˜å›¾åƒæˆ–å›¾åƒä¸æ˜¯ä½ æƒ³è±¡çš„é‚£ä¸ªæ ·å­ï¼Œå°±è¯·ä½¿ç”¨<code>image_01 = pygame.image.load(path).convert_aplha()</code>æ–¹æ³•è¯•è¯•å§ã€‚<br>æˆ‘ä»¬è¿˜å¯ä»¥ç»˜åˆ¶æ–‡æœ¬ï¼Œå…·ä½“æ–¹æ³•ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python">test_font = pygame.font.Font(path, size)<br>text_surf = test_font.render(text, AA, color)  <span class="hljs-comment"># AA is Anti-aliasing.The value is True or False.</span><br>screen.blit(text_surf, (x, y))<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨ç¢°æ’ç®±ï¼">ä½¿ç”¨ç¢°æ’ç®±ï¼</h2><p>æ¸¸æˆï¼ˆéƒ½ï¼‰éœ€è¦æœ‰ç¢°æ’ç®±å¹¶è¿›è¡Œç¢°æ’æ£€æµ‹ï¼Œé‚£ä¹ˆåœ¨pygameä¸­ï¼Œå¾—ç›Šäºpygameï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½è·å–ä¸€ä¸ªç‰©ä½“çš„ç¢°æ’ç®±ï¼Œå¹¶ä½¿ç”¨å®ƒä»¬è¿›è¡Œå„ç§å„æ ·æ–¹ä¾¿å¼€å‘çš„æ“ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python">object_rect = object_surf.get_rect(midbottom=(x, y))<br>screen.blit(object_surf, object_rect)<br></code></pre></td></tr></table></figure><p>å…³äº<code>get_rect()</code>æ–¹æ³•çš„æ›´å¤šå‚æ•°è¯·è‡ªè¡ŒæŸ¥é˜…è¯´æ˜æ–‡æ¡£ï¼Œåœ¨æ­¤ä»…ä½œç®€å•è¯´æ˜ï¼šä»¥è¯¥ç‰©ä½“ç¢°æ’ç®±çš„åº•éƒ¨çš„ä¸­ç‚¹ä½œä¸ºåŸºå‡†ç‚¹ï¼Œå°†ç‰©ä½“ç»˜åˆ¶åˆ°<code>(x, y)</code>ä½ç½®ä¸Šã€‚<br>æœ‰äº†è¿™ä¸ªç¢°æ’ç®±ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½æ›´å¥½åœ°æ›´æ–°ç‰©ä½“åœ¨ç”»é¢ä¸­çš„è¡¨ç°äº†ï¼æ¯”å¦‚ç§»åŠ¨ä¸€ä¸ªç‰©ä½“ï¼Œæˆ‘ä»¬åªéœ€è¦ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python">object_rect.x -= x<br><span class="hljs-keyword">if</span> object_rect.right &lt;= y:<br>object_rect.left = z<br>screen.blit(object_surf, object_rect)<br></code></pre></td></tr></table></figure><p>ä¸Šé¢è¿™æ®µä»£ç å†™åœ¨<code>while True</code>å¾ªç¯ä¸­ï¼Œå¤§è‡´æ„æ€ä¸ºï¼šæ›´æ–°<code>object_rect</code>çš„åœ¨<code>x</code>åæ ‡è½´ä¸Šçš„ä½ç½®ï¼Œå¦‚æœç¢°æ’ç®±å³è¾¹åæ ‡å°äºæŸä¸ªå€¼ï¼Œå°±è®¾ç½®ç¢°æ’ç®±å·¦è¾¹çš„åæ ‡ä¸ºæŸä¸ªå€¼ï¼Œç„¶ååœ¨ç”»é¢ä¸Šç»˜åˆ¶å‡ºæ¥ã€‚<br>æ¥ä¸‹æ¥ç»ˆäºè¿›å…¥ç¢°æ’æ£€æµ‹ç¯èŠ‚äº†ï¼<br>åœ¨Pygameä¸­ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ£€æµ‹ä¸¤ä¸ªç¢°æ’ç®±æ˜¯å¦ç›¸æ’ï¼Œç›´æ¥ä½¿ç”¨<code>rect_01.colliderect(rect_02)</code>å³å¯ï¼Œè¯¥æ–¹æ³•è¿”å›<code>0</code>æˆ–<code>1</code>ï¼›ä¹Ÿå¯ä»¥æ£€æµ‹æŸä¸ªç‚¹ï¼ˆä½ç½®ï¼‰æ˜¯å¦å’Œè¯¥ç‰©ä½“ç›¸æ’ï¼Œç”¨<code>rect.collidepoint((x, y))</code>æ–¹æ³•ã€‚</p><h2 id="å¯¹é¼ æ ‡è¿›è¡Œæ£€æµ‹">å¯¹é¼ æ ‡è¿›è¡Œæ£€æµ‹</h2><p>æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯åˆ©ç”¨<code>pygame.mouse</code>ï¼Œä¸€ç§æ˜¯åˆ©ç”¨<code>pygame.event</code>ã€‚ä¸‹é¢ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> pygame.event.get():<br><span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.MOUSEMOTION:<br><span class="hljs-built_in">print</span>(event.pos)<br>mouse_pos = pygame.mouse.get_pos()<br></code></pre></td></tr></table></figure><h2 id="æ£€æµ‹é”®ç›˜è¾“å…¥ï¼">æ£€æµ‹é”®ç›˜è¾“å…¥ï¼</h2><p>è·Ÿæ£€æµ‹é¼ æ ‡ä¸€æ ·ï¼Œæ£€æµ‹é”®ç›˜è¾“å…¥ä¹Ÿæœ‰ä¸¤ç§æ–¹æ³•ï¼Œ<code>pygame.key</code>å’Œ<code>pygame.event</code>ã€‚<br>å¦‚æœæˆ‘ä»¬æƒ³è¦ä½¿ç”¨<code>pygame.key</code>æ¥æ£€æµ‹ç©ºæ ¼æ˜¯å¦è¢«æ‘ä¸‹ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python">keys = pygame.key.get_pressed()<br>    <span class="hljs-keyword">if</span> keys[pygame.K_SPACE]:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;jump&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç»“åˆ<code>pygame.event</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.KEYDOWN:<br><span class="hljs-keyword">if</span> event.key == pygame.K_SPACE:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;jump&#x27;</span>)<br><span class="hljs-keyword">if</span> event.<span class="hljs-built_in">type</span> == pygame.KEYUP:<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;key up&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å½“ç„¶è¦è®°ä½ä¸€ç‚¹ï¼Œè¿™äº›ç›¸å…³æ“ä½œæ£€æµ‹æˆ‘ä»¬åº”è¯¥æ”¾åœ¨ç›¸å…³çš„ç±»é‡Œé¢è€Œä¸æ˜¯ä¸»ç¨‹åºçš„<code>event loop</code>é‡Œï¼Œåœ¨<code>event loop</code>ä¸­æˆ‘ä»¬æ›´æ³¨é‡ä¸€äº›é€šå¸¸æ“ä½œï¼Œæ¯”å¦‚å…³é—­æ¸¸æˆã€‚</p><h2 id="è½¬æ¢ä¸€ä¸ªGameObject">è½¬æ¢ä¸€ä¸ªGameObject</h2><p><code>pygame</code>çš„<code>transform</code>æä¾›äº†è®¸å¤šçš„è½¬æ¢å›¾åƒçš„æ–¹æ³•ï¼Œä¸‹é¢ä¸¾å‡ ä¸ªä¾‹å­ï¼š<br><code>object_01 = pygame.transform.scale(object_01, (weight, height))</code>ï¼Œæœ€åŸºæœ¬çš„æ–¹æ³•ï¼ŒæŒ‰ç…§æ‰€ä¼ å…¥çš„é•¿å®½æ¯”ä¾‹è¿›è¡Œæ”¾å¤§ï¼Œæ¯”è¾ƒéš¾ç”¨ã€‚<br><code>object_01 = pygame.transform.scale2x(object_01)</code>ï¼Œååˆ†æ–¹ä¾¿çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç›´æ¥å°†åŸæœ¬çš„å›¾åƒæ”¾å¤§ä¸€å€ã€‚<br><code>object_01 = pygame.transform.rotozoom(object_01, angle, scale)</code>ï¼Œéå¸¸å…¨é¢çš„æ–¹æ³•ï¼Œå¯ä»¥å°†å›¾åƒè¿›è¡Œæ—‹è½¬å’ŒæŒ‰æ¯”ä¾‹ç¼©æ”¾ã€‚</p><h2 id="ä½¿ç”¨Sprite-classç²¾çµç±»å§ï¼">ä½¿ç”¨<code>Sprite class</code>ç²¾çµç±»å§ï¼</h2><blockquote><p><code>Sprite class</code>, a class that contains a surface and a rectangle; and it can be drawn and updated very easily.<br>æˆ‘ä»¬å¯ä»¥ä¸ºç©å®¶å’Œæ€ªç‰©åˆ›å»ºä»–ä»¬çš„ç²¾çµç±»ï¼Œç”¨äºå­˜æ”¾ä»–ä»¬çš„<code>surface</code>å’Œ<code>rectangle</code>ï¼Œè¿™ç¬¦åˆ<code>OOP</code>çš„ç¼–ç¨‹æ€æƒ³ï¼Œä¹Ÿèƒ½å¤Ÿä½¿ä»£ç æ›´æ•´æ´ï¼Œæ›´å…·æœ‰å¯è¯»æ€§ã€‚<br>æœ‰äº†ç²¾çµç±»åï¼Œå¹¶ä¸æ˜¯ç›´æ¥åˆ›å»ºä»–ä»¬çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰ï¼Œè€Œæ˜¯å°†ä»–ä»¬æ”¾è¿›<code>Group</code>ä¸­ï¼Œç„¶åå¯¹åœ¨<code>Group</code>ä¸­å¯¹ä»–ä»¬è¿›è¡Œæ›´æ–°å’Œç»˜åˆ¶ã€‚åœ¨<code>pygame</code>ä¸­ï¼Œæœ‰ä¸¤ç§<code>Group</code>ï¼Œä¸€ç§æ˜¯é€šå¸¸ç”¨çš„<code>Group</code>ï¼Œé€‚åˆå­˜æ”¾å¤šä¸ªç²¾çµï¼ˆspritesï¼‰å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰ï¼Œä¸€ç§æ˜¯<code>GroupSingle</code>ï¼Œä¸“é—¨ä¸ºä¸€ä¸ª<code>sprite</code>æœåŠ¡ã€‚<br>é‚£ä¹ˆå¾ˆæ˜æ˜¾æˆ‘ä»¬åº”è¯¥æŠŠç©å®¶ä¸¢å…¥<code>GroupSingle</code>ä¸­ï¼Œè€ŒæŠŠæ€ªç‰©ç­‰ä¸¢å…¥<code>Group</code>ä¸­ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Player</span>(pygame.sprite.Sprite):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">self</span>):<br>...<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Monster</span>(pygame.sprite.Sprite):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">self</span>):<br>...<br><br>player = pygame.sprite.GroupSingle()<br>player.add(Player())<br><br>monster_group = pygame.sprite.Group()<br></code></pre></td></tr></table></figure><p>ç²¾çµç±»å’Œç»„éƒ½åˆ›å»ºå®Œæˆåï¼Œå°±å¯ä»¥åœ¨å±å¹•ä¸Šç»˜åˆ¶å‡ºæ¥äº†ï¼Œä½¿ç”¨<code>draw()</code>å’Œ<code>update()</code>æ–¹æ³•å°±èƒ½è‡ªåŠ¨å®Œæˆç»˜åˆ¶å’Œæ›´æ–°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python">player.draw(screen)<br>player.update()<br><br>monster_group.draw(screen)<br>monster_group.update()<br></code></pre></td></tr></table></figure><h2 id="è¿‡äºå•è°ƒï¼Ÿé‚£å°±åŠ ç‚¹éŸ³ä¹">è¿‡äºå•è°ƒï¼Ÿé‚£å°±åŠ ç‚¹éŸ³ä¹</h2><p>æƒ³è¦ä¸ºæˆ‘ä»¬çš„æ¸¸æˆæ·»åŠ èƒŒæ™¯éŸ³ä¹çš„è¯ä¹Ÿååˆ†ç®€å•ï¼Œä½¿ç”¨<code>pygame.mixer.Sound('path')</code>ç±»å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python">background_music = pygame.mixer.Sound(<span class="hljs-string">&#x27;audio/background.mp3&#x27;</span>)<br>background_music.set_volume(<span class="hljs-number">0.5</span>)  <span class="hljs-comment"># set volume</span><br>background_music.play(loops=-<span class="hljs-number">1</span>)  <span class="hljs-comment"># loop forever</span><br>background_music.stop()<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Pygame</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Pygame</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1638. ç»Ÿè®¡åªå·®ä¸€ä¸ªå­—ç¬¦çš„å­ä¸²æ•°ç›®</title>
    <link href="/2023/03/27/leetcode-1638/"/>
    <url>/2023/03/27/leetcode-1638/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1638_1.jpg" alt="1638"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="æš´åŠ›æšä¸¾">æš´åŠ›æšä¸¾</h2><p>æœ€å¼€å§‹æƒ³åˆ°çš„ï¼Œå°±æ˜¯å…ˆç¡®å®šå­ä¸²çš„é•¿åº¦ï¼Œç„¶åç¡®å®šåœ¨<code>s</code>å’Œ<code>t</code>ä¸­çš„æ‹¥æœ‰è¿™ä¸ªé•¿åº¦çš„å­ä¸²ï¼ŒæŠŠå®ƒä»¬æ”¾å…¥ä¸¤ä¸ªåˆ—è¡¨ä¸­ï¼Œç„¶åå¯¹è¿™ä¸¤ä¸ªåˆ—è¡¨è¿›è¡Œéå†å¹¶å°†å–å‡ºçš„ä¸¤ä¸ªå­ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œå¾ªç¯ç»“æŸåå¾—åˆ°ç»“æœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countSubstrings</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, t: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(s) + <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">if</span> i &gt; <span class="hljs-built_in">len</span>(t):<br>                <span class="hljs-keyword">return</span> ans<br>            tmp_index = <span class="hljs-number">0</span><br>            tmp_s = []<br>            tmp_t = []<br>            <span class="hljs-keyword">while</span> tmp_index + i &lt;= <span class="hljs-built_in">len</span>(s):<br>                tmp_s.append(s[tmp_index: tmp_index + i])<br>                tmp_index += <span class="hljs-number">1</span><br>            tmp_index = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">while</span> tmp_index + i &lt;= <span class="hljs-built_in">len</span>(t):<br>                tmp_t.append(t[tmp_index: tmp_index + i])<br>                tmp_index += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> sub_s <span class="hljs-keyword">in</span> tmp_s:<br>                <span class="hljs-keyword">for</span> sub_t <span class="hljs-keyword">in</span> tmp_t:<br>                    dif = <span class="hljs-number">0</span><br>                    <span class="hljs-keyword">for</span> cnt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, i):<br>                        <span class="hljs-keyword">if</span> dif &gt; <span class="hljs-number">1</span>:<br>                            <span class="hljs-keyword">break</span><br>                        <span class="hljs-keyword">if</span> sub_s[cnt] != sub_t[cnt]:<br>                            dif += <span class="hljs-number">1</span><br>                    <span class="hljs-keyword">if</span> dif == <span class="hljs-number">1</span>:<br>                        ans += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>å½“ç„¶ä¸Šé¢ä»£ç è¿‡äºå¤æ‚ï¼Œä»”ç»†æ€è€ƒï¼Œå¯ä»¥æ‰¾<code>s</code>å’Œ<code>t</code>ä¸­ä¸åŒå­—ç¬¦çš„ä½ç½®ï¼ˆå³<code>s[i] != t[j]</code>ï¼‰ï¼Œè¿™å°±æ»¡è¶³è¦æ‰¾çš„å­ä¸²ä¸­æœ‰ä¸€ä¸ªä¸åŒå­—ç¬¦çš„è¦æ±‚äº†ï¼Œ<br>ç„¶åä»¥è¿™ä¸¤ä¸ªä½ç½®ä¸ºä¸­å¿ƒï¼Œå‘å·¦å³æ‰©å±•ï¼Œæ‰¾åˆ°å·¦å³èƒ½å»¶ä¼¸çš„æœ€å¤§è·ç¦»<code>left</code>å’Œ<code>right</code>ï¼ˆå³æ‰¾åˆ°<code>s[i - left] != t[j - left]</code>å’Œ<code>s[i + right] != t[j + right]</code>ä¸ºæ­¢ï¼‰ï¼Œ<br>é‚£ä¹ˆå¯¹äºå½“å‰ä¸åŒå­—ç¬¦ä½ç½®<code>s[i] != t[j]</code>ï¼Œæœ€å¤šèƒ½å¤Ÿæ„é€ <code>(left + 1) * (right + 1)</code>ä¸ªç¬¦åˆè¦æ±‚çš„å­ä¸²å¯¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countSubstrings</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, t: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ans = <span class="hljs-number">0</span><br>        s_len, t_len = <span class="hljs-built_in">len</span>(s), <span class="hljs-built_in">len</span>(t)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(s)):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(t)):<br>                <span class="hljs-keyword">if</span> s[i] != t[j]:<br>                    left = right = <span class="hljs-number">0</span><br>                    <span class="hljs-keyword">while</span> i &gt; left <span class="hljs-keyword">and</span> j &gt; left <span class="hljs-keyword">and</span> s[i - left - <span class="hljs-number">1</span>] == t[j - left - <span class="hljs-number">1</span>]:<br>                        left += <span class="hljs-number">1</span><br>                    <span class="hljs-keyword">while</span> i + right + <span class="hljs-number">1</span> &lt; s_len <span class="hljs-keyword">and</span> j + right + <span class="hljs-number">1</span> &lt; t_len <span class="hljs-keyword">and</span> s[i + right + <span class="hljs-number">1</span>] == t[j + right + <span class="hljs-number">1</span>]:<br>                        right += <span class="hljs-number">1</span><br>                    ans += (left + <span class="hljs-number">1</span>) * (right + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><h2 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h2><p>è€ƒè™‘åˆ°ä¸Šé¢çš„æƒ…å†µï¼Œæˆ‘ä»¬åœ¨æ‰©å±•å·¦å³è·ç¦»æ—¶æ¯æ¬¡éƒ½è¦é‡å¤è®¡ç®—<code>left</code>å’Œ<code>right</code>ï¼Œé‚£èƒ½å¦é¢„å¤„ç†è¿™äº›æ•°æ®ï¼Œéœ€è¦ç”¨çš„æ—¶å€™ç›´æ¥å–å‡ºæ¥å‘¢ï¼Ÿå½“ç„¶å¯ä»¥ã€‚<br>å¯¹äºå·¦ä¾§çš„<code>dpl[i][j]</code>ï¼Œæˆ‘ä»¬ä¸è€ƒè™‘å½“å‰å­—ç¬¦<code>s[i]</code>æ˜¯å¦ç­‰äº<code>t[j]</code>ï¼Œå› ä¸ºæˆ‘ä»¬æœ¬æ¥å°±éœ€è¦æ‰¾ä¸€ä¸ªä¸åŒå­—ç¬¦æ‰€ä»¥å¯¹äº<code>dpl[i][j]</code>ï¼Œåº”çœ‹çš„æ˜¯<code>s[i - 1] == t[j - 1] ?</code>ã€‚<br>å†™å‡ºè½¬ç§»æ–¹ç¨‹ï¼š<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1638_2.jpg" alt="è½¬ç§»æ–¹ç¨‹"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countSubstrings</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, t: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        s_len, t_len = <span class="hljs-built_in">len</span>(s), <span class="hljs-built_in">len</span>(t)<br>        ans = <span class="hljs-number">0</span><br>        dpl = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(t_len + <span class="hljs-number">1</span>)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(s_len + <span class="hljs-number">1</span>)]<br>        dpr = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(t_len + <span class="hljs-number">1</span>)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(s_len + <span class="hljs-number">1</span>)]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(s_len):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(t_len):<br>                dpl[i + <span class="hljs-number">1</span>][j + <span class="hljs-number">1</span>] = (dpl[i][j] + <span class="hljs-number">1</span>) <span class="hljs-keyword">if</span> s[i] == t[j] <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(s_len - <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(t_len - <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>                dpr[i][j] = (dpr[i + <span class="hljs-number">1</span>][j + <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>) <span class="hljs-keyword">if</span> s[i] == t[j] <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(s_len):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(t_len):<br>                <span class="hljs-keyword">if</span> s[i] != t[j]:<br>                    ans += (dpl[i][j] + <span class="hljs-number">1</span>) * (dpr[i + <span class="hljs-number">1</span>][j + <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>æšä¸¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxå­¦ä¹ ç¬”è®°-2</title>
    <link href="/2023/03/24/linux-learning-2/"/>
    <url>/2023/03/24/linux-learning-2/</url>
    
    <content type="html"><![CDATA[<h1>ç»ˆç«¯ä¼šè¯æç¤ºç¬¦</h1><p><code>pi@raspberrypi:~$</code><br><code>pi</code>è¡¨ç¤ºå½“å‰ç”¨æˆ·å<br><code>raspberry</code>è¡¨ç¤ºè®¡ç®—æœºåç§°<br><code>~</code>è¡¨ç¤ºå½“å‰çš„ä¸»ç›®å½•<br><code>$</code>è¡¨ç¤ºéœ€è¦è¾“å…¥å‘½ä»¤çš„å¼€å§‹ä½ç½®</p><h1>åˆ‡æ¢ç”¨æˆ·</h1><p><code>sudo su</code>åˆ‡æ¢ä¸º<code>root</code>ç”¨æˆ·<br><code>su pi</code>åˆ‡å›æ™®é€šç”¨æˆ·</p><h1>å¸¸ç”¨å‘½ä»¤</h1><h2 id="ç›®å½•åˆ‡æ¢">ç›®å½•åˆ‡æ¢</h2><table><thead><tr><th>å‘½ä»¤</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>pwd</code></td><td>æ˜¾ç¤ºå½“å‰æ‰€åœ¨ç›®å½•</td></tr><tr><td><code>cd ~</code></td><td>åˆ‡æ¢åˆ°ä¸»ç›®å½•ï¼ˆ<code>/home/pi</code>ï¼‰ï¼Œ~ä¹Ÿå¯çœç•¥ä¸å†™</td></tr><tr><td><code>cd dir</code></td><td>åˆ‡æ¢åˆ°æŒ‡å®šç›®å½•ï¼Œ<code>dir</code>è¡¨ç¤ºæ–‡ä»¶è·¯å¾„</td></tr><tr><td><code>cd ..</code></td><td>åˆ‡æ¢åˆ°ä¸Šä¸€çº§ç›®å½•</td></tr></tbody></table><h2 id="æ–‡ä»¶å±•ç¤ºå‘½ä»¤">æ–‡ä»¶å±•ç¤ºå‘½ä»¤</h2><table><thead><tr><th>å‘½ä»¤</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>ls</code></td><td>å±•ç¤ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆä¸åŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰</td></tr><tr><td><code>ls -1</code></td><td>å±•ç¤ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰</td></tr></tbody></table><h2 id="åˆ›å»ºã€æŸ¥çœ‹ã€åˆ é™¤ã€é‡å‘½å">åˆ›å»ºã€æŸ¥çœ‹ã€åˆ é™¤ã€é‡å‘½å</h2><table><thead><tr><th>å‘½ä»¤</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>touch file</code></td><td>åˆ›å»ºæ–‡ä»¶file</td></tr><tr><td><code>mkdir dir</code></td><td>åˆ›å»ºç›®å½•dir</td></tr><tr><td><code>cat file</code></td><td>æŸ¥çœ‹æ–‡ä»¶fileå†…å®¹</td></tr><tr><td><code>more file</code></td><td>æŸ¥çœ‹æ–‡ä»¶fileå†…å®¹</td></tr><tr><td><code>head file</code></td><td>æŸ¥çœ‹æ–‡ä»¶fileå‰10è¡Œ</td></tr><tr><td><code>cat file</code></td><td>æŸ¥çœ‹æ–‡ä»¶fileå10è¡Œ</td></tr><tr><td><code>rm file</code></td><td>åˆ é™¤æ–‡ä»¶file</td></tr><tr><td><code>rm -r dir</code></td><td>åˆ é™¤ç›®å½•dir</td></tr><tr><td><code>mv file1 file2</code></td><td>å°†file1æ›´åä¸ºfile2ï¼ˆæ³¨æ„ä¼šè¦†ç›–åŸæ–‡ä»¶ï¼‰</td></tr><tr><td><code>mv file dir</code></td><td>å°†æ–‡ä»¶fileç§»åŠ¨åˆ°ç›®å½•diré‡Œ</td></tr></tbody></table><h1>nanoç¼–è¾‘å™¨</h1><table><thead><tr><th>å‘½ä»¤</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>nano file</code></td><td>ä½¿ç”¨nanoç¼–è¾‘æ–‡ä»¶fileï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºï¼‰</td></tr></tbody></table><table><thead><tr><th>å¿«æ·é”®</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>ctrl + o</code>/<code>ctrl + s</code></td><td>ä¿å­˜å½“å‰æ–‡æ¡£</td></tr><tr><td><code>esc + u</code></td><td>æ’é”€ä¸Šæ¬¡æ“ä½œ</td></tr><tr><td><code>ctrl + u</code></td><td>ç²˜è´´</td></tr><tr><td><code>ctrl + g</code></td><td>æ‰“å¼€å¸®åŠ©æ–‡æ¡£</td></tr></tbody></table><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>nano</tag>
      
      <tag>vi</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>unity-essay-1</title>
    <link href="/2023/03/10/unity-essay-1/"/>
    <url>/2023/03/10/unity-essay-1/</url>
    
    <content type="html"><![CDATA[<h1>éšä¾¿å†™å†™</h1><h2 id="ä½¿ç”¨C-è„šæœ¬">ä½¿ç”¨C#è„šæœ¬</h2><h3 id="åˆ›å»ºC-è„šæœ¬çš„ä¸‰ç§æ–¹æ³•ï¼š">åˆ›å»ºC#è„šæœ¬çš„ä¸‰ç§æ–¹æ³•ï¼š</h3><ol><li><strong>èµ„æº(Assets)</strong> -&gt; <strong>åˆ›å»º(Create)</strong> -&gt; <strong>C#è„šæœ¬(C# Script)</strong></li><li>åœ¨<strong>é¡¹ç›®(Project)<strong>é€‰é¡¹å¡ä¸­ï¼Œé€‰æ‹©</strong>åˆ›å»º(Create)</strong> -&gt; <strong>C#è„šæœ¬(C# Script)</strong></li><li>åœ¨<strong>å±‚çº§(Hierarchy)<strong>çª—å£ä¸­é€‰æ‹©ä¸€ä¸ªGameObjectï¼Œåœ¨</strong>æ£€æŸ¥å™¨(Inspector)<strong>ä¸­ï¼Œå•å‡»</strong>æ·»åŠ ç»„ä»¶(Add Component)</strong> -&gt; <strong>New Script</strong></li></ol><h3 id="ç»™GameObjectæ·»åŠ è„šæœ¬">ç»™GameObjectæ·»åŠ è„šæœ¬</h3><p>å¦‚æœä¸æ˜¯æ–¹æ³•ä¸‰åˆ›å»ºçš„è„šæœ¬ï¼Œè¦æ·»åŠ åˆ°æˆ‘ä»¬æƒ³æ·»åŠ åˆ°çš„GameObjectä¸­è¿è¡Œçš„è¯ï¼Œç›´æ¥ä»<strong>é¡¹ç›®(Project)<strong>é€‰é¡¹å¡ä¸­é€‰ä¸­è„šæœ¬å¹¶æ‹–æ”¾è‡³GameObjectä¸Šå³å¯ï¼ˆå¦‚ï¼šå°†<code>Move.cs</code>è„šæœ¬æ‹–æ”¾åˆ°</strong>å±‚çº§(Hierarchy)<strong>çª—å£ä¸­çš„</strong>Main Camera</strong>ï¼‰ã€‚</p><h2 id="å°†ä¿¡æ¯å’Œåé¦ˆæ‰“å°åˆ°Unityç¼–è¾‘å™¨çš„Consoleçª—å£">å°†ä¿¡æ¯å’Œåé¦ˆæ‰“å°åˆ°Unityç¼–è¾‘å™¨çš„Consoleçª—å£</h2><p>å¯ä»¥ä½¿ç”¨<code>Debug.Log()</code>æˆ–è€…<code>Debug.LogFormat()</code>æ–¹æ³•ã€‚ä¸‹é¢æ˜¯ä¾‹å­ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C#">Debug.Log(<span class="hljs-string">&quot;Text goes here.&quot;</span>);<br>Debug.Log(yourVariable);<br>Debug.Format(<span class="hljs-string">&quot;Text goes here, add &#123;0&#125; and &#123;1&#125; as variable placeholders&quot;</span>, variable1, bariable2);<br></code></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œ<code>Debug.Log()</code>æ–¹æ³•ä¹Ÿæ”¯æŒå­—ç¬¦ä¸²æ’å€¼ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#">Debug.Log(<span class="hljs-string">$&quot;A string can have variables like <span class="hljs-subst">&#123;firstName&#125;</span> inserted directly!&quot;</span>);<br></code></pre></td></tr></table></figure><h2 id="Start-å’ŒUpdate-æ–¹æ³•">Start()å’ŒUpdate()æ–¹æ³•</h2><h3 id="Start">Start()</h3><p>Unityåœ¨å¯ç”¨è„šæœ¬çš„ç¬¬ä¸€å¸§æ—¶ä¾¿è°ƒç”¨æ­¤æ–¹æ³•ã€‚**åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚**ä¸»è¦ç”¨äºè®¾ç½®å˜é‡æˆ–æ‰§è¡Œé¦–æ¬¡è¿è¡ŒUpdate()ä¹‹å‰éœ€è¦å‘ç”Ÿçš„é€»è¾‘ã€‚ä¹Ÿå¯ç”¨äºåœ¨Consoleé¢æ¿ä¸Šæ˜¾ç¤ºä¸€æ¬¡æ€§ä¿¡æ¯ã€‚</p><h3 id="Update">Update()</h3><p>æ¯å¸§æ˜¾ç¤ºåï¼Œ<code>Update()</code>æ–¹æ³•ä¾¿ç”±Unityè°ƒç”¨ï¼ˆå³æ¯å¸§è°ƒç”¨ä¸€æ¬¡<code>Update()</code>ï¼‰ã€‚éå¸¸é€‚åˆç”¨æ¥<strong>ç›‘æµ‹é¼ æ ‡å’Œé”®ç›˜è¾“å…¥</strong>æˆ–<strong>è¿è¡Œæ¸¸æˆé€»è¾‘</strong>ã€‚</p><h2 id="C-ä¸­çš„æ•°ç»„ã€å­—å…¸å’Œåˆ—è¡¨">C#ä¸­çš„æ•°ç»„ã€å­—å…¸å’Œåˆ—è¡¨</h2><h3 id="æ•°ç»„">æ•°ç»„</h3><p><strong>æ•°ç»„çš„ç‰¹ç‚¹</strong>ï¼š</p><ul><li>æ•°ç»„å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„å€¼ï¼Œä½†æ‰€æœ‰å…ƒç´ éƒ½å¿…é¡»æ˜¯åŒä¸€ç±»å‹ã€‚</li><li>æ•°ç»„çš„é•¿åº¦æˆ–å¯å®¹çº³å…ƒç´ çš„æ•°é‡åœ¨åˆ›å»ºæ•°ç»„æ—¶å°±å·²è®¾ç½®ï¼Œä¹‹åæ— æ³•ä¿®æ”¹ã€‚</li><li>å¦‚æœåœ¨åˆ›å»ºæ—¶æ²¡æœ‰åˆ†é…åˆå§‹å€¼ï¼Œåˆ™æ¯ä¸ªå…ƒç´ å°†è¢«èµ‹äºˆä¸€ä¸ªé»˜è®¤å€¼ã€‚å­˜å‚¨æ•°å­—ç±»å‹çš„æ•°ç»„é»˜è®¤ä¸º0ï¼Œè€Œä»»ä½•å…¶ä»–ç±»å‹éƒ½é»˜è®¤è®¾ç½®ä¸ºnullã€‚<br><strong>å¦‚ä½•åˆ›å»ºæ•°ç»„</strong><br>é€šç”¨æ¨¡æ¿ï¼š<code>elementType[] name = new elementType[numberOfElements];</code></li></ul><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-comment">// example</span><br><span class="hljs-built_in">int</span>[] newArray = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[<span class="hljs-number">3</span>];<br><br><span class="hljs-comment">// Longhand initializer</span><br><span class="hljs-built_in">int</span>[] newArray = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[] &#123;<span class="hljs-number">713</span>, <span class="hljs-number">549</span>, <span class="hljs-number">984</span>&#125;;<br><br><span class="hljs-comment">// Shortcut initializer</span><br><span class="hljs-built_in">int</span>[] newArray = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[] &#123;<span class="hljs-number">713</span>, <span class="hljs-number">549</span>, <span class="hljs-number">984</span>&#125;;<br></code></pre></td></tr></table></figure><h3 id="åˆ—è¡¨">åˆ—è¡¨</h3><p><strong>å¦‚ä½•åˆ›å»ºåˆ—è¡¨</strong><br>é€šç”¨æ¨¡æ¿ï¼š<code>List&lt;elementType&gt; name = new List&lt;elementType&gt;() &#123;value1, value2&#125;;</code><br><strong>åˆ—è¡¨ä¸­çš„æ“ä½œ</strong><br>æŸ¥æ‰¾å…ƒç´ ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#">name[index];<br></code></pre></td></tr></table></figure><p>ç»Ÿè®¡å…ƒç´ ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#">name.Count();<br></code></pre></td></tr></table></figure><p>å¢åŠ å…ƒç´ ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#">name.Add(newElement);<br></code></pre></td></tr></table></figure><p>æ’å…¥å…ƒç´ ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#">name.Insert(index, newElement);<br></code></pre></td></tr></table></figure><p>åˆ é™¤å…ƒç´ ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C#">name.RemoveAt(index);<br>name.Remove(<span class="hljs-keyword">value</span>);<br></code></pre></td></tr></table></figure><h3 id="å­—å…¸">å­—å…¸</h3><p><strong>å¦‚ä½•åˆ›å»ºå­—å…¸</strong><br>é€šç”¨æ¨¡æ¿ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C#">Dictionary&lt;keyType, valueType&gt; name = <span class="hljs-keyword">new</span> Dictionary&lt;keyType, valueType&gt;()<br>&#123;<br>&#123;key1, value1&#125;,<br>&#123;key2, value2&#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>æ“ä½œå­—å…¸</strong><br>ç»Ÿè®¡é”®å€¼å¯¹æ•°é‡ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#">name.Count();<br></code></pre></td></tr></table></figure><p>æ·»åŠ é”®å€¼å¯¹ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C#">name.Add(newKey, newValue);<br>name[newKey] = newValue;<br></code></pre></td></tr></table></figure><p>ä¿®æ”¹é”®å€¼å¯¹ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#">name[key] = newValue;<br></code></pre></td></tr></table></figure><p>åˆ é™¤é”®å€¼å¯¹ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#">name.Remove(key);<br></code></pre></td></tr></table></figure><p>å­—å…¸ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šé”®ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C#">name.ContainKey(key);<br></code></pre></td></tr></table></figure><p>åœ¨å¾ªç¯ä¸­æ•è·é”®å€¼å¯¹ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">foreach</span>(KeyValuePair&lt;keyType, valueType&gt; kvp <span class="hljs-keyword">in</span> name)<br>&#123;<br>kvp.Key;<br>kvp.Value;<br>code block;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="C-ä¸­çš„ç±»ã€ç»“æ„ä½“ä¸OOP">C#ä¸­çš„ç±»ã€ç»“æ„ä½“ä¸OOP</h2><p>ç±»çš„å…³é”®æ˜¯å®ƒä»¬æ˜¯<strong>å¼•ç”¨ç±»å‹</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç±»è¢«èµ‹å€¼æˆ–ä¼ é€’ç»™å¦ä¸€ä¸ªå˜é‡æ—¶ï¼Œç³»ç»Ÿå¼•ç”¨çš„æ˜¯åŸå§‹å¯¹è±¡ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„è„šæœ¬ã€‚<br>è€Œç»“æ„ä½“åˆ™æ˜¯<strong>å€¼ç±»å‹</strong>ï¼Œå…¶ç‰¹ç‚¹æœ‰ï¼šå˜é‡ä¸èƒ½åœ¨ç»“æ„ä½“å£°æ˜çš„å†…éƒ¨è¿›è¡Œåˆå§‹åŒ–ï¼Œé™¤éç”¨staticæˆ–æ˜¯constä¿®é¥°ï¼›ä¸å…è®¸ä½¿ç”¨æ²¡æœ‰å‚æ•°çš„æ„é€ å‡½æ•°ã€‚<br>ç»“æ„ä½“ä½œä¸ºå•ç‹¬å¯¹è±¡å¾ˆå®¹æ˜“è¢«å¤åˆ¶å’Œä¿®æ”¹ï¼ˆå¯ç›´æ¥<code>structObject1 = structObject2</code>ï¼‰ï¼Œè€Œç±»ä¿ç•™äº†å¯¹å…¶åŸå§‹å¯¹è±¡çš„å¼•ç”¨ã€‚</p><h3 id="C-ä¸­çš„ç»§æ‰¿">C#ä¸­çš„ç»§æ‰¿</h3><p>å¦‚ä½•åˆ›å»ºç»§æ‰¿ï¼Ÿ</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C#">accessModifier <span class="hljs-keyword">class</span> <span class="hljs-title">SubClass</span>: <span class="hljs-title">SuperClass</span><br>&#123;<br>...<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»»ä½•ç”¨<code>public</code>ã€<code>protected</code>æˆ–<code>internal</code>è®¿é—®ä¿®é¥°ç¬¦æ ‡è®°çš„åŸºç±»æˆå‘˜éƒ½ä¼šè‡ªåŠ¨æˆä¸ºæ´¾ç”Ÿç±»çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ„é€ å‡½æ•°é™¤å¤–ã€‚ç±»çš„æ„é€ å‡½æ•°æ€»æ˜¯å±äºåŒ…å«å®ƒä»¬çš„ç±»ï¼Œä½†ä»å¯ä»¥ä»æ´¾ç”Ÿç±»ä¸­ä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ChildClass</span>: <span class="hljs-title">ParentClass</span><br>&#123;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ChildClass</span>(): <span class="hljs-title">base</span>()</span><br>&#123;<br><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="C-ä¸­çš„å¤šæ€">C#ä¸­çš„å¤šæ€</h3><p>ä¸€ä¸ªæ–¹æ³•å¯ä»¥é€šè¿‡è°ƒç”¨ç±»äº§ç”Ÿä¸åŒçš„è¡Œä¸ºï¼Œæ­¤å³ä¸º<strong>å¤šæ€</strong>ã€‚<br>æ´¾ç”Ÿç±»å¯¹è±¡çš„å¤„ç†æ–¹å¼ä¸çˆ¶ç±»å¯¹è±¡ç›¸åŒã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç”±<code>ParentClass</code>ç±»å¯¹è±¡æ„æˆçš„æ•°ç»„ä¹Ÿå¯ä»¥å­˜å‚¨<code>ChildClass</code>å¯¹è±¡ï¼Œå› ä¸ºå®ƒä»¬æ´¾ç”Ÿè‡ª<code>ParentClass</code>ã€‚<br>çˆ¶ç±»å¯ä»¥å°†æ–¹æ³•æ ‡è®°ä¸ºè™šæ‹Ÿæ–¹æ³•ï¼ˆ<code>virtual</code>ï¼Œåœ¨è®¿é—®ä¿®é¥°ç¬¦å’Œè¿”å›ç±»å‹ä¹‹é—´åŠ å…¥ï¼Œå¦‚ï¼š<code>public virtual void</code>ï¼‰ï¼Œè¿™æ„å‘³ç€æ´¾ç”Ÿç±»å¯ä»¥ä½¿ç”¨<code>override</code>ï¼ˆä¹Ÿæ˜¯åœ¨è®¿é—®ä¿®é¥°ç¬¦å’Œè¿”å›ç±»å‹ä¹‹é—´åŠ å…¥ï¼‰å…³é”®å­—ä¿®æ”¹å…¶å‘½ä»¤ï¼ˆé‡è½½æ–¹æ³•ï¼‰ã€‚</p><h2 id="è®¿é—®ç»„ä»¶">è®¿é—®ç»„ä»¶</h2><p>ç»„ä»¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ¯”å¦‚ï¼Œå¯¹äºä¸€ä¸ª<code>GameObject</code>ï¼Œè¿™é‡Œä»¥<code>MainCamera</code>ä¸ºä¾‹ï¼Œå•å‡»å®ƒï¼Œåœ¨å³è¾¹æ£€æŸ¥å™¨ï¼ˆInspectorï¼‰ä¸­çš„å°±æ˜¯å®ƒçš„ç»„ä»¶äº†ï¼šTransformã€Cameraã€Audio Listenerå’Œæˆ‘ä»¬è‡ªå·±åŠ ä¸Šå»çš„Learning Curveã€‚<br>é‚£è¦å¦‚ä½•åœ¨è‡ªå·±ç¼–å†™çš„Learning Curveè„šæœ¬ä¸­è·å–åˆ°Transformç»„ä»¶å‘¢ï¼Ÿå¯ä»¥ç”¨<code>GameObject</code>çš„ç±»æ–¹æ³•ï¼š<code>GetComponent()</code>æˆ–<code>Find()</code>ã€‚</p><ol><li>è®¿é—®å½“å‰çš„Transformç»„ä»¶ -&gt; ä½¿ç”¨<code>GetComponent()</code></li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C#">GameObject.GetComponent&lt;ComponentType&gt;()<br>camTransform = <span class="hljs-keyword">this</span>.GetComponent&lt;Transform&gt;();<br></code></pre></td></tr></table></figure><p>è¿™é‡Œèƒ½ç”¨<code>this</code>å…³é”®å­—ï¼Œæ˜¯å› ä¸ºä¸¤è€…éƒ½é™„åŠ åˆ°ç›¸åŒçš„<code>GameObject</code>ç»„ä»¶ä¸Šã€‚<br>2. è®¿é—®å¦å¤–ä¸€ä¸ª<code>GameObject</code>ä¸Šçš„ç»„ä»¶ -&gt; ä½¿ç”¨<code>Find()</code> + <code>GetComponent()</code></p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C#">directionLight = GameObject.Find(<span class="hljs-string">&quot;Directional light&quot;</span>);<br>lightTransform = directionLight.GetComponent&lt;Transform&gt;();<br></code></pre></td></tr></table></figure><h2 id="æ¸¸æˆè®¾è®¡å…¥é—¨">æ¸¸æˆè®¾è®¡å…¥é—¨</h2><p>å¯¹äºæˆ‘ä»¬æƒ³è¦æ„å»ºçš„å†…å®¹ï¼Œæˆ‘ä»¬éœ€è¦è§„åˆ’å¥½ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>æ¦‚å¿µï¼šå¯¹æ¸¸æˆçš„å…¨å±€ç†å¿µå’Œè®¾è®¡ï¼ŒåŒ…æ‹¬æ¸¸æˆç±»å‹å’Œç©æ³•é£æ ¼ã€‚</li><li>æ ¸å¿ƒæœºåˆ¶ï¼šè§’è‰²å¯ä»¥åœ¨æ¸¸æˆä¸­ä½¿ç”¨çš„å¯ç©åŠŸèƒ½æˆ–äº’åŠ¨æ–¹å¼ã€‚å¸¸è§çš„æ¸¸æˆæœºåˆ¶åŒ…æ‹¬è·³è·ƒã€å°„å‡»ã€è§£è°œã€é©¾é©¶ç­‰ã€‚</li><li>æ§åˆ¶æ–¹æ¡ˆï¼šç©å®¶ç”¨æ¥æ§åˆ¶æ¸¸æˆè§’è‰²ã€ç¯å¢ƒäº¤äº’å’Œå…¶ä»–å¯æ‰§è¡ŒåŠ¨ä½œçš„é”®ä½æ˜ å°„ã€‚</li><li>æ•…äº‹ï¼šæ¨åŠ¨æ¸¸æˆå‘å±•çš„èƒŒæ™¯å™äº‹ï¼Œç”¨äºåœ¨ç©å®¶ä¸æ¸¸æˆä¸–ç•Œä¹‹é—´å»ºç«‹å…±æƒ…ä¸å…³è”ã€‚</li><li>è‰ºæœ¯é£æ ¼ï¼šæ¸¸æˆçš„æ€»ä½“è§‚æ„Ÿï¼Œå¹¶ä½“ç°åœ¨ä»è§’è‰²ã€ç•Œé¢ç¾æœ¯åˆ°å…³å¡å’Œç¯å¢ƒè®¾è®¡çš„å„æ–¹é¢ã€‚</li><li>èƒœè´Ÿæ¡ä»¶ï¼šå†³å®šæ¸¸æˆè¾“èµ¢çš„è§„åˆ™ï¼Œé€šå¸¸ç”±ä¸€äº›å¯èƒ½ä¼šé­é‡å¤±è´¥çš„ç›®æ ‡æ„æˆã€‚</li></ul><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Unity</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C#</tag>
      
      <tag>Unity</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŒæŒ‡é’ˆä¸“é¢˜</title>
    <link href="/2023/03/05/algorithm-two-pointers/"/>
    <url>/2023/03/05/algorithm-two-pointers/</url>
    
    <content type="html"><![CDATA[<h1>ç®€å•ä»‹ç»ä¸‹åŒæŒ‡é’ˆ</h1><p>åŒæŒ‡é’ˆæ­£å¦‚å…¶åï¼Œå¦‚æœä¸€ä¸ªæŒ‡é’ˆä¸å¤Ÿç”¨ï¼Œé‚£å°±ç”¨ä¸¤ä¸ªæŒ‡é’ˆæ¥è§£å†³é—®é¢˜ï¼å½“ç„¶æŒ‡é’ˆåªæ˜¯ä¸ªå«æ³•ï¼Œå¹¶ä¸æ˜¯ä¸€å®šè¦ç”¨æŒ‡é’ˆï¼Œæ™®é€šçš„å˜é‡ä½œç´¢å¼•ï¼Œèƒ½å¤Ÿè¾…åŠ©è§£å†³é—®é¢˜çš„éƒ½å¯ä»¥ã€‚<br>åŒæŒ‡é’ˆå’Œæ»‘åŠ¨çª—å£å…¶å®ä¹Ÿèƒ½æ‰¯ä¸Šå…³ç³»ï¼Œæ¯•ç«Ÿæ»‘çª—è¦ç”¨åˆ°<code>left</code>å’Œ<code>right</code>æ¥ç¡®å®šçª—å£çš„å·¦å³è¾¹ç•Œå˜›ï¼Œé‚£ä¹ˆè¿™é‡Œçš„<code>left</code>å’Œ<code>right</code>å°±èƒ½çœ‹æˆæ˜¯åŒæŒ‡é’ˆå•¦~</p><h1>åŒæŒ‡é’ˆç›¸å…³é¢˜ç›®</h1><h2 id="977-æœ‰åºæ•°ç»„çš„å¹³æ–¹">977. æœ‰åºæ•°ç»„çš„å¹³æ–¹</h2><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/squares-of-a-sorted-array/">977</a><br>è‡ªå·±æœ€å¼€å§‹æƒ³åˆ°çš„æ€è·¯å°±æ˜¯ï¼Œç”±äº<code>nums</code>å·²ç»æŒ‰ç…§<strong>éé€’å‡é¡ºåº</strong>é¡ºåºæ’åºäº†ï¼Œé‚£ä¹ˆåœ¨å¹³æ–¹åï¼Œæˆ‘ä»¬å¯ä»¥ä»¥è´Ÿæ•°å’Œéè´Ÿæ•°ä¸ºåˆ†ç•Œçº¿ï¼Œåˆ†å‡ºä¸¤ä¸ªæ•°ç»„ï¼Œå·¦è¾¹çš„è´Ÿæ•°æ•°ç»„ä»å³å¾€å·¦çœ‹æ˜¯é€’å¢çš„ï¼Œå³è¾¹çš„éè´Ÿæ•°æ•°ç»„ä»å·¦å¾€å³çœ‹æ˜¯é€’å¢çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„ä¸¤ä¸ªæŒ‡é’ˆå¯ä»¥è®¾ç½®åœ¨åˆ†ç•Œç‚¹è¿™é‡Œï¼Œä¸€ä¸ªå¾€å·¦èµ°ä¸€ä¸ªå¾€å³èµ°ï¼Œæ¯æ¬¡æ¯”è¾ƒä¸¤æ•°å¤§å°ï¼Œå°çš„å°±æ”¾è¿›å»ç»“æœ<code>ans</code>ä¸­ï¼Œç„¶åæ›´æ–°æŒ‡é’ˆï¼Œç›´è‡³æŠŠæ•°å…¨éƒ¨å¡è¿›<code>ans</code>ä¸­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sortedSquares</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        positive = negative = <span class="hljs-number">0</span><br>        nums_pow = [nums[<span class="hljs-number">0</span>] * nums[<span class="hljs-number">0</span>]]<br>        ans = []<br>        <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(nums)):  <span class="hljs-comment"># æ±‚å‡ºå¹³æ–¹æ•°ç»„</span><br>            <span class="hljs-keyword">if</span> nums[n - <span class="hljs-number">1</span>] &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> nums[n] &gt;= <span class="hljs-number">0</span>:  <span class="hljs-comment"># æ‰¾åˆ°å·¦å³ä¸¤ä¸ªé€’å¢æ•°ç»„çš„å¼€å¤´</span><br>                negative = n - <span class="hljs-number">1</span><br>                positive = n<br>            nums_pow.append(nums[n] * nums[n])<br>        <span class="hljs-keyword">if</span> positive == negative:  <span class="hljs-comment"># ä¸¤è€…éƒ½æ˜¯0ï¼Œè¯´æ˜numsæ•°ç»„åªå«æœ‰ä¸€ä¸ªå•è°ƒæ•°ç»„</span><br>            <span class="hljs-keyword">if</span> nums[<span class="hljs-number">0</span>] &gt;= <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">return</span> nums_pow<br>            <span class="hljs-keyword">else</span>:<br>                nums_pow.reverse()<br>                <span class="hljs-keyword">return</span> nums_pow<br>        <span class="hljs-keyword">while</span> positive &lt; <span class="hljs-built_in">len</span>(nums) <span class="hljs-keyword">and</span> negative &gt;= <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">if</span> nums_pow[positive] &gt; nums_pow[negative]:<br>                ans.append(nums_pow[negative])<br>                negative -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># nums_pow[positive] &lt;= nums_pow[negative]</span><br>                ans.append(nums_pow[positive])<br>                positive += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> negative &gt;= <span class="hljs-number">0</span>:<br>            ans.append(nums_pow[negative])<br>            negative -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> positive &lt; <span class="hljs-built_in">len</span>(nums):<br>            ans.append(nums_pow[positive])<br>            positive += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯åˆç‰ˆä»£ç ï¼Œçœ‹å®Œåˆ«äººçš„ä»£ç åå†çœ‹è‡ªå·±çš„ï¼Œå°±å‘ç°è‚‰çœ¼å¯è§çš„çœ‹ä¸Šå»å°±å¾ˆå¤æ‚ï¼Œâ€œå¤æ‚â€ä¸»è¦ä½“ç°åœ¨å¯¹ç‰¹æ®Šæƒ…å†µè¿›è¡Œäº†å¤„ç†ï¼Œå¾ªç¯å®Œåè¿˜è¦å¤šå†™ä¸¤ä¸ªåˆ¤æ–­æ¥å¤„ç†å‰©ä¸‹çš„æ•°ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¦å…ˆæ±‚ä¸€ä¸ªæŒºæ²¡æœ‰æ„ä¹‰çš„å¹³æ–¹æ•°ç»„(é€ƒ)ã€‚<br>å½“ç„¶ï¼Œæ›´ä¼˜çš„æ€è·¯æ˜¯ä»å°†åŒæŒ‡é’ˆè®¾ç½®åœ¨<code>nums</code>æ•°ç»„çš„å·¦å³è¾¹ç•Œï¼Œå³<code>0</code>å’Œ<code>nums.Length - 1</code>ï¼Œå°†<code>ans</code>åˆå§‹åŒ–ä¸ºè·Ÿ<code>nums</code>é•¿åº¦ä¸€è‡´ï¼Œæ¯æ¬¡æ¯”è¾ƒæ•°ï¼ŒæŠŠå¤§æ•°æ”¾åˆ°<code>ans</code>æœ«å°¾å³å¯ï¼ˆå³é€†åºæ”¾å…¥æ•°ç»„ä¸­ï¼‰ã€‚</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span>[] <span class="hljs-title">SortedSquares</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>[] nums</span>)</span> &#123;<br>        <span class="hljs-built_in">int</span> n = nums.Length;<br>        <span class="hljs-built_in">int</span>[] ans = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[n];<br>        <span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>, j = n - <span class="hljs-number">1</span>, pos = n - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span> (i &lt;= j)<br>&#123;<br>            <span class="hljs-keyword">if</span> (nums[i] * nums[i] &gt; nums[j] * nums[j])<br>&#123;<br>                ans[pos] = nums[i] * nums[i];<br>                i += <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>&#123;<br>                ans[pos] = nums[j] * nums[j];<br>                j -= <span class="hljs-number">1</span>;<br>            &#125;<br>            pos -= <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="283-ç§»åŠ¨é›¶">283. ç§»åŠ¨é›¶</h2><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/move-zeroes/">283</a><br>çœ‹å®Œé¢˜ç›®ï¼Œç®€å•æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼šè¦æŠŠæ‰€æœ‰<strong>é0</strong>æ•°æ”¾åœ¨æ•°ç»„çš„å·¦è¾¹ï¼ˆä¹Ÿå°±æ˜¯æ‰€æœ‰<strong>0</strong>çš„å·¦è¾¹ï¼‰ï¼Œæ‰€æœ‰<strong>0</strong>æ”¾åœ¨æ•°ç»„çš„å³è¾¹ï¼ˆä¹Ÿå°±æ˜¯æ‰€æœ‰<strong>é0</strong>æ•°çš„å³è¾¹ï¼‰ï¼Œä¸”è¦ä¿æŒ<strong>é0</strong>å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚<br>åˆ©ç”¨åŒæŒ‡é’ˆï¼Œä»å¤´æ‰«åˆ°å°¾ï¼Œä¿è¯<code>left</code>çš„å·¦è¾¹æ˜¯æ’åºå¥½çš„<strong>é0</strong>å…ƒç´ ï¼Œ<code>right</code>åˆ™ç”¨äºå¯»æ‰¾å‰©ä¸‹çš„<strong>é0</strong>å…ƒç´ ï¼Œå¹¶å°†å®ƒä»¬æ”¾åˆ°å·¦è¾¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">moveZeroes</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Do not return anything, modify nums in-place instead.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        n = <span class="hljs-built_in">len</span>(nums)<br>        left = right = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> right &lt; n:<br>            <span class="hljs-keyword">if</span> nums[right] != <span class="hljs-number">0</span>:<br>                nums[left], nums[right] = nums[right], nums[left]<br>                left += <span class="hljs-number">1</span><br>            right += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="167-ä¸¤æ•°ä¹‹å’Œ-II-è¾“å…¥æœ‰åºæ•°ç»„">167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„</h2><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/">167</a><br>è¿™é¢˜çš„åŒæŒ‡é’ˆæ€è·¯ç®—æ˜¯å¾ˆå®¹æ˜“å°±èƒ½æƒ³åˆ°çš„äº†ï¼Œè€Œä¸”é¢˜ç›®ä¹Ÿè¯´äº†æ•°ç»„å·²æŒ‰<strong>éé€’å‡é¡ºåºæ’åˆ—</strong>ä¸”ä¸€å®šå­˜åœ¨è§£ï¼Œé‚£ä¹ˆå°±ç›´æ¥è®¾ç½®<code>left</code>å’Œ<code>right</code>ä¸º<code>numbers</code>æ•°ç»„çš„å·¦å³è¾¹ç•Œï¼Œå¦‚æœå·¦å³ç›¸åŠ å¤§äº†ï¼Œå°±è®©å³æŒ‡é’ˆå‘å·¦ç§»åŠ¨ï¼Œåä¹‹å¦‚æœå°äº†ï¼Œå°±è®©å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">twoSum</span>(<span class="hljs-params">self, numbers: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(numbers)<br>        left = <span class="hljs-number">0</span><br>        right = n - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> left &lt; right:<br>            <span class="hljs-keyword">if</span> numbers[left] + numbers[right] == target:<br>                <span class="hljs-keyword">return</span> [left + <span class="hljs-number">1</span>, right + <span class="hljs-number">1</span>]<br>            <span class="hljs-keyword">elif</span> numbers[left] + numbers[right] &lt; target:<br>                left += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># numbers[left] + numbers[right] &gt; target</span><br>                right -= <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="557-åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯-III">557. åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯ III</h2><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/reverse-words-in-a-string-iii/description/">557</a><br>å…¶å®è¿™é¢˜æˆ‘å¹¶æ²¡æœ‰ç”¨åŒæŒ‡é’ˆæ¥å†™ï¼Œå› ä¸ºPythonçš„æ–¹æ³•çœŸæ˜¯å¤ªå¥½ç”¨äº†(é€ƒ)ã€‚<br>ä¸è¿‡æ—¢ç„¶éƒ½æ˜¯åŒæŒ‡é’ˆä¸“é¢˜äº†ï¼Œé‚£å°±å¤§æ¦‚è®²è®²æ€è·¯ï¼Œä¸æ•²ä»£ç äº†(å› ä¸ºçœŸçš„å¾ˆç®€å•)ã€‚é¦–å…ˆåˆ©ç”¨<code>for</code>å¾ªç¯éå†å­—ç¬¦ä¸²ï¼Œ<code>for</code>å¾ªç¯ä¸­çš„ç´¢å¼•åŒæ—¶ä¹Ÿæ‹…å½“æŒ‡é’ˆï¼Œæ¯æ¬¡å¾ªç¯è®°å½•å½“å‰ç´¢å¼•ä½ç½®ï¼Œå¹¶å°†ç´¢å¼•å®šä½åˆ°å½“å‰å•è¯åé¢ç©ºæ ¼çš„ä½ç½®ï¼ŒåŒæŒ‡é’ˆçš„ä½ç½®å°±ç¡®å®šå®Œæ¯•äº†ã€‚</p><h2 id="876-é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹">876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹</h2><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/middle-of-the-linked-list/description/">876</a><br>è¿™é“é¢˜å°±è§¦åŠåˆ°æˆ‘çš„çŸ¥è¯†ç›²åŒºäº†ï¼Œåé¢çœ‹äº†çœ‹ï¼Œæœå˜ï¼ŒåŸæ¥è¿˜æœ‰ä¸ª**â€œå¿«æ…¢æŒ‡é’ˆâ€**çš„åˆ†æ”¯å•Š~<br>å¦‚åŒå®ƒçš„åå­—ä¸€èˆ¬ï¼Œæˆ‘ä»¬è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªèµ°å¾—å¿«ï¼Œèµ°åœ¨å‰é¢ï¼Œä¸€ä¸ªèµ°å¾—æ…¢ï¼Œèµ°åœ¨åé¢ã€‚å¯¹äºè¿™é“é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°åœ¨é“¾è¡¨ä¸­é—´çš„ç»“ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥è®©å¿«æŒ‡é’ˆèµ°å®Œé“¾è¡¨çš„æ—¶å€™ï¼Œæ…¢æŒ‡é’ˆåˆšå¥½åˆ°ä¸­é—´ç»“ç‚¹å‘¢ï¼Ÿ<br>é‚£è‚¯å®šå¯ä»¥å•¦ï¼Œä¸­é—´ç»“ç‚¹ä¸æ˜¯é™¤ä»¥2å˜›ï¼Œé‚£å°±è®©å¿«æŒ‡é’ˆçš„é€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€ï¼Œä¹Ÿå°±æ˜¯æ…¢æŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">middleNode</span>(<span class="hljs-params">self, head: ListNode</span>) -&gt; ListNode:<br>        slow = fast = head<br>        <span class="hljs-keyword">while</span> fast <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> fast.<span class="hljs-built_in">next</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            slow = slow.<span class="hljs-built_in">next</span><br>            fast = fast.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">return</span> slow<br></code></pre></td></tr></table></figure><h2 id="19-åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬-N-ä¸ªç»“ç‚¹">19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</h2><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/description/">19</a><br>é‚£ä¹ˆè¿™é¢˜å°±å’Œä¸Šé¢é‚£é“é“¾è¡¨é¢˜ä¸€æ ·äº†ï¼Œå…¶æ€æƒ³éƒ½æ˜¯å¿«æ…¢æŒ‡é’ˆï¼Œæˆ‘ä»¬æ‰€éœ€è¦æ€è€ƒçš„å°±æ˜¯å¿«æŒ‡é’ˆä¸æ…¢æŒ‡é’ˆçš„ç›¸å¯¹è·ç¦»ã€‚<br>é¢˜ç›®è¯´è¦åˆ é™¤çš„æ˜¯å€’æ•°ç¬¬<code>n</code>ä¸ªç»“ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æƒ³è¦å¿«æŒ‡é’ˆéå†å®Œçš„æ—¶å€™ï¼Œæ…¢æŒ‡é’ˆè¦åœ¨é‚£ä¸ªåº”è¯¥åˆ é™¤çš„ç»“ç‚¹çš„å‰é¢é‚£ä¸ªç»“ç‚¹ä¸Šé¢ï¼ˆä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™å°±æ¶‰åŠåˆ°é“¾è¡¨åˆ é™¤ç»“ç‚¹è¿™ä¸ªæ“ä½œçš„çŸ¥è¯†äº†ï¼Œå¯ä»¥çœ‹é“¾è¡¨ç›¸å…³çŸ¥è¯†ï¼‰ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬å°±å…ˆè®©å¿«æŒ‡é’ˆå…ˆèµ°<code>n</code>ä¸ªç»“ç‚¹ï¼Œç„¶åå¿«æ…¢æŒ‡é’ˆåŒæ—¶èµ°ï¼Œå°±èƒ½å¤Ÿä¿æŒä¸¤ä¸ªæŒ‡é’ˆçš„è·ç¦»ç›¸å¯¹ä¸å˜äº†ã€‚<br>è¯¶ï¼Œåœä¸€ä¸‹ï¼Œç»†å¿ƒçš„æœ‹å‹å·²ç»å‘ç°äº†è¿™ä¹ˆèµ°çš„è¯æœ€åæ…¢æŒ‡é’ˆåº”è¯¥æ˜¯åœ¨åº”è¯¥åˆ é™¤çš„ç»“ç‚¹ä¸Šé¢ï¼Œè€Œä¸æ˜¯å®ƒå‰é¢é‚£ä¸ªç»“ç‚¹ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿé‚£å°±è®¾ç½®ä¸€ä¸ªå“¨å…µç»“ç‚¹<code>ListNode(0, head)</code>ï¼Œè¿™ä¹Ÿæ˜¯é“¾è¡¨å¸¸ç”¨æŠ€å·§ã€‚<br>åˆ°è¿™é‡Œæ€è·¯å°±å®Œæ•´äº†ï¼Œæ¥ä¸‹æ¥å†™å‡ºä»£ç å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeNthFromEnd</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode], n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        fast = head<br>        slow = ListNode(<span class="hljs-number">0</span>, head)<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            fast = fast.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">while</span> fast <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            fast = fast.<span class="hljs-built_in">next</span><br>            slow = slow.<span class="hljs-built_in">next</span><br>        slow.<span class="hljs-built_in">next</span> = slow.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">return</span> head<br></code></pre></td></tr></table></figure><h1>é¢˜å¤–è¯</h1><p>æˆ‘è¶£ï¼Œä¸€å¤©å†™å®Œæ˜¯çœŸç´¯å•Šï¼Œå°±åº”è¯¥å†™ä¸€é¢˜é©¬ä¸Šæ›´æ–°ï¼Œå †åœ¨ä¸€èµ·ç®€ç›´è¦å‘½(å€’)<br>ä»¥åä¹Ÿä¼šä¿æŒæ›´æ–°çš„å§(å¿ƒè™š</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>C#</tag>
      
      <tag>Leetcode</tag>
      
      <tag>åŒæŒ‡é’ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>äºŒåˆ†æœç´¢ä¸“é¢˜</title>
    <link href="/2023/03/04/algorithm-binary-search/"/>
    <url>/2023/03/04/algorithm-binary-search/</url>
    
    <content type="html"><![CDATA[<h1>ä»€ä¹ˆäº‹äºŒåˆ†æœç´¢ï¼Ÿ</h1><p>è¿™é‡Œæœ‰ä¸€é“ååˆ†æ ‡å‡†çš„ä¾‹é¢˜ï¼š<a href="https://leetcode.cn/problems/binary-search/description/">704</a><br>å¯¹äºä¸€ä¸ªæœ‰åºï¼ˆå‡åºï¼‰çš„æ•´å‹æ•°ç»„ï¼Œå¦‚æœæˆ‘ä»¬è¦ä»ä¸­æ‰¾å‡ºç›®æ ‡å€¼ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•æ˜¯ä»å¤´å¼€å§‹éå†ï¼Œä½†æ•ˆç‡è‚¯å®šååˆ†ä½ä¸‹ï¼Œè€Œä¸”æ²¡æœ‰å¥½å¥½åˆ©ç”¨åˆ°æ‰€ç»™çš„æ¡ä»¶ï¼ˆæ•°ç»„å·²æ’å¥½åºï¼‰ã€‚<br>è¿™æ—¶å€™å°±å¯ä»¥ç”¨äºŒåˆ†æœç´¢æ¥æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œè¯•æƒ³ä¸€ä¸‹çŒœæ•°æ¸¸æˆï¼Œåªè¦æˆ‘ä»¬æ¯æ¬¡éƒ½å–ä¸€ä¸ªä¸­é—´å€¼ï¼Œæ˜¯ä¸æ˜¯å¾ˆå¿«å°±èƒ½å¤Ÿå®šä½ç›®æ ‡å€¼å‘¢ï¼Ÿ</p><blockquote><p>å¦‚ï¼šç›®æ ‡æ˜¯78ï¼Œæˆ‘ä»¬å…ˆçŒœ1ï¼Œç¬¬äºŒæ¬¡çŒœ100ï¼Œç¬¬ä¸‰æ¬¡çŒœ50ï¼Œç¬¬å››æ¬¡çŒœ75ï¼Œä»¥æ­¤ç±»æ¨<br>è¿™å°±æ˜¯äºŒåˆ†æœç´¢æœ€åŸºæœ¬çš„æ€æƒ³ã€‚<br>ç„¶åçœ‹åˆ°ä¸Šé¢ç»™å‡ºçš„ä¾‹é¢˜ï¼Œæ ¹æ®æè¿°ï¼Œå¯ä»¥å¾ˆå¿«å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        left = <span class="hljs-number">0</span><br>        right = <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> right &gt;= left:<br>            mid = (right + left) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> nums[mid] == target:<br>                <span class="hljs-keyword">return</span> mid<br>            <span class="hljs-keyword">elif</span> nums[mid] &lt; target:<br>                left = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># nums[mid] &gt; target</span><br>                right = mid - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">Search</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>[] nums, <span class="hljs-built_in">int</span> target</span>)</span> &#123;<br>        <span class="hljs-built_in">int</span> left = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">int</span> right = nums.Length - <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">int</span> mid;<br>        <span class="hljs-keyword">while</span> (left &lt;= right)<br>        &#123;<br>            mid = (left + right) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span> (nums[mid] == target)<br>            &#123;<br>                <span class="hljs-keyword">return</span> mid;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &gt; target)<br>            &#123;<br>                right = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span>  <span class="hljs-comment">// nums[mid] &lt; target</span><br>            &#123;<br>                left = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆè¿™ä»£ç ä¹‹ä¸­å…¶å®ä¹Ÿæœ‰è¦ç‚¹ï¼Œé‚£å°±æ˜¯<code>mid = (right + left) / 2</code>ã€<code>while (left &lt;= right)</code>ã€<code>left = mid + 1</code>å’Œ<code>right = mid - 1</code>ï¼Œä¹‹ååœ¨å¯¹æ¯”å…¶ä»–é¢˜ç›®çš„æ—¶å€™ä¼šè¯¦ç»†è¯´æ˜ã€‚</p><div class="note note-warning">            <p>åœ¨åšäºŒåˆ†æœç´¢çš„æ—¶å€™ï¼Œå¦‚æœå¼„ä¸æ˜ç™½è¯¥æ€ä¹ˆå®šä½ç›®æ ‡å€¼çš„è¯ï¼Œä¸€å®šä¸€å®šè®°å¾—ç”»å›¾è¾…åŠ©ï¼Œä¸è¦ç”¨è„‘å­ç¡¬æƒ³ï¼Œå®¹æ˜“å‡ºé”™æ•ˆç‡è¿˜ä¸é«˜ã€‚</p>          </div><h1>å…¶ä»–çš„äºŒåˆ†æœç´¢é¢˜ç›®</h1><h2 id="35-æœç´¢æ’å…¥ä½ç½®">35. æœç´¢æ’å…¥ä½ç½®</h2><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/search-insert-position/description/">35</a><br>å…ˆæ”¾ä¸€ä¸ªæœ€åˆç‰ˆæœ¬çš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">searchInsert</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        left = <span class="hljs-number">0</span><br>        right = <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span>;<br>        mid = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> right &gt;= left:<br>            mid = (right + left) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> nums[mid] == target:<br>                <span class="hljs-keyword">return</span> mid<br>            <span class="hljs-keyword">elif</span> nums[mid] &lt; target:<br>                left = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># nums[mid] &gt; target</span><br>                right = mid - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> right == -<span class="hljs-number">1</span>:  <span class="hljs-comment"># ç‰¹æ®Šæƒ…å†µ</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">return</span> mid + <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> nums[mid] &lt; target <span class="hljs-keyword">else</span> mid<br></code></pre></td></tr></table></figure><p>è¿™å°±å¾ˆå¥½çš„ä½“ç°äº†ç”»å›¾çš„é‡è¦æ€§ã€‚ä½†å‡¡ç”»ä¸€ä¸‹å›¾éƒ½ä¸ä¼šå†™å‡ºæœ€åå‡ å¥é‚£ä¹ˆå¤æ‚çš„ä»£ç ã€‚<br>å°†æœ€åä¸‰è¡Œä»£ç åˆ é™¤ï¼Œæ¢æˆ<code>return left</code>å³å¯ã€‚è¿™ä¹Ÿè¯´æ˜äº†è¦å¤šå…³æ³¨ä¸‹<code>left</code>ã€<code>right</code>å’Œ<code>mid</code>ä¸‰ä¸ªå˜é‡ï¼Œè¿™æ ·æ‰åˆ©äºæˆ‘ä»¬æ‰¾ç›®æ ‡å€¼ã€‚</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">SearchInsert</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>[] nums, <span class="hljs-built_in">int</span> target</span>)</span> &#123;<br>        <span class="hljs-built_in">int</span> left = <span class="hljs-number">0</span>, right = nums.Length - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span> (left &lt;= right)<br>        &#123;<br>            <span class="hljs-built_in">int</span> mid = (left + right) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span> (nums[mid] == target)<br>            &#123;<br>                <span class="hljs-keyword">return</span> mid;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &lt; target)<br>            &#123;<br>                left = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span>  <span class="hljs-comment">// nums[mid] &gt; target</span><br>            &#123;<br>                right = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> left;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="278-ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬">278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬</h2><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/first-bad-version/description/">278</a><br>è¿™é¢˜ä¹Ÿæ˜¯å»ºç«‹åœ¨äºŒåˆ†æœç´¢åŸºç¡€ä¹‹ä¸Šçš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ï¼Œå¯ä»¥è¿™æ ·ç†è§£ï¼š<strong>æ‰¾åˆ°ç¬¬ä¸€ä¸ªè·Ÿåœ¨Falseåé¢çš„True</strong>ã€‚<br>é¦–å…ˆä»‹ç»æœ€ç®€å•çš„æ€æƒ³ï¼Œå¯¹äºæ¯æ¬¡çš„<code>mid</code>ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­æ­¤ç‰ˆæœ¬æ˜¯<code>False</code>è¿˜æ˜¯<code>True</code>ï¼Œå¦‚æœæ˜¯<code>False</code>ï¼Œå°±æ‰¾å®ƒåé¢çš„ä¸€ä¸ªç‰ˆæœ¬å¹¶åˆ¤æ–­ï¼Œå¦‚æœæ˜¯<code>True</code>ï¼Œå°±æ‰¾å®ƒå‰é¢çš„ä¸€ä¸ªç‰ˆæœ¬åˆ¤æ–­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">firstBadVersion</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        left = <span class="hljs-number">1</span><br>        right = n<br>        mid = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> left &lt;= right:<br>            mid = (left + right) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> isBadVersion(mid):<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> isBadVersion(mid - <span class="hljs-number">1</span>):<br>                    <span class="hljs-keyword">return</span> mid<br>                <span class="hljs-keyword">else</span>:<br>                    right = mid - <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> <span class="hljs-keyword">not</span> isBadVersion(mid):<br>                <span class="hljs-keyword">if</span> isBadVersion(mid + <span class="hljs-number">1</span>):<br>                    <span class="hljs-keyword">return</span> mid + <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:<br>                    left = mid + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>ä¸è¿‡å¾ˆæ˜æ˜¾çš„æ˜¯ä»£ç å­˜åœ¨ä¸€å®šæ¼æ´è€Œä¸”è°ƒç”¨APIçš„æ¬¡æ•°å¤šäº†ã€‚æ¯”å¦‚ç¤ºä¾‹2ï¼Œå¦‚æœåªå­˜åœ¨ä¸€ä¸ªç‰ˆæœ¬çš„è¯ï¼Œé‚£ä¸ªç‰ˆæœ¬å°±æ˜¯é”™è¯¯çš„ï¼Œé‚£å…¶å®ä¸èƒ½è°ƒç”¨<code>isBadVersion(mid - 1)</code>ï¼Œè¿™åº”è¯¥æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œä½†æ˜¯ç¡®å®æœ‰æ¼æ´è®©æˆ‘è¿‡äº†ï¼ˆç›®ç§»ï¼‰ã€‚<br>é‚£ä¹ˆå¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿä»”ç»†æƒ³æƒ³ï¼Œåœ¨åˆ¤æ–­å®Œ<code>mid</code>æ˜¯<code>True</code>è¿˜æ˜¯<code>False</code>ä»¥å¤–ï¼Œæˆ‘ä»¬å°±èƒ½å¤ŸçŸ¥é“ï¼š</p><ol><li>å¦‚æœ<code>mid == False</code>ï¼Œé‚£ä¹ˆ<code>&lt;= mid</code>çš„ç‰ˆæœ¬éƒ½åº”è¯¥æ˜¯<code>False</code></li><li>å¦‚æœ<code>mid == True</code>ï¼Œé‚£ä¹ˆ<code>&gt;= mid</code>çš„ç‰ˆæœ¬éƒ½åº”è¯¥æ˜¯<code>True</code><br>æ‰€ä»¥ï¼Œæˆ‘ä»¬æŠŠå¾ªç¯æ¡ä»¶æ”¹æˆï¼š<code>while left &lt; right</code>ï¼Œç¼©å°çš„åŒºé—´æ”¹ä¸º<code>left = mid + 1</code>ï¼Œ<code>right = mid</code>ï¼Œæœ€å<code>left == right</code>çš„æ—¶å€™ï¼Œå°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚<br>ä¸Šé¢çš„æ”¹åŠ¨ä¿è¯<code>right</code>ä¸ä¼šæŒ‡åˆ°<code>False</code>çš„ä½ç½®ï¼Œä¸”<code>left</code>èƒ½å¤ŸæŒ‡åˆ°<code>True</code>å’Œ<code>False</code>çš„ä½ç½®ï¼Œå¦‚æœè¿˜æ˜¯ä¸æ˜¯å¾ˆæ¸…æ¥šçš„è¯ï¼Œå¯ä»¥ç”»å›¾è¾…åŠ©ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">firstBadVersion</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        left = <span class="hljs-number">1</span><br>        right = n<br>        mid = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> left &lt; right:<br>            mid = (left + right) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> isBadVersion(mid):<br>                right = mid<br>            <span class="hljs-keyword">else</span>:<br>                left = mid + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> left<br></code></pre></td></tr></table></figure><p>å…¶å®è¿™ä»£ç å…¶ä¸­è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ç”±äºä¸Šé¢ä½¿ç”¨çš„æ˜¯<code>Python</code>è¯­è¨€ï¼ŒæŸäº›ç‰¹æ€§å¯¼è‡´ä»£ç èƒ½è¿‡ã€‚çœ‹åˆ°é¢˜ç›®ç»™çš„æç¤º<code>1 &lt;= bad &lt;= n &lt;= 2^31 - 1</code>ï¼Œæ‰€ä»¥å¦‚æœæ˜¯éœ€è¦å¯¹å˜é‡è¿›è¡Œç±»å‹å®šä¹‰çš„è¯­è¨€å°±ä¼šå‡ºé”™ï¼Œå› ä¸ºåœ¨è¿™è¡Œä»£ç <code>mid = (left + right) // 2</code>ä¸­å­˜åœ¨å¤§æ•°å¯¼è‡´çš„æº¢å‡ºã€‚<br>æ”¹æˆè¿™æ ·å°±å¥½äº†ï¼š<code>mid = left + (left + right) \ 2</code>ã€‚ä¸çŸ¥é“æ€ä¹ˆæ¥çš„å°±ç”»æ•°è½´ï¼ˆç”»å›¾çœŸçš„å¾ˆé‡è¦å¥½å—ï¼‰ã€‚<br>ä¸‹é¢æ˜¯C#ä»£ç ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> : <span class="hljs-title">VersionControl</span> &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">FirstBadVersion</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> n</span>)</span><br>    &#123;<br>        <span class="hljs-built_in">int</span> left = <span class="hljs-number">1</span>, right = n, mid = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (left &lt; right)<br>        &#123;<br>            mid = left + (right - left) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span> (!IsBadVersion(mid))<br>            &#123;<br>                left = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-comment">// IsBadVersion(mid)</span><br>            &#123;<br>                right = mid;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> left;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="167-ä¸¤æ•°ä¹‹å’Œ-II-è¾“å…¥æœ‰åºæ•°ç»„">167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„</h2><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/description/">167</a><br>è¿™é¢˜èƒ½ç”¨åŒæŒ‡é’ˆï¼Œä¹Ÿèƒ½ç”¨äºŒåˆ†æœç´¢å†™ï¼Œç”±äºæœ¬æ–‡ç« æ˜¯äºŒåˆ†æœç´¢ä¸“é¢˜ï¼Œæ‰€ä»¥è¿™é‡Œåªå†™äºŒåˆ†æœç´¢è§£æ³•ã€‚<br>æŠ“ä½é¢˜ç›®æ‰€è¯´è¯¥æ•°ç»„å·²æŒ‰<strong>éé€’å‡é¡ºåºæ’åˆ—</strong>ï¼Œé‚£ä¹ˆå¾ˆå¿«å¯ä»¥æƒ³åˆ°äºŒåˆ†æœç´¢ï¼Œç„¶åçœ‹åˆ°æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸¤ä¸ªæ•°ï¼Œè¿™ä¸¤ä¸ªæ•°ä¹‹å’Œç­‰äº<code>target</code>ï¼Œä¸”æ•°ç»„ä¸­ä¸€å®šå­˜åœ¨è§£ï¼Œé‚£æˆ‘ä»¬å°±èƒ½å¤Ÿåœ¨äºŒåˆ†æœç´¢å¾ªç¯é‡Œé¢å†™åˆ¤æ–­æ‰¾å‡ºç­”æ¡ˆã€‚<br>é‚£ä¹ˆå¯¹äºç¬¬ä¸€ä¸ªæ•°ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå›ºå®šï¼Œä¹Ÿå°±æ˜¯å¤–å±‚å¾ªç¯éå†æ•°ç»„çš„æ¯ä¸€ä¸ªæ•°ï¼Œåœ¨é™¤å»å›ºå®šçš„ç¬¬ä¸€ä¸ªæ•°åçš„åœ¨å…¶åé¢çš„å‰©ä½™æ•°ç»„ä½¿ç”¨äºŒåˆ†æœç´¢æ¥æ‰¾åˆ°ç¬¬äºŒä¸ªæ•°ï¼Œæ‰¾åˆ°åè¿”å›å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">twoSum</span>(<span class="hljs-params">self, numbers: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(numbers)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            left = i + <span class="hljs-number">1</span><br>            right = n - <span class="hljs-number">1</span><br>            <span class="hljs-keyword">while</span> left &lt;= right:<br>                mid = (left + right) // <span class="hljs-number">2</span><br>                <span class="hljs-keyword">if</span> numbers[i] + numbers[mid] == target:<br>                    <span class="hljs-keyword">return</span> [i + <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>]<br>                <span class="hljs-keyword">elif</span> numbers[i] + numbers[mid] &lt; target:<br>                    left = mid + <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># numbers[i] + numbers[mid] &gt; target</span><br>                    right = mid - <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h1>å…¶ä»–æƒ³è¯´çš„è¯</h1><p>ä¹‹åå¦‚æœæœ‰<strong>æœ‰ä»·å€¼çš„</strong>äºŒåˆ†æœç´¢çš„é¢˜ç›®åº”è¯¥ä¹Ÿä¼šæ”¾åœ¨è¿™é‡Œçš„ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>C#</tag>
      
      <tag>Leetcode</tag>
      
      <tag>äºŒåˆ†æœç´¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>leetcode-1247</title>
    <link href="/2023/02/25/leetcode-1247/"/>
    <url>/2023/02/25/leetcode-1247/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1247_1.jpg" alt="1247"></p><h1>æ€è·¯åŠå®ç°</h1><p>çœ‹å®Œé¢˜ç›®åŠç¤ºä¾‹ï¼Œèƒ½å¤Ÿå¾ˆå¿«æƒ³åˆ°è¦ä½¿ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ï¼Œé‚£ä¹ˆä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­çš„<code>'x'</code>å’Œ<code>'y'</code>çš„æ•°é‡åº”è¯¥ç›¸ç­‰ï¼Œæ‰€ä»¥å¯ä»¥å…ˆç»Ÿè®¡ä¸€ä¸‹ä¸¤è€…çš„æ•°é‡ï¼Œå¦‚æœä¸åŒå¯ä»¥ç›´æ¥è¿”å›<code>-1</code>ã€‚<br>æ¥ä¸‹æ¥ä»ç¤ºä¾‹ä¸­å¯»æ‰¾å…¶ä»–çš„æƒ…å†µï¼Œè¿™è¾¹æœ‰ä¸¤ç§æ€è·¯ï¼š</p><ol><li>ä»ç¤ºä¾‹4ç€æ‰‹ï¼Œè¿™æ˜¯æˆ‘ä¸€å¼€å§‹çš„æ€è·¯ã€‚ç”¨æš´åŠ›æ–¹æ³•æ¥è§£å†³ç¤ºä¾‹4ï¼Œä¼šå‘ç°éœ€è¦6æ¬¡æ‰èƒ½å¤Ÿè§£å†³ï¼›é‚£ä¹ˆ4æ¬¡æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿé‚£è‚¯å®šæ˜¯æœ‰é€‰æ‹©æ€§çš„äº¤æ¢ï¼Œå³ä¼˜å…ˆé€‰æ‹©æ›´ä¼˜æ–¹æ¡ˆï¼›ä»”ç»†è§‚å¯Ÿäº¤æ¢ï¼Œå°±èƒ½å¤Ÿå‘ç°å…¶å®æœ‰ä¸¤ç§äº¤æ¢æ–¹æ¡ˆï¼šç¬¬ä¸€ç§ï¼Œ<code>s1 = 'x...x'</code>å’Œ<code>'s2 = 'y...y'</code>äº¤æ¢ï¼Œè¿™ç§æƒ…å†µä¸‹ä»…éœ€ä¸€æ¬¡äº¤æ¢ï¼›ç¬¬äºŒç§ï¼Œ<code>s1 = 'x...y'</code>å’Œ<code>s2 = 'y...x'</code>äº¤æ¢ï¼Œè¿™ç§æƒ…å†µä¸‹éœ€ä¸¤æ¬¡äº¤æ¢ã€‚é‚£æˆ‘ä»¬å°±æ›´å¤šåœ°è¿›è¡Œç¬¬ä¸€ç§äº¤æ¢å°±è¡Œäº†ã€‚</li><li>æ€»ç»“æ•°å­¦è§„å¾‹ï¼Œç»Ÿè®¡<code>s1[i] = 'x', s2[i] = 'y'</code>å’Œ<code>s1[i] = 'y', s2[i] = 'x'</code>çš„æ•°é‡ï¼Œè®¡ç®—ç»“æœã€‚<br>è¿™å…¶ä¸­çš„æ€è·¯2æ¶‰åŠåˆ°çš„è¯¦ç»†æ•°å­¦è§„å¾‹ï¼Œå¯ä»¥è·³è½¬è‡³<a href="https://leetcode.cn/problems/minimum-swaps-to-make-strings-equal/solutions/2130292/jiao-huan-zi-fu-shi-de-zi-fu-chuan-xiang-6b1u/">å®˜è§£</a>è§‚çœ‹ã€‚<br>ä¸‹é¢æ˜¯æ€è·¯1çš„ä»£ç ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minimumSwap</span>(<span class="hljs-params">self, s1: <span class="hljs-built_in">str</span>, s2: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> (s1.count(<span class="hljs-string">&#x27;x&#x27;</span>) + s2.count(<span class="hljs-string">&#x27;x&#x27;</span>)) % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>:  <span class="hljs-comment"># ä¸¤å­—ç¬¦ä¸²èƒ½å¤Ÿç›¸åŒçš„å‰ææ˜¯xæˆ–yçš„ä¸ªæ•°ä¸ºå¶æ•°ä¸ª</span><br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>        ans = <span class="hljs-number">0</span><br>        n = <span class="hljs-built_in">len</span>(s1)<br>        <span class="hljs-keyword">for</span> index_1 <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> s1[index_1] != s2[index_1]:  <span class="hljs-comment"># ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­å½“å‰å­—ç¬¦ä¸ç›¸åŒ</span><br>                flag = <span class="hljs-literal">False</span><br>                <span class="hljs-keyword">for</span> index_tmp <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(index_1 + <span class="hljs-number">1</span>, n):  <span class="hljs-comment"># è´ªå¿ƒå¾€åæ‰¾å’Œå½“å‰å­—ç¬¦ä¸€æ ·çš„æƒ…å†µ</span><br>                    <span class="hljs-keyword">if</span> s1[index_1] == s1[index_tmp] <span class="hljs-keyword">and</span> s2[index_1] == s2[index_tmp]:  <span class="hljs-comment"># æ‰¾åˆ°äº†çš„è¯äº¤æ¢æ¬¡æ•°+1ï¼Œä¿®æ”¹å­—ç¬¦ä¸²</span><br>                        ans += <span class="hljs-number">1</span><br>                        flag = <span class="hljs-literal">True</span><br>                        s1 = s1[:index_tmp] + s2[index_1] + s1[index_tmp + <span class="hljs-number">1</span>:n]  <span class="hljs-comment"># s1[index_tmp] = s2[index_1]</span><br>                        s2 = s2[:index_1] + s1[index_1] + s2[index_1 + <span class="hljs-number">1</span>:n]  <span class="hljs-comment"># s2[index_1] = ch_1</span><br>                        <span class="hljs-keyword">break</span><br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> flag:  <span class="hljs-comment"># æ²¡æ‰¾åˆ°ï¼Œå°±æ˜¯éœ€è¦äº¤æ¢ä¸¤æ¬¡çš„æƒ…å†µï¼š&#x27;x...y&#x27;, &#x27;y...x&#x27;</span><br>                    <span class="hljs-keyword">for</span> index_tmp <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(index_1 + <span class="hljs-number">1</span>, n):<br>                        <span class="hljs-keyword">if</span> s1[index_1] == s2[index_tmp] <span class="hljs-keyword">and</span> s2[index_1] == s1[index_tmp]:  <span class="hljs-comment"># äº¤æ¢æ¬¡æ•°+2ï¼Œä¿®æ”¹å­—ç¬¦ä¸²</span><br>                            ans += <span class="hljs-number">2</span><br>                            <span class="hljs-comment"># s2[index_1] = ch_1, s2[index_tmp] = s1[index_tmp]</span><br>                            s2 = s2[:index_1] + s1[index_1] + s2[index_1 + <span class="hljs-number">1</span>:index_tmp] + s1[index_tmp] + s2[index_tmp + <span class="hljs-number">1</span>:n]<br>                            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>å†™å¾—éå¸¸å¤æ‚ï¼Œä½†æ˜¯ä¸æ¶‰åŠå¤æ‚æ•°å­¦è§„å¾‹ï¼Œç®€å•æ˜“æ‡‚ï¼ˆè‡ªå·±è®¤ä¸ºçš„ï¼‰ï¼Œå¯ä»¥åœ¨æ­¤ä¹‹ä¸Šæ€»ç»“å‡ºæ•°å­¦è§„å¾‹ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>C#</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>è´ªå¿ƒ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£æ¯æ—¥ä¸€é¢˜äº”å¤©å¤§ç¤¼åŒ…ä¹‹ï¼š1739ã€1764ã€1785ã€1945å’Œ2027</title>
    <link href="/2022/12/27/leetcode-1739-1764-1785-1945-2027/"/>
    <url>/2022/12/27/leetcode-1739-1764-1785-1945-2027/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1739_1.jpg" alt="1739_1"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1739_2.jpg" alt="1739_2"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1764_1.jpg" alt="1764"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1785_1.jpg" alt="1785"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1945_1.jpg" alt="1945"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_2027_1.jpg" alt="2027"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="1739-æ”¾ç½®ç›’å­">1739. æ”¾ç½®ç›’å­</h2><p>è¯»å®Œé¢˜ç›®ä¹‹åï¼Œå°±å¾ˆè‡ªç„¶è€Œç„¶åœ°æƒ³åˆ°æ‰¾è§„å¾‹äº†ï¼Œæ¯•ç«Ÿè¿™ç§çœ‹ä¸Šå»åƒæ•°å­¦é¢˜çš„å¾ˆå¤§ç¨‹åº¦ä¸Šéƒ½èƒ½æ‰¾è§„å¾‹åšã€‚<br>ä½†æ˜¯è²Œä¼¼æ˜¯æœ‰ç‚¹é˜³æ€§åé—ç—‡ï¼Œå…‰åœ¨è„±ç¦»æ•°å­¦æ‰¾è§„å¾‹äº†ï¼Œå°±æƒ³åˆ°å…ˆæ‰¾åˆ°æœ€æ¥è¿‘<code>n</code>çš„å®Œå…¨å æ»¡çš„æƒ…å†µï¼Œç„¶åå†ä¸€ä¸ªä¸€ä¸ªæ–¹å—åŠ ï¼Œä½†æ˜¯å°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆå†™å‡ºæ¥ã€‚ä½æ•ˆç‡åœ°æƒ³äº†40åˆ†é’Ÿä»¥åå°±å»çœ‹é¢˜è§£äº†ã€‚ã€‚ã€‚<br>ç„¶åçœ‹çš„æ˜¯çµç¥çš„é¢˜è§£ï¼Œå› ä¸ºçµç¥çš„é¢˜è§£ä¸€ç›®äº†ç„¶ï¼Œå¥½æ‡‚ã€‚èµ·ç ç¡®å®šäº†æˆ‘çš„æ€è·¯æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ï¼Œå…ˆæ‰¾åˆ°ä¸€ä¸ªæœ€é€¼è¿‘<code>n</code>çš„æƒ…å†µ<code>i</code>ï¼Œç„¶åæ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„<code>j</code>ä½¿å¾—æ­¤æ—¶èƒ½å¤Ÿæœ€å¤§å æ”¾çš„ç›’å­ä¸å°äº<code>n</code>ä¸ªã€‚<br>è¡¥å……ä¸€ä¸‹ä»€ä¹ˆæ˜¯å®Œæ•´å †å /å®Œå…¨å æ»¡ï¼šå°±æ˜¯<code>1ã€4ã€10ã€20...</code>è¿™äº›æƒ…å†µã€‚<br>åœ¨è¿™é‡Œæœ‰å‡ ä¸ªå…¬å¼ï¼š<br>å½“æ¥è§¦åœ°é¢çš„ç›’å­ä¸ºï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>3</mn><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mi>i</mi><mo>=</mo><mfrac><mrow><mi>i</mi><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">1 + 2 + 3 + ... + i = \frac {i(i+1)} 2 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>æ­¤æ—¶å®Œå…¨å æ»¡çš„ç›’å­æ•°å°±ä¸ºï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>1</mn><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>2</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>3</mn><mo stretchy="false">)</mo><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>3</mn><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>i</mi><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><mn>6</mn></mfrac></mrow><annotation encoding="application/x-tex">1 + (1+2) + (1+2+3) + ... + (1+2+3+...+i) = \frac {i(i+1)(i+2)} 6 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>æ‰€ä»¥éœ€è¦æ‰¾åˆ°ä¸€ä¸ªå®Œå…¨å æ»¡ç›’å­åç›’å­æ•°é‡æœ€æ¥è¿‘ä¸”å°äº<code>n</code>çš„æ—¶å€™çš„æ¥è§¦åœ°é¢çš„ç›’å­æ•°<code>ans</code>ï¼Œç„¶åå†æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„èƒ½å¤Ÿæ»¡è¶³æ­¤æ—¶æœ€å¤§å æ”¾ç›’å­æ•°é‡ä¸å°äº<code>n</code>çš„æƒ…å†µã€‚<br>åœ¨ä¸€ä¸ªå®Œæ•´ç›’å­å †ä¸Šç»§ç»­å¾€åœ°é¢åŠ <code>j</code>ä¸ªç›’å­ï¼Œç›’å­ä¸Šé™å¢åŠ ï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>1</mn><mo>+</mo><mn>2</mn><mo>+</mo><mn>3</mn><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mi>j</mi><mo>=</mo><mfrac><mrow><mi>j</mi><mo stretchy="false">(</mo><mi>j</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">1 + 2 + 3 + ... + j = \frac {j(j+1)} 2 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">...</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>é‚£ä¹ˆæ ¹æ®ä¸Šé¢çš„å…¬å¼å°±èƒ½å¤Ÿå†™å‡ºç¨‹åºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minimumBoxes</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ans = max_n = <span class="hljs-number">0</span><br>        i = j = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> max_n + ans + i &lt;= n:<br>            ans += i<br>            max_n += ans<br>            i += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> max_n &lt; n:<br>            ans += <span class="hljs-number">1</span><br>            max_n += j<br>            j += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šè¾¹ï¼Œ<code>ans</code>å°±æ˜¯æœ€æ¥è¿‘ä¸”å°äº<code>n</code>çš„æ—¶å€™çš„æ¥è§¦åœ°é¢çš„ç›’å­æ•°ï¼Œ<code>max_n</code>æ˜¯å½“å‰èƒ½å¤Ÿå †æ”¾çš„æœ€å¤§ç›’å­æ•°ï¼Œ<code>i</code>æ˜¯ä¸‹æ¬¡æ·»åŠ åˆ°åœ°é¢ä¸Šçš„ç›’å­æ•°ï¼Œ<code>j</code>åˆ™æ˜¯åœ¨å®Œæ•´ç›’å­å †ä¸Šæ¯å¾€åœ°é¢æ·»åŠ ä¸€ä¸ªç›’å­åç›’å­ä¸Šé™ä¼šå¢åŠ çš„æ•°é‡ã€‚<br>è€Œä¸Šé¢çš„<code>max_n + ans + i &lt;= n</code>åˆ™æ˜¯åˆ¤æ–­ä¸‹æ¬¡çš„å®Œæ•´å †å çš„ç›’å­æ•°é‡ä¼šä¸ä¼šè¶…è¿‡<code>n</code>ï¼Œå¦‚æœä¼šé‚£ä¹ˆå½“å‰æƒ…å†µå°±æ˜¯æœ€æ¥è¿‘ä¸”å°äº<code>n</code>çš„æƒ…å†µã€‚<br>æ—¢ç„¶æœ‰äº†å…¬å¼ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯èƒ½å¤Ÿé€šè¿‡å…¬å¼ç›´æ¥è®¡ç®—å‡ºç­”æ¡ˆçš„ï¼Œè¿™é‡Œå°±ä¸ç»†è¿°äº†ï¼Œè·³è½¬ï¼š<a href="https://leetcode.cn/problems/building-boxes/solutions/2031813/mei-xiang-ming-bai-yi-ge-dong-hua-miao-d-8vbe/">çµèŒ¶å±±è‰¾åºœ</a></p><h2 id="1764-é€šè¿‡è¿æ¥å¦ä¸€ä¸ªæ•°ç»„çš„å­æ•°ç»„å¾—åˆ°ä¸€ä¸ªæ•°ç»„">1764. é€šè¿‡è¿æ¥å¦ä¸€ä¸ªæ•°ç»„çš„å­æ•°ç»„å¾—åˆ°ä¸€ä¸ªæ•°ç»„</h2><p>ç®€å•åœ°æ¦‚æ‹¬ä¸€ä¸‹é¢˜ç›®ï¼Œå°±æ˜¯æˆ‘ä»¬è¦åœ¨æ•°ç»„<code>nums</code>é‡ŒæŒ‰é¡ºåºæ‰¾åˆ°<code>groups</code>é‡Œè¾¹ç»™å‡ºçš„å­æ•°ç»„ï¼Œå¹¶ä¸”<code>nums</code>é‡Œç”¨è¿‡çš„å…ƒç´ å°±ä¸èƒ½å¤Ÿé‡å¤ä½¿ç”¨äº†ï¼Œå¦‚æœ<code>nums</code>é‡Œè¾¹èƒ½æ‰¾å…¨ï¼Œé‚£å°±è¿”å›<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code>ã€‚<br>é‚£å¯¹äºpythonè€Œè¨€å…¶å®å¾ˆå¥½åšå•Šï¼Œç›´æ¥å–<code>groups</code>é‡Œè¾¹çš„å­æ•°ç»„<code>groups[i]</code>ï¼Œç„¶ååœ¨<code>nums</code>é‡Œè¾¹å–åˆ‡ç‰‡<code>nums[j: j + len(groups[i])]</code>ï¼Œè¿›è¡Œæ¯”è¾ƒï¼Œæ ¹æ®ç»“æœå†æ›´æ–°ä¸¤ä¸ªä¸‹æ ‡<code>i</code>å’Œ<code>j</code>å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">canChoose</span>(<span class="hljs-params">self, groups: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        i = j = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> i &lt; <span class="hljs-built_in">len</span>(groups) <span class="hljs-keyword">and</span> j &lt; <span class="hljs-built_in">len</span>(nums):<br>            <span class="hljs-keyword">if</span> groups[i] == nums[j: j + <span class="hljs-built_in">len</span>(groups[i])]:<br>                j += <span class="hljs-built_in">len</span>(groups[i])<br>                i += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                j += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> i == <span class="hljs-built_in">len</span>(groups)<br></code></pre></td></tr></table></figure><h2 id="1785-æ„æˆç‰¹å®šå’Œéœ€è¦æ·»åŠ çš„æœ€å°‘å…ƒç´ ">1785.æ„æˆç‰¹å®šå’Œéœ€è¦æ·»åŠ çš„æœ€å°‘å…ƒç´ </h2><p>è¡¨é¢ä¸Šçœ‹ä¸Šå»æ˜¯ä¸€é“ä¸­ç­‰é¢˜ï¼Œå®é™…ä¸Šæ˜¯ç®€å•é¢˜(<br>çœ‹å®Œé¢˜ç›®å¾ˆå®¹æ˜“å°±èƒ½æƒ³åˆ°è¦å‘æ•°ç»„æ·»åŠ æœ€å°å…ƒç´ ï¼Œé‚£å¯ä»¥ç”¨åˆ°è´ªå¿ƒæ€æƒ³ï¼Œæ¯æ¬¡å¡ä¸€ä¸ªæœ€å¤§æœ€æ»¡è¶³çš„æ•°å³å¯ï¼Œè¿›ä¸€æ­¥åˆ†æï¼Œåˆ†ä¸‰ç§æƒ…å†µè®¨è®ºï¼š</p><ol><li><code>nums</code>ä¸­çš„æ€»å’Œåˆšå¥½ç­‰äº<code>goal</code>ï¼Œä¸éœ€è¦å‘é‡Œé¢æ·»åŠ å…ƒç´ </li><li><code>nums</code>ä¸­çš„æ€»å’Œä¸ç­‰äº<code>goal</code>ï¼Œè®¡ç®—å·®è·<code>dif = abs(goal - nums)</code><ul><li><code>dif</code>å°äº<code>limit</code>ï¼Œè¯´æ˜ç›´æ¥å–ä¸€ä¸ª<code>limit</code>ä¸­ç­‰äº<code>dif</code>çš„é‚£ä¸ªæ•°å³å¯ã€‚</li><li><code>dif</code>å¤§äº<code>limit</code>ï¼Œè¯´æ˜è¦åå¤å–<code>limit</code>å¹¶æ›´æ–°<code>dif = abs(dif - limit)</code>ç›´åˆ°è®©<code>dif</code>ç­‰äº<code>0</code>æˆ–è€…å°äº<code>limit</code>ã€‚<br>æ ¹æ®ä¸Šé¢æ€è·¯å³å¯å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š</li></ul></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minElements</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], limit: <span class="hljs-built_in">int</span>, goal: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        nums_sum = <span class="hljs-built_in">sum</span>(nums)<br>        <span class="hljs-keyword">if</span> nums_sum == goal:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">if</span> limit &gt;= <span class="hljs-built_in">abs</span>(goal - nums_sum):<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>        ans = <span class="hljs-number">0</span><br>        dif = <span class="hljs-built_in">abs</span>(goal - nums_sum)<br>        ans = dif // limit<br>        <span class="hljs-keyword">return</span> ans + <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> dif % limit != <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> ans<br></code></pre></td></tr></table></figure><h2 id="1945-å­—ç¬¦ä¸²è½¬åŒ–åçš„å„ä½æ•°å­—ä¹‹å’Œ">1945.å­—ç¬¦ä¸²è½¬åŒ–åçš„å„ä½æ•°å­—ä¹‹å’Œ</h2><p>ä¸¤ç§æ€è·¯ï¼Œä¸€ç§æ˜¯åˆ©ç”¨ASCIIè¿›è¡Œè½¬æ¢ï¼Œä¸€ç§æ˜¯åˆ©ç”¨å“ˆå¸Œè¡¨è¿›è¡Œè½¬æ¢ã€‚å‰è€…æ¯”åè€…ç®€å•ï¼ˆå†™èµ·æ¥ï¼‰ã€‚<br>å°†å­—æ¯æ›¿æ¢æˆæ•´æ•°ä¹‹åï¼Œå†æ ¹æ®<code>k</code>çš„å€¼å†å¾ªç¯<code>k</code>æ¬¡å°±è¡Œäº†ï¼Œå½“ç„¶å’Œåªå‰©ä¸ªä½æ•°çš„æ—¶å€™ä¹Ÿèƒ½çœå»åé¢å¤šä½™çš„å¾ªç¯ã€‚</p><ol><li>åˆ©ç”¨ASCIIè½¬æ¢ï¼š</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">GetLucky</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> s, <span class="hljs-built_in">int</span> k</span>)</span> &#123;<br>        StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();<br>        <span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">char</span> ch <span class="hljs-keyword">in</span> s)<br>        &#123;<br>            sb.Append(ch - <span class="hljs-string">&#x27;a&#x27;</span> + <span class="hljs-number">1</span>);<br>        &#125;<br>        String digits = sb.ToString();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= k &amp;&amp; digits.Length &gt; <span class="hljs-number">1</span>; ++i)<br>        &#123;<br>            <span class="hljs-built_in">int</span> sum = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">foreach</span> (<span class="hljs-built_in">char</span> ch <span class="hljs-keyword">in</span> digits)<br>            &#123;<br>                sum += ch - <span class="hljs-string">&#x27;0&#x27;</span>;<br>            &#125;<br>            digits = sum.ToString();<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>.Parse(digits);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>åˆ©ç”¨å“ˆå¸Œè¡¨è½¬æ¢ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getLucky</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        d = &#123;<span class="hljs-string">&#x27;a&#x27;</span>: <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>: <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>: <span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>: <span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>: <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>: <span class="hljs-string">&#x27;6&#x27;</span>, <span class="hljs-string">&#x27;g&#x27;</span>: <span class="hljs-string">&#x27;7&#x27;</span>, <span class="hljs-string">&#x27;h&#x27;</span>: <span class="hljs-string">&#x27;8&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>: <span class="hljs-string">&#x27;9&#x27;</span>, <span class="hljs-string">&#x27;j&#x27;</span>: <span class="hljs-string">&#x27;10&#x27;</span>,<br>             <span class="hljs-string">&#x27;k&#x27;</span>: <span class="hljs-string">&#x27;11&#x27;</span>, <span class="hljs-string">&#x27;l&#x27;</span>: <span class="hljs-string">&#x27;12&#x27;</span>, <span class="hljs-string">&#x27;m&#x27;</span>: <span class="hljs-string">&#x27;13&#x27;</span>, <span class="hljs-string">&#x27;n&#x27;</span>: <span class="hljs-string">&#x27;14&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>: <span class="hljs-string">&#x27;15&#x27;</span>, <span class="hljs-string">&#x27;p&#x27;</span>: <span class="hljs-string">&#x27;16&#x27;</span>, <span class="hljs-string">&#x27;q&#x27;</span>: <span class="hljs-string">&#x27;17&#x27;</span>, <span class="hljs-string">&#x27;r&#x27;</span>: <span class="hljs-string">&#x27;18&#x27;</span>, <span class="hljs-string">&#x27;s&#x27;</span>: <span class="hljs-string">&#x27;19&#x27;</span>, <span class="hljs-string">&#x27;t&#x27;</span>: <span class="hljs-string">&#x27;20&#x27;</span>,<br>             <span class="hljs-string">&#x27;u&#x27;</span>: <span class="hljs-string">&#x27;21&#x27;</span>, <span class="hljs-string">&#x27;v&#x27;</span>: <span class="hljs-string">&#x27;22&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>: <span class="hljs-string">&#x27;23&#x27;</span>, <span class="hljs-string">&#x27;x&#x27;</span>: <span class="hljs-string">&#x27;24&#x27;</span>, <span class="hljs-string">&#x27;y&#x27;</span>: <span class="hljs-string">&#x27;25&#x27;</span>, <span class="hljs-string">&#x27;z&#x27;</span>: <span class="hljs-string">&#x27;26&#x27;</span>, &#125;<br>        trantab = <span class="hljs-built_in">str</span>.maketrans(d)<br>        tmp = <span class="hljs-built_in">int</span>(s.translate(trantab))<br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(k):<br>            ans = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">while</span> tmp != <span class="hljs-number">0</span>:<br>                ans += tmp % <span class="hljs-number">10</span><br>                tmp = tmp // <span class="hljs-number">10</span><br>            tmp = ans<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><h2 id="2027-è½¬æ¢å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ¬¡æ•°">2027.è½¬æ¢å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ¬¡æ•°</h2><p>ç”±é¢˜ç›®å¯å¾—ï¼Œæˆ‘ä»¬æ¯æ¬¡æ“ä½œéƒ½ä¼šæ”¹å˜ä¸‰ä¸ªè¿ç»­å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´åªè¦æˆ‘ä»¬åœ¨å­—ç¬¦ä¸²ä¸­ç¢°åˆ°äº†ä¸€ä¸ª<code>X</code>çš„è¯ï¼Œå½“å‰å­—ç¬¦ä¸å®ƒåé¢ä¸¤ä¸ªå­—ç¬¦æˆ‘ä»¬éƒ½ä¸éœ€è¦è¿›è¡Œåˆ¤æ–­äº†ï¼Œå› ä¸ºæˆ‘ä»¬å¿…å®šè¦å¯¹æ­¤å¤„è¿›è¡Œæ“ä½œï¼Œç›´æ¥è·³åˆ°<code>i + 3</code>çš„ä½ç½®ç»§ç»­åˆ¤æ–­ï¼Œç›´åˆ°éå†å­—ç¬¦ä¸²å®Œæ¯•ã€‚<br>æ‰€ä»¥èƒ½å¤Ÿå¾—åˆ°è¿™æ ·çš„æ€è·¯ï¼šéå†å­—ç¬¦ä¸²ï¼Œé‡åˆ°<code>X</code>åˆ™æ“ä½œæ¬¡æ•°<code>ans += 1</code>ï¼Œä¸”éå†ç´¢å¼•<code>index += 3</code>ï¼Œå¦åˆ™<code>index += 1</code>ï¼Œç›´è‡³å­—ç¬¦ä¸²éå†å®Œæ¯•ï¼ˆ<code>index &gt;= s.Length</code>ï¼‰ã€‚</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> <span class="hljs-title">MinimumMoves</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> s</span>)</span> &#123;<br>        <span class="hljs-built_in">int</span> ans = <span class="hljs-number">0</span>, index = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (index &lt; s.Length)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (s[index] == <span class="hljs-string">&#x27;X&#x27;</span>)<br>            &#123;<br>                ans += <span class="hljs-number">1</span>;<br>                index += <span class="hljs-number">3</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                index += <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minimumMoves</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-number">0</span><br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> n &lt; <span class="hljs-built_in">len</span>(s):<br>            <span class="hljs-keyword">if</span> s[n] == <span class="hljs-string">&#x27;X&#x27;</span>:<br>                ans += <span class="hljs-number">1</span><br>                n += <span class="hljs-number">3</span><br>                <span class="hljs-keyword">continue</span><br>            n += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><h1>åƒåœ¾è¯</h1><p>æ”¾å‡ï¼Œå°±è¯¥åœ¨åºŠä¸Šèººç€ï¼Œå­¦ä»€ä¹ˆä¹ å†™ä»€ä¹ˆé¢˜å•Š(<br>äº‹ï¼Œè¿™å°±æ˜¯æˆ‘ä¸€ä¸ªå¯’å‡æ²¡æ›´æ–°çš„ç†ç”±(é€ƒ<br>é¡ºä¾¿ä¹‹åå¯èƒ½ä¼šæŒ‘ç€é¢˜ç›®æ›´äº†ï¼Œæ„Ÿè§‰æœ‰ä¸€äº›ç®€å•é¢˜å®åœ¨æ˜¯ï¼Œï¼Œï¼Œæ²¡å¿…è¦å•Šï¼Œï¼Œï¼Œ</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>è´ªå¿ƒ</tag>
      
      <tag>æ•°ç»„</tag>
      
      <tag>æ’åº</tag>
      
      <tag>æ•°å­¦</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1774. æœ€æ¥è¿‘ç›®æ ‡ä»·æ ¼çš„ç”œç‚¹æˆæœ¬</title>
    <link href="/2022/12/04/leetcode-1774/"/>
    <url>/2022/12/04/leetcode-1774/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1774_1.jpg" alt="1774_1"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1774_2.jpg" alt="1774_2"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="æ·±åº¦ä¼˜å…ˆæœç´¢">æ·±åº¦ä¼˜å…ˆæœç´¢</h2><p>å¯¹äºæ·±åº¦ä¼˜å…ˆæœç´¢åšæ³•çš„è¯ï¼Œå°±æ²¡ä»€ä¹ˆå¥½è¯´çš„äº†ï¼Œå°±æ˜¯æšä¸¾æ‰€æœ‰æƒ…å†µç„¶åæ‰¾ä¸ªæœ€ç¬¦åˆé¢˜æ„çš„ç»“æœè¿”å›å°±æ˜¯äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">closestCost</span>(<span class="hljs-params">self, baseCosts: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], toppingCosts: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ans_list = <span class="hljs-built_in">set</span>()  <span class="hljs-comment"># è®°å½•æ‰€æœ‰æˆæœ¬</span><br>        ans = math.inf<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">depth: <span class="hljs-built_in">int</span>, cur_cost: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">nonlocal</span> ans_list<br>            ans_list.add(cur_cost)<br>            <span class="hljs-keyword">if</span> depth == <span class="hljs-built_in">len</span>(toppingCosts):  <span class="hljs-comment"># æ·±åº¦æœç´¢å®Œæ¯•</span><br>                <span class="hljs-keyword">return</span><br>            dfs(depth + <span class="hljs-number">1</span>, cur_cost + <span class="hljs-number">2</span> * toppingCosts[depth])  <span class="hljs-comment"># æ·»åŠ ä¸¤ä»½å½“å‰é…æ–™</span><br>            dfs(depth + <span class="hljs-number">1</span>, cur_cost + toppingCosts[depth])  <span class="hljs-comment"># æ·»åŠ ä¸€ä»½å½“å‰é…æ–™</span><br>            dfs(depth + <span class="hljs-number">1</span>, cur_cost)  <span class="hljs-comment"># ä¸æ·»åŠ å½“å‰é…æ–™</span><br>        <span class="hljs-keyword">for</span> base_cost <span class="hljs-keyword">in</span> baseCosts:  <span class="hljs-comment"># è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢</span><br>            dfs(<span class="hljs-number">0</span>, base_cost)<br>        <span class="hljs-keyword">for</span> cost <span class="hljs-keyword">in</span> ans_list:  <span class="hljs-comment"># æ‰¾åˆ°æœ€å°æˆæœ¬</span><br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(cost - target) &lt; <span class="hljs-built_in">abs</span>(ans - target):  <span class="hljs-comment"># å½“å‰æˆæœ¬å·®è·å°äºè®°å½•çš„æˆæœ¬å·®è·ï¼Œç›´æ¥æ›´æ–°</span><br>                ans = cost<br>            <span class="hljs-keyword">elif</span> <span class="hljs-built_in">abs</span>(cost - target) == <span class="hljs-built_in">abs</span>(ans - target):  <span class="hljs-comment"># å½“å‰æˆæœ¬å·®è·ç­‰äºè®°å½•çš„æˆæœ¬å·®è·ï¼Œå–æ›´å°æˆæœ¬</span><br>                <span class="hljs-keyword">if</span> cost &lt; ans:<br>                    ans = cost<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä¸ºäº†é¿å…æ²¡æœ‰å¿…è¦çš„æœç´¢ï¼Œå¯ä»¥è¿›è¡Œå‰ªæã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">closestCost</span>(<span class="hljs-params">self, baseCosts: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], toppingCosts: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ans = <span class="hljs-built_in">min</span>(baseCosts)<br>        <span class="hljs-comment"># æ³¨æ„â€œæˆæœ¬å·®è·â€å’Œâ€œæˆæœ¬â€ä¸¤ä¸ªæ¦‚å¿µ</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">depth: <span class="hljs-built_in">int</span>, cur_cost: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">nonlocal</span> ans<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(ans - target) &lt; cur_cost - target:  <span class="hljs-comment"># å¦‚æœå½“å‰æˆæœ¬å·®è·å·²ç»å¤§äºè®°å½•çš„æˆæœ¬å·®è·ï¼Œç›´æ¥è¿”å›ï¼Œå› ä¸ºç»§ç»­æœç´¢åªä¼šå¢åŠ æˆæœ¬(æ³¨æ„ï¼Œå½“å‰æˆæœ¬å·®å€¼ä¸å–ç»å¯¹å€¼æ‰èƒ½ä¿è¯)</span><br>                <span class="hljs-keyword">return</span><br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(ans - target) &gt;= <span class="hljs-built_in">abs</span>(cur_cost - target):<br>                <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(ans - target) &gt; <span class="hljs-built_in">abs</span>(cur_cost - target):  <span class="hljs-comment"># å¦‚æœå½“å‰æˆæœ¬å·®è·å°äºè®°å½•çš„æˆæœ¬å·®è·</span><br>                    ans = cur_cost  <span class="hljs-comment"># å°±æ›´æ–°æœ€å°æˆæœ¬å·®è·</span><br>                <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># å¦‚æœå½“å‰æˆæœ¬å·®è·ç­‰äºè®°å½•çš„æˆæœ¬å·®è·</span><br>                    ans = <span class="hljs-built_in">min</span>(ans, cur_cost)  <span class="hljs-comment"># è®°å½•æ›´å°çš„æˆæœ¬</span><br>            <span class="hljs-keyword">if</span> depth == <span class="hljs-built_in">len</span>(toppingCosts):  <span class="hljs-comment"># æ·±åº¦æœç´¢å®Œæ¯•</span><br>                <span class="hljs-keyword">return</span><br>            dfs(depth + <span class="hljs-number">1</span>, cur_cost + <span class="hljs-number">2</span> * toppingCosts[depth])  <span class="hljs-comment"># æ·»åŠ ä¸¤ä»½å½“å‰é…æ–™</span><br>            dfs(depth + <span class="hljs-number">1</span>, cur_cost + toppingCosts[depth])  <span class="hljs-comment"># æ·»åŠ ä¸€ä»½å½“å‰é…æ–™</span><br>            dfs(depth + <span class="hljs-number">1</span>, cur_cost)  <span class="hljs-comment"># ä¸æ·»åŠ å½“å‰é…æ–™</span><br>        <span class="hljs-keyword">for</span> base_cost <span class="hljs-keyword">in</span> baseCosts:<br>            dfs(<span class="hljs-number">0</span>, base_cost)<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><h2 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h2><p>æœ¬é¢˜å±äºæ˜¯01èƒŒåŒ…é—®é¢˜çš„å˜ç§ï¼Œåœ¨è¿™é¢˜é‡Œè¾¹ï¼Œå­˜åœ¨ä¸€å®šè¦æ”¾å…¥ä¸”åªèƒ½æ”¾å…¥ä¸€ä¸ªçš„åŸºæ–™ï¼Œè¿˜æœ‰å¯æ”¾å…¥å¯ä¸æ”¾å…¥çš„è¾…æ–™ï¼Œæ‰€ä»¥å¯ä»¥æŠŠè¾…æ–™çœ‹ä½œæ˜¯èƒŒåŒ…é—®é¢˜ä¸­çš„ç‰©å“ï¼Œè€Œè¿™ä¸ªç‰©å“ï¼ˆè¾…æ–™ï¼‰æ˜¯å¯ä»¥æ”¾ä¸¤æ¬¡çš„ï¼Œåœ¨èƒŒåŒ…é—®é¢˜ä¸­åªèƒ½æ”¾ä¸€æ¬¡ï¼Œè€Œä¸”ï¼Œå¯¹äºè¿™é¢˜ï¼Œéœ€è¦è€ƒè™‘å¦‚ä½•å¤„ç†å¤§äº<code>target</code>çš„éƒ¨åˆ†ï¼Œå› ä¸ºåœ¨01èƒŒåŒ…é—®é¢˜ä¸­ï¼Œæ€»ç‰©å“é‡é‡æ˜¯ä¸èƒ½è¶…è¿‡èƒŒåŒ…å¯æ‰¿è½½é‡é‡çš„ï¼Œä½†æ˜¯è¿™é‡Œåˆ¶ä½œæˆæœ¬å¯ä»¥è¶…è¿‡ç›®æ ‡åˆ¶é€ æˆæœ¬ï¼Œå› ä¸ºæˆ‘ä»¬è€ƒè™‘çš„æ˜¯æ›´å°çš„æˆæœ¬å·®è·ã€‚<br>é‚£å°±éœ€è¦å¯¹äºè¿™äº›ä¸åŒçš„éƒ¨åˆ†è¿›è¡Œå¤„ç†äº†ï¼Œæˆ‘ä»¬æ¥ä¸€æ­¥ä¸€æ­¥å¤„ç†ï¼š</p><ol><li>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡01èƒŒåŒ…é—®é¢˜çš„æ–¹å¼æ¥æ±‚å¯¹äºä¸€ä¸ªæˆæœ¬<code>cost</code>ï¼Œæˆ‘ä»¬æ˜¯å¦èƒ½å¤Ÿæ‰¾åˆ°ä¸€ä¸ªæ„é€ æ–¹æ¡ˆã€‚æœ€åå†æ‰¾åˆ°è·ç¦»<code>target</code>æœ€è¿‘çš„å¯æ„é€ çš„æˆæœ¬æ–¹æ¡ˆã€‚</li><li>é¢˜ç›®æœ‰ä¸€ä¸ªéšè—ä¸Šé™ï¼šå³æˆæœ¬å·®è·æœ€å¤§å°±æ˜¯<code>(target - min(baseCosts))</code>ï¼Œå¤§äºæ­¤æˆæœ¬å·®è·çš„åˆ¶ä½œæ–¹æ³•ä¸€å®šä¸æ˜¯æœ€ä¼˜è§£ã€‚</li><li>é¦–å…ˆå¯¹äºæ”¾å…¥çš„åŸºæ–™è€Œè¨€ï¼Œå¦‚æœå¤„ç†ï¼Ÿå¯¹äºå°äº<code>target</code>çš„åŸºæ–™ï¼Œæˆ‘ä»¬å°±å°è¯•å¾€ä¸Šé¢æ·»åŠ è¾…æ–™ï¼Œå³æŠŠå®ƒä»¬ä½œä¸ºåŠ¨æ€è§„åˆ’æ•°ç»„çš„åˆå§‹çŠ¶æ€ï¼›å¯¹äºå¤§äº<code>target</code>çš„åŸºæ–™ï¼Œæ ¹æ®ç¬¬1ç‚¹æåˆ°è¿‡çš„ä¸Šé™ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“å¦‚æœåŸºæ–™æˆæœ¬å¤§äº<code>2 * target - min(baseCosts)</code>çš„è¯ä¸€å®šä¸æ˜¯æœ€ä¼˜è§£ï¼Œå°äºçš„è¯ï¼Œå°±ç”¨å®ƒæ›´æ–°æœ€å°æˆæœ¬ã€‚</li><li>å¯¹äºä¸€ç§è¾…æ–™æœ€å¤šæ”¾ä¸¤ä»½ï¼Œé‚£å°±æ¯ç§è¾…æ–™éƒ½å¤„ç†ä¸¤æ¬¡ï¼Œå³è¿›è¡Œä¸¤æ¬¡å¾ªç¯ã€‚</li><li>å¦‚ä½•æ·»åŠ è¾…æ–™ï¼Ÿå¯¹äºä¸€ç§æ–¹æ¡ˆ<code>cost</code>ï¼Œæˆ‘ä»¬è®¾<code>i</code>ä¸ºç¬¬<code>i</code>ç§è¾…æ–™ï¼Œé‚£ä¹ˆæœ‰<code>dp[cost] = dp[cost - toppingCosts[i]] | dp[cost]</code>ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">closestCost</span>(<span class="hljs-params">self, baseCosts: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], toppingCosts: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        cost = <span class="hljs-built_in">min</span>(baseCosts)<br>        <span class="hljs-keyword">if</span> cost &gt;= target:<br>            <span class="hljs-keyword">return</span> cost<br>        ans = <span class="hljs-number">2</span> * target - cost<br>        dp = [<span class="hljs-literal">False</span>] * (target + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> baseCosts:<br>            <span class="hljs-keyword">if</span> c == target:<br>                <span class="hljs-keyword">return</span> c<br>            <span class="hljs-keyword">if</span> c &gt; target:<br>                ans = <span class="hljs-built_in">min</span>(ans, c)<br>            <span class="hljs-keyword">else</span>:<br>                dp[c] = <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> toppingCosts:<br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>):<br>                <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(target, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span>):<br>                    <span class="hljs-keyword">if</span> dp[c] <span class="hljs-keyword">and</span> c + i &gt; target:  <span class="hljs-comment"># åœ¨è¿™é¢˜ä¸­è¦é¢å¤–å¤„ç†ä¸€ç§æˆæœ¬æ–¹æ¡ˆåŠ å…¥è¾…æ–™åå¤§äºtargetçš„æƒ…å†µ</span><br>                        ans = <span class="hljs-built_in">min</span>(ans, c + i)<br>                    <span class="hljs-keyword">if</span> c &gt; i:  <span class="hljs-comment"># 01èƒŒåŒ…æ„é€ æˆæœ¬æ–¹æ¡ˆ</span><br>                        dp[c] |= dp[c - i]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(ans - target + <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">if</span> dp[target - i]:<br>                <span class="hljs-keyword">return</span> target - i<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><h1>å…¶ä»–è¯ï¼ˆå…³äºèƒŒåŒ…DPï¼‰</h1><p>æ²¡æƒ³åˆ°å§ï¼Œè¿™ä¹ˆç»å…¸çš„é¢˜æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡äº†è§£ï¼Œä¹‹å‰åªå¬è¿‡æ²¡å†™è¿‡ã€‚<br>é¦–å…ˆæ˜¯æ”¾ä¸€ä¸‹å­¦ä¹ çš„åœ°æ–¹å—·ï¼š<a href="https://oi-wiki.org/dp/knapsack/">èƒŒåŒ…DP</a><br>è¿™é‡Œä¸»è¦æ˜¯å†™ä¸€äº›æˆ‘åœ¨çœ‹è¿™ä¸ªé—®é¢˜æ—¶å€™çš„ç–‘æƒ‘ä»¥åŠè§£é‡Šã€‚</p><h2 id="ç¬¬ä¸€ä¸ªç–‘æƒ‘ï¼šé”™è¯¯çš„æ ¸å¿ƒä»£ç é‡Œè¾¹å†™çš„ä»€ä¹ˆï¼Ÿlä»0åˆ°W-w-i-æ˜¯å•¥æ„æ€å•Šï¼Ÿ">ç¬¬ä¸€ä¸ªç–‘æƒ‘ï¼šé”™è¯¯çš„æ ¸å¿ƒä»£ç é‡Œè¾¹å†™çš„ä»€ä¹ˆï¼Ÿ<code>l</code>ä»<code>0</code>åˆ°<code>W - w[i]</code>æ˜¯å•¥æ„æ€å•Šï¼Ÿ</h2><blockquote><p>è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¾ˆå®¹æ˜“å†™å‡ºè¿™æ ·çš„é”™è¯¯æ ¸å¿ƒä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Python Version</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>    l = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> l &lt;= W - w[i]:<br>        f[l + w[i]] = <span class="hljs-built_in">max</span>(f[l] + v[i], f[l + w[i]])<br>        l += <span class="hljs-number">1</span><br><span class="hljs-comment"># ç”± f[i][l + w[i]] = max(max(f[i - 1][l + w[i]],f[i - 1][l] + w[i]),f[i][l + w[i]]) ç®€åŒ–è€Œæ¥</span><br></code></pre></td></tr></table></figure></blockquote><p>OKï¼Œé‚£ä¹ˆè¦æ˜ç™½å¯¹äºèƒŒåŒ…é—®é¢˜ä¸­<code>f[i][j]</code>æ˜¯ä»€ä¹ˆï¼Œ<code>f[i][j]</code>å°±æ˜¯åªæ”¾å‰<code>i</code>ï¼ˆåŒ…æ‹¬ç¬¬<code>i</code>ä¸ªï¼‰ä¸ªç‰©å“æ—¶ï¼ŒèƒŒåŒ…é‡é‡ä¸º<code>j</code>çš„æ—¶å€™ï¼ŒèƒŒåŒ…ä¸­ç‰©å“çš„æœ€å¤§ä»·å€¼ã€‚<br>é‚£ä¹ˆç°åœ¨èƒ½å¤Ÿçœ‹å‡ºï¼Œè¿™é‡Œåœ¨æ±‚ä»<code>f[i][0 + w[i]]</code>å¼€å§‹ï¼Œä¸€ç›´åˆ°<code>f[i][l + w[i]]</code>ï¼ˆä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªæ•°å‘¢ï¼Ÿå› ä¸ºä¸èƒ½è¶…è¿‡èƒŒåŒ…å¯æ‰¿è½½çš„é‡é‡<code>W</code>ï¼‰ï¼Œè®¡ç®—<code>f[0 + w[i]]</code>è‡³<code>f[l + w[i]]</code>æ¯ä¸€ä¸ªé‡é‡ä¸‹æ‰€èƒ½è¾¾åˆ°çš„æœ€å¤§æ€»ä»·å€¼ã€‚<br>ä¸ºä»€ä¹ˆè¿™é‡Œé”™äº†å‘¢ï¼Ÿå› ä¸º<code>f[i][j]</code>ä¼šå—åˆ°<code>f[i][j - w[i]]</code>çš„å½±å“ï¼Œè¿™åˆæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ„æ€æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“<code>f[i][j - w[i]]</code>è¿™ç§æƒ…å†µä¸‹æ˜¯å¦æ˜¯åœ¨<code>i</code>è¢«å¡å…¥çš„æ—¶å€™è®¡ç®—å¾—å‡ºçš„ï¼Œå¦‚æœæ˜¯ï¼Œè€Œä¸”<code>f[i][j]</code>è¿˜æ›´æ–°ä¸º<code>f[i][j - w[i]]</code>çš„å€¼çš„è¯ï¼Œé‚£å°±ç›¸å½“äºæŠŠè¿™ä¸ªç‰©å“å¡å…¥å¤šæ¬¡ï¼Œä¸ç¬¦åˆé¢˜æ„äº†ã€‚</p><blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨æœ‰<code>l = 2ï¼Œ w[i] = 4</code>ï¼Œé‚£ä¹ˆä¼šæœ‰ï¼š<code>f[2 + 4] = max(f[2] + v[i], f[2 + 4])</code>ï¼Œè€Œå¯¹äºåœ¨è¿™ä¹‹åå¯èƒ½å‡ºç°çš„æƒ…å†µ<code>l = 6ï¼Œ w[i] = 4</code>ï¼Œåˆæœ‰ï¼š<code>f[6 + 4] = max(f[6] + v[i], f[6 + 4])</code>ï¼Œè€Œè¿™å…¶ä¸­å‡ºç°çš„<code>f[6]</code>ï¼Œæ€ä¹ˆä¿è¯ä¸æ˜¯æˆ‘ä»¬ä¹‹å‰åœ¨æ±‚<code>f[2 + 4]</code>çš„æ—¶å€™å–çš„<code>f[2] + v[i]</code>çš„å€¼å‘¢ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œé‚£ç‰©å“<code>i</code>ä¸å°±ç›¸å½“äºæ”¾å…¥å¤šæ¬¡äº†å—ï¼Ÿ<br>æ‰€ä»¥ï¼Œä¸ºäº†é¿å…å‡ºç°è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä»<code>l = W</code>å¼€å§‹æšä¸¾è€Œä¸æ˜¯ä»<code>l = 0</code>å¼€å§‹ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br><span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(W, w[i], -<span class="hljs-number">1</span>):<br>f[l] = <span class="hljs-built_in">max</span>(f[l], f[l - w[i]] + v[i])<br></code></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½ä¿è¯<code>f[i][j]</code>æ€»æ˜¯åœ¨<code>f[i][j - w[i]]</code>ä¹‹å‰æ›´æ–°äº†ã€‚<br>è‡³æ­¤ï¼Œ01èƒŒåŒ…é—®é¢˜å°±è§£å†³å®Œæ¯•äº†ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1779. æ‰¾åˆ°æœ€è¿‘çš„æœ‰ç›¸åŒ X æˆ– Y åæ ‡çš„ç‚¹</title>
    <link href="/2022/12/01/leetcode-1779/"/>
    <url>/2022/12/01/leetcode-1779/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1779_1.jpg" alt="1779"></p><h1>æ€è·¯åŠå®ç°</h1><p>å‘ƒï¼Œrating 1200çš„é¢˜ç›®ï¼Œå°±ä¸ç”¨å¤šè®²äº†å§ï¼Œéå†<code>points</code>åˆ—è¡¨ï¼Œå¦‚æœ<code>x</code>æˆ–è€…<code>y</code>åæ ‡ç›¸åŒçš„è¯ï¼Œå°±è®¡ç®—æ›¼å“ˆé¡¿è·ç¦»ï¼Œç„¶åç»´æŠ¤æœ€å°æ›¼å“ˆé¡¿è·ç¦»<code>mht_dis</code>å’Œè®¡ç®—å¾—å‡ºè¿™ä¸ªè·ç¦»çš„ç´¢å¼•<code>index</code>å°±okäº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">nearestValidPoint</span>(<span class="hljs-params">self, x: <span class="hljs-built_in">int</span>, y: <span class="hljs-built_in">int</span>, points: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        mht_dis = math.inf<br>        index = -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> i, p <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(points):<br>            <span class="hljs-keyword">if</span> x == p[<span class="hljs-number">0</span>] <span class="hljs-keyword">or</span> y == p[<span class="hljs-number">1</span>]:<br>                tmp_mht_dis = <span class="hljs-built_in">abs</span>(x - p[<span class="hljs-number">0</span>]) + <span class="hljs-built_in">abs</span>(y - p[<span class="hljs-number">1</span>])<br>                <span class="hljs-keyword">if</span> tmp_mht_dis &lt; mht_dis:<br>                    index = i<br>                    mht_dis = tmp_mht_dis<br>        <span class="hljs-keyword">return</span> index<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>æ•°ç»„</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-895. æœ€å¤§é¢‘ç‡æ ˆ</title>
    <link href="/2022/11/30/leetcode-895/"/>
    <url>/2022/11/30/leetcode-895/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_895_1.png" alt="895"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="å€ŸåŠ©Counterç±»åŠå…¶æ–¹æ³•">å€ŸåŠ©Counterç±»åŠå…¶æ–¹æ³•</h2><p>è¿™æ˜¯æˆ‘ä¸€å¼€å§‹æƒ³åˆ°çš„æ€è·¯ï¼Œæ¯•ç«Ÿæ˜¯pythonï¼Œèƒ½å€Ÿå°±å€Ÿå˜›ã€‚<code>Counter</code>å°±èƒ½å¤Ÿç»Ÿè®¡æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œè€Œ<code>most_common</code>æ–¹æ³•åˆèƒ½å¤ŸæŠŠé¢‘ç‡æœ€é«˜çš„æ‰¾å‡ºæ¥ï¼Œè¿™ä¸å°±æ˜¾è€Œæ˜“è§å‡ºç­”æ¡ˆäº†å˜›~</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FreqStack</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.stack = <span class="hljs-built_in">list</span>()  <span class="hljs-comment"># æ ˆ</span><br>        self.cnt = Counter()  <span class="hljs-comment"># ä¿å­˜å‡ºç°é¢‘ç‡</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">self, val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        self.stack.append(val)<br>        self.cnt[val] += <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pop</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        tmp_list = self.cnt.most_common()<br>        num_list = []<br>        frequecy = tmp_list[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> tmp_list:  <span class="hljs-comment"># æ‰¾å‡ºæ‰€æœ‰é¢‘ç‡ç›¸åŒçš„æ•°</span><br>            <span class="hljs-keyword">if</span> t[<span class="hljs-number">1</span>] == frequecy:<br>                num_list.append(t[<span class="hljs-number">0</span>])<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.stack) - <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">if</span> self.stack[i] <span class="hljs-keyword">in</span> num_list:<br>                self.cnt[self.stack[i]] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">return</span> self.stack.pop(i)<br></code></pre></td></tr></table></figure><p>OKï¼Œè¶…æ—¶äº†ï¼Œå¾ˆç¬¦åˆæˆ‘å¯¹å·æ‡’ä¸‹åœºçš„æƒ³è±¡ã€‚é‚£å°±åªå¥½å¦èµ·ç‚‰ç¶äº†ã€‚</p><h2 id="ä¾æ—§å€ŸåŠ©Counterç±»ï¼Œä½†æ˜¯åˆ©ç”¨é¢‘ç‡æ ˆ">ä¾æ—§å€ŸåŠ©Counterç±»ï¼Œä½†æ˜¯åˆ©ç”¨é¢‘ç‡æ ˆ</h2><p>æ€è·¯æ¥æºï¼š<a href="https://leetcode.cn/problems/maximum-frequency-stack/solutions/1998430/mei-xiang-ming-bai-yi-ge-dong-hua-miao-d-oich/">çµç¥</a><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_895_2.jpg" alt="895"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FreqStack</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.stacks: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]] = <span class="hljs-built_in">list</span>()  <span class="hljs-comment"># é¢‘ç‡æ ˆçš„åˆ—è¡¨</span><br>        self.cnt: Counter = Counter()  <span class="hljs-comment"># ä¿å­˜å‡ºç°é¢‘ç‡</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">self, val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">if</span> self.cnt[val] == <span class="hljs-built_in">len</span>(self.stacks):  <span class="hljs-comment"># å‡ºç°æ–°çš„æœ€å¤§é¢‘ç‡ï¼Œæ–°å»ºé¢‘ç‡æ ˆ</span><br>            self.stacks.append([val])<br>        <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># å·²æœ‰è¿™ç§é¢‘ç‡çš„é¢‘ç‡æ ˆï¼Œç›´æ¥åŠ å…¥</span><br>            self.stacks[self.cnt[val]].append(val)<br>        self.cnt[val] += <span class="hljs-number">1</span>  <span class="hljs-comment"># æœ€åæ›´æ–°é¢‘ç‡ï¼Œå°±èƒ½é¿å…1å¯¹ä¸Š0çš„æƒ…å†µ</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pop</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        val = self.stacks[-<span class="hljs-number">1</span>].pop()  <span class="hljs-comment"># å–æœ€é«˜é¢‘ç‡æ ˆæ ˆé¡¶çš„æ•°</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.stacks[-<span class="hljs-number">1</span>]:  <span class="hljs-comment"># æœ€é«˜é¢‘ç‡æ ˆç©ºäº†ï¼Œå…ˆåˆ æ‰ï¼Œä¸‹æ¬¡æœ‰æ•°å†åˆ›å»ºå›æ¥ï¼Œé˜²æ­¢ç©ºæ“ä½œ</span><br>            self.stacks.pop()<br>        self.cnt[val] -= <span class="hljs-number">1</span>  <span class="hljs-comment"># æ›´æ–°é¢‘ç‡</span><br>        <span class="hljs-keyword">return</span> val<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>æ ˆ</tag>
      
      <tag>å“ˆå¸Œè¡¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-813. æœ€å¤§å¹³å‡å€¼å’Œçš„åˆ†ç»„</title>
    <link href="/2022/11/29/leetcode-813/"/>
    <url>/2022/11/29/leetcode-813/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_813_1.png" alt="813"></p><h1>æ€è·¯åŠå®ç°</h1><p>dpé—®é¢˜ï¼Œå•Šï¼Œä¸€å®šè¦å¥½å¥½ä»å…¥é—¨åšèµ·ï¼Œå•Šï¼Œä¸è¦ä¸Šæ¥å°±çœ‹è¿™ç§çœ‹åŠå¤©éƒ½æ²¡ç‚¹æƒ³æ³•ï¼Œå•Šï¼Œå¯¹æ°´å¹³æå‡å¾ˆæ²¡å¸®åŠ©ï¼Œå•Šï¼Œå°±æ˜¯æˆ‘ï¼Œå•Š(æ‚²<br>ä¸è¿‡å¥½åœ¨èµ·ç æ˜¯èƒ½çœ‹æ‡‚åˆ«äººçš„æ€è·¯çš„(<br>è¿™è¾¹å­¦åˆ°äº†ä¸¤ç§æ€è·¯ï¼Œä¸€ç§æ˜¯å‰ç¼€å’Œ+æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œå¦ä¸€ç§æ˜¯å‰ç¼€å’Œ+åŠ¨æ€è§„åˆ’ã€‚</p><h2 id="å‰ç¼€å’Œ-åŠ¨æ€è§„åˆ’">å‰ç¼€å’Œ+åŠ¨æ€è§„åˆ’</h2><p>æ€è·¯å‚è€ƒï¼š<a href="https://leetcode.cn/problems/largest-sum-of-averages/solutions/1993132/zui-da-ping-jun-zhi-he-de-fen-zu-by-leet-09xt/">å®˜è§£</a><br>å› ä¸ºæœ¬é¢˜éœ€è¦ç”¨åˆ°å¹³å‡å€¼ï¼Œä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„<code>prefix</code>å…ˆæŠŠå‰ç¼€å’Œä¿å­˜èµ·æ¥ã€‚<br>ç„¶åæ€è€ƒåŠ¨æ€è§„åˆ’ç”¨åˆ°çš„æ•°ç»„<code>dp[i][j]</code>å¦‚ä½•è®¾è®¡ï¼Œä»¥åŠå†™å‡ºè½¬ç§»æ–¹ç¨‹ã€‚è¦æ‰¾å‡ºç»™å®šæ•°ç»„çš„æœ€å¤§åˆ†æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ‰¾æ›´å°æ•°ç»„ä¸­çš„æœ€å¤§åˆ†æ•°ï¼Œé‚£å°±è®©<code>i</code>è¡¨ç¤ºå‰<code>nums</code>ä¸­çš„å‰<code>i</code>ä¸ªï¼ˆä¸åŒ…æ‹¬<code>i</code>ï¼‰å…ƒç´ ï¼Œ<code>j</code>è¡¨ç¤ºåˆ‡åˆ†çš„å­æ•°ç»„æ•°ï¼Œé‚£ä¹ˆ<code>dp[i][j]</code>çš„æ„æ€å°±æ˜¯<code>nums</code>ä½¿ç”¨å‰<code>i</code>ä¸ªï¼ˆä¸åŒ…æ‹¬ç¬¬<code>i</code>ä¸ªï¼‰å…ƒç´ å¹¶åˆ‡åˆ†æˆ<code>j</code>ä¸ªå­æ•°ç»„çš„æœ€å¤§å¹³å‡å€¼å’Œã€‚<br>æ¥ç€æ‰¾å‡ºä¸€èˆ¬æƒ…å†µå’Œç‰¹æ®Šæƒ…å†µï¼Œæ ¹æ®è¿™äº›æƒ…å†µå°±èƒ½å¤Ÿå†™å‡ºè½¬ç§»æ–¹ç¨‹äº†ï¼š</p><ul><li>ç‰¹æ®Šæƒ…å†µï¼šå½“<code>j = 1</code>æ—¶ï¼Œ<code>dp[i][j]</code>çš„å€¼å°±æ˜¯å‰<code>i</code>ä¸ªå…ƒç´ çš„å¹³å‡å€¼ã€‚</li><li>ä¸€èˆ¬æƒ…å†µï¼šå½“<code>j &gt; 1</code>æ—¶ï¼Œå°±åˆ©ç”¨æšä¸¾ï¼Œä»ç¬¬<code>x = j - 1</code>ä¸ªå…ƒç´ å¼€å§‹ï¼ˆå› ä¸ºæœ€å°åˆ†ç»„ä¸èƒ½ä¸ºç©ºï¼Œè‡³å°‘éœ€è¦ä¸€ä¸ªå…ƒç´ ï¼‰åˆ°<code>i - 1</code>ï¼Œå°†<code>dp[i][j]</code>åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œ<code>[0, x - 1]</code>å’Œ<code>[x, i - 1]</code>ï¼Œæ¯”è¾ƒå½“å‰<code>dp[i][j]</code>å’Œ<code>dp[x][j - 1] + (prefix[i] - prefix[x]) / (i- x)</code>çš„å€¼å“ªä¸ªæ›´å¤§ï¼Œç”¨å¤§çš„å€¼æ›´æ–°<code>dp[i][j]</code>ã€‚<br>æœ€åå†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_813_dp.jpg" alt="813_dp"></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">largestSumOfAverages</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:<br>        prefix = [<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">for</span> index, num <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(nums):<br>            prefix.append(prefix[index] + num)  <span class="hljs-comment"># è®¡ç®—å‰ç¼€å’Œ</span><br>        dp = [[<span class="hljs-number">0.0</span>] * (k + <span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums) + <span class="hljs-number">1</span>)]  <span class="hljs-comment"># åˆå§‹åŒ–dpæ•°ç»„</span><br>        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(nums) + <span class="hljs-number">1</span>):  <span class="hljs-comment"># å¤„ç†j = 1çš„æƒ…å†µ</span><br>            dp[index][<span class="hljs-number">1</span>] = prefix[index] / index<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, k + <span class="hljs-number">1</span>):  <span class="hljs-comment"># å¤„ç†j &gt; 1çš„æƒ…å†µ</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(j, <span class="hljs-built_in">len</span>(nums) + <span class="hljs-number">1</span>):<br>                <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(j - <span class="hljs-number">1</span>, i):<br>                    dp[i][j] = <span class="hljs-built_in">max</span>(dp[i][j], dp[x][j - <span class="hljs-number">1</span>] + (prefix[i] - prefix[x]) / (i - x))<br>        <span class="hljs-keyword">return</span> dp[<span class="hljs-built_in">len</span>(nums)][k]<br></code></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> <span class="hljs-title">LargestSumOfAverages</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>[] nums, <span class="hljs-built_in">int</span> k</span>)</span><br>        &#123;<br>            <span class="hljs-built_in">int</span> n = nums.Length;<br>            <span class="hljs-built_in">double</span>[] prefix = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[n + <span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>            &#123;<br>                prefix[i + <span class="hljs-number">1</span>] = prefix[i] + nums[i];<br>            &#125;<br>            <span class="hljs-built_in">double</span>[][] dp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[n + <span class="hljs-number">1</span>][];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; i++)<br>            &#123;<br>                dp[i] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[k + <span class="hljs-number">1</span>];<br>            &#125;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>            &#123;<br>                dp[i][<span class="hljs-number">1</span>] = prefix[i] / i;<br>            &#125;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = <span class="hljs-number">2</span>; j &lt;= k; j++)<br>            &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = j; i &lt;= n; i++)<br>                &#123;<br>                    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> x = j - <span class="hljs-number">1</span>; x &lt; i; x++)<br>                    &#123;<br>                        dp[i][j] = Math.Max(dp[i][j], dp[x][j - <span class="hljs-number">1</span>] + (prefix[i] - prefix[x]) / (i - x));<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">return</span> dp[n][k];<br>        &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å‰ç¼€å’Œ-æ·±åº¦ä¼˜å…ˆæœç´¢">å‰ç¼€å’Œ+æ·±åº¦ä¼˜å…ˆæœç´¢</h2><p>æ€è·¯å‚è€ƒï¼š<a href="https://leetcode.cn/problems/largest-sum-of-averages/solutions/1995066/by-lcbin-5efy/">ylb</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">largestSumOfAverages</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:<br><span class="hljs-meta">        @cache</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">i, k</span>):<br>            <span class="hljs-keyword">if</span> i == n:<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">if</span> k == <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">return</span> (s[-<span class="hljs-number">1</span>] - s[i]) / (n - i)<br>            ans = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i, n):<br>                t = (s[j + <span class="hljs-number">1</span>] - s[i]) / (j - i + <span class="hljs-number">1</span>) + dfs(j + <span class="hljs-number">1</span>, k + <span class="hljs-number">1</span>)<br>                ans = <span class="hljs-built_in">max</span>(ans, t)<br>            <span class="hljs-keyword">return</span> ans<br><br>        n = <span class="hljs-built_in">len</span>(nums)<br>        s = <span class="hljs-built_in">list</span>(accumulate(nums, initial = <span class="hljs-number">0</span>))<br>        <span class="hljs-keyword">return</span> dfs(<span class="hljs-number">0</span>, k)<br></code></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs C#"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span>[,] f;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span>[] s;<br>    <span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> n;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> <span class="hljs-title">LargestSumOfAverages</span>(<span class="hljs-params"><span class="hljs-built_in">int</span>[] nums, <span class="hljs-built_in">int</span> k</span>)</span><br>        &#123;<br>            n = nums.Length;<br>            s = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[n + <span class="hljs-number">1</span>];<br>            f = <span class="hljs-keyword">new</span> <span class="hljs-built_in">double</span>[n + <span class="hljs-number">1</span>, k + <span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>            &#123;<br>                s[i + <span class="hljs-number">1</span>] = s[i] + nums[i];<br>            &#125;<br>            <span class="hljs-keyword">return</span> dfs(<span class="hljs-number">0</span>, k);<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span> <span class="hljs-title">dfs</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> i, <span class="hljs-built_in">int</span> k</span>)</span><br>        &#123;<br>            <span class="hljs-keyword">if</span> (i == n)<br>            &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (k == <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">return</span> (s[n] - s[i]) * <span class="hljs-number">1.0</span> / (n - i);<br>            &#125;<br>            <span class="hljs-keyword">if</span> (f[i, k] != <span class="hljs-number">0</span>)<br>            &#123;<br>                <span class="hljs-keyword">return</span> f[i, k];<br>            &#125;<br>            <span class="hljs-built_in">double</span> ans = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> j = i; j &lt; n; ++j)<br>            &#123;<br>                <span class="hljs-built_in">double</span> t = (s[j + <span class="hljs-number">1</span>] - s[i]) * <span class="hljs-number">1.0</span> / (j - i + <span class="hljs-number">1</span>) + dfs(j + <span class="hljs-number">1</span>, k - <span class="hljs-number">1</span>);<br>                ans = Math.Max(ans, t);<br>            &#125;<br>            <span class="hljs-keyword">return</span> f[i, k] = ans;<br>        &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1>åƒåœ¾è¯</h1><p>æ€ä¹ˆæœ‰äººæ¬ é¢˜ç›®æ¬ äº†ä¸‰ä¸ªæœˆçš„å•Šï¼Ÿå°±enâ¬†æ‘†æ˜¯å§ï¼Ÿ<br>ç§å¯†é©¬èµ›çº¢è±†æ³¥ç§å¯†é©¬èµ›(90Â°é èº¬*n</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>å‰ç¼€å’Œ</tag>
      
      <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1758. ç”Ÿæˆäº¤æ›¿äºŒè¿›åˆ¶å­—ç¬¦ä¸²çš„æœ€å°‘æ“ä½œæ•°</title>
    <link href="/2022/11/29/leetcode-1758/"/>
    <url>/2022/11/29/leetcode-1758/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1758_1.png" alt="1758"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="åœŸæ–¹æ³•éå†">åœŸæ–¹æ³•éå†</h2><p>ä¸æƒ³æ€è€ƒï¼Ÿé‚£å°±éå†å§ã€‚è®¾ç½®ä¸¤ä¸ªboolå˜é‡å’Œä¸¤ä¸ªè®¡æ•°å˜é‡ï¼Œé‡åˆ°éœ€è¦ä¿®æ”¹çš„åœ°æ–¹è®¡æ•°åŠ ä¸€ï¼Œæœ€åè¿”å›å°çš„é‚£ä¸ªå°±å¥½äº†ã€‚<br>è¿™é‡Œä¸¤ä¸ªboolå˜é‡åˆ†åˆ«å¯¹åº”<code>01</code>å’Œ<code>10</code>çš„æƒ…å†µï¼Œæ¯å¾ªç¯ä¸€æ¬¡éƒ½ä¿®æ”¹ä¸€æ¬¡å°±èƒ½è¾¾åˆ°ç›®çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minOperations</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        flag_a = <span class="hljs-literal">False</span><br>        flag_b = <span class="hljs-literal">True</span><br>        cnt_a = <span class="hljs-number">0</span><br>        cnt_b = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s:<br>            <span class="hljs-keyword">if</span> flag_a == <span class="hljs-built_in">int</span>(c):<br>                cnt_a += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> flag_b == <span class="hljs-built_in">int</span>(c):<br>                cnt_b += <span class="hljs-number">1</span><br>            flag_a = <span class="hljs-keyword">not</span> flag_a<br>            flag_b = <span class="hljs-keyword">not</span> flag_b<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(cnt_a, cnt_b)<br></code></pre></td></tr></table></figure><h2 id="æ‰¾è§„å¾‹">æ‰¾è§„å¾‹</h2><p>è¿™ä¸éƒ½çŸ¥é“å­—ç¬¦ä¸²æœ€åæ— ééƒ½ä¼šå˜æˆ<code>0101...</code>å’Œ<code>1010...</code>çš„æƒ…å†µäº†å˜›ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ªçŸ¥é“ï¼Œå¦‚æœå…¶ä¸­ä¸€ç§æƒ…å†µéœ€è¦æ”¹å˜çš„æ¬¡æ•°ä¸º<code>cnt_a</code>ï¼Œé‚£ä¹ˆå¦å¤–ä¸€ç§æƒ…å†µéœ€è¦æ”¹å˜çš„æ¬¡æ•°å°±æ˜¯<code>cnt_b = len(s) - cnt_a</code>ï¼Œè¿™æ ·å°±èƒ½é™ä½ç‚¹å¤æ‚åº¦ã€‚<br>æˆ‘ä»¬åˆèƒ½çŸ¥é“ï¼Œ<code>0</code>å’Œ<code>1</code>æ— éå°±æ˜¯å¥‡æ•°å’Œå¶æ•°ï¼Œæ ¹æ®éå†æ—¶å€™çš„æ¯ä¸€ä½ç´¢å¼•ä½™<code>2</code>çš„ç»“æœæ¥äº§ç”Ÿ<code>0</code>å’Œ<code>1</code>åˆå¯ä»¥é™ä½ä¸€ç‚¹å¤æ‚åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minOperations</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        cnt = <span class="hljs-number">0</span><br>        n = <span class="hljs-built_in">len</span>(s)<br>        <span class="hljs-keyword">for</span> i, c <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(s):<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">int</span>(c) != i % <span class="hljs-number">2</span>:<br>                cnt += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(cnt, n - cnt)<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-878. ç¬¬ N ä¸ªç¥å¥‡æ•°å­—</title>
    <link href="/2022/11/27/leetcode-878/"/>
    <url>/2022/11/27/leetcode-878/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_878_1.png" alt="878"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="æ‰¾è§„å¾‹">æ‰¾è§„å¾‹</h2><p>çœ‹åˆ°è¿™ç§å’Œæ•°å­¦æ²¾ç‚¹å…³ç³»çš„æˆ‘å°±å–œæ¬¢å—¯æ‰¾è§„å¾‹ï¼Œå¤šä¸¾å‡ ä¸ªä¾‹å­å†è¿›è¡Œæ•°å­¦å½’çº³ï¼Œç›´æ¥æ‹¿ä¸‹ï¼<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_878_2.png" alt="è§„å¾‹"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">nthMagicalNumber</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        MOD = <span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span><br>        c = lcm(a, b)<br>        m = c // a + c // b - <span class="hljs-number">1</span><br>        r = n % m<br>        res = c * (n // m) % MOD<br>        <span class="hljs-keyword">if</span> r == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> res<br>        addA = a<br>        addB = b<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(r - <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">if</span> addA &lt; addB:<br>                addA += a<br>            <span class="hljs-keyword">else</span>:<br>                addB += b<br>        <span class="hljs-keyword">return</span> (res + <span class="hljs-built_in">min</span>(addA, addB) % MOD) % MOD<br></code></pre></td></tr></table></figure><h2 id="äºŒåˆ†æŸ¥æ‰¾">äºŒåˆ†æŸ¥æ‰¾</h2><p>è¿™ä¸ªäºŒåˆ†ç¡®å®ä¸çœ‹é¢˜è§£æ²¡æƒ³è¿‡ï¼Œæ¦†æœ¨è„‘è¢‹æ˜¯è¿™æ ·çš„å‘œå‘œ<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_878_3.png" alt="äºŒåˆ†æŸ¥æ‰¾"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">nthMagicalNumber</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        MOD = <span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span><br>        l = <span class="hljs-built_in">min</span>(a, b)<br>        r = n * <span class="hljs-built_in">min</span>(a, b)<br>        c = lcm(a, b)<br>        <span class="hljs-keyword">while</span> l &lt;= r:<br>            mid = (l + r) // <span class="hljs-number">2</span><br>            cnt = mid // a + mid // b - mid // c<br>            <span class="hljs-keyword">if</span> cnt &gt;= n:<br>                r = mid - <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                l = mid + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> (r + <span class="hljs-number">1</span>) % MOD<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>æ•°å­¦</tag>
      
      <tag>äºŒåˆ†æŸ¥æ‰¾</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1752. æ£€æŸ¥æ•°ç»„æ˜¯å¦ç»æ’åºå’Œè½®è½¬å¾—åˆ°</title>
    <link href="/2022/11/27/leetcode-1752/"/>
    <url>/2022/11/27/leetcode-1752/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1752_1.png" alt="1752"></p><h1>æ€è·¯åŠå®ç°</h1><p>é¢˜ç›®çš„æ„æ€å…¶å®å°±æ˜¯ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åå¦‚æœè¿™ä¸ªæ•°ç»„ä¸æ˜¯å®Œå…¨å•è°ƒé€’å¢çš„è¯ï¼Œæ‰¾åˆ°ä¸èƒ½å¤Ÿå•è°ƒé€’å¢çš„åœ°æ–¹ï¼Œç„¶åä»è¿™ä¸ªåœ°æ–¹å¼€å§‹ä¸€ç›´åˆ°æœ€åçš„éƒ¨åˆ†æ¬åˆ°æœ€å‰è¾¹å»ï¼Œåˆ¤æ–­è¿™æ ·æ–°äº§ç”Ÿçš„æ•°ç»„æ˜¯å¦æ˜¯å•è°ƒé€’å¢çš„ã€‚<br>æ‰€ä»¥æ€è·¯ä¹Ÿååˆ†ç®€å•ï¼š</p><ol><li>æ‰¾åˆ°éœ€è¦è¿›è¡Œåˆ†å‰²çš„ä½ç½®</li><li>å¯¹æ•°ç»„è¿›è¡Œé‡ç»„</li><li>å°†é‡ç»„æ•°ç»„ä¸æ’åºåçš„æ•°ç»„è¿›è¡Œæ¯”è¾ƒ<br>æ ¹æ®è¿™ä¸ªæ€è·¯å¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        pre_num = <span class="hljs-number">0</span><br>        div_pos = -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> i, num <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(nums):<br>            <span class="hljs-keyword">if</span> num &lt; pre_num:<br>                div_pos = i<br>                <span class="hljs-keyword">break</span><br>            pre_num = num<br>        <span class="hljs-keyword">if</span> div_pos == -<span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> nums[div_pos:] + nums[:div_pos] == <span class="hljs-built_in">sorted</span>(nums)<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨<code>flag</code>åˆ¤æ–­äº§ç”Ÿå¤šå°‘æ¬¡é€’å‡æ¥åšï¼š</p><ol><li>å¦‚æœäº§ç”Ÿä¸¤æ¬¡é€’å‡ï¼Œè¿”å›False</li><li>å¦‚æœæ²¡æœ‰äº§ç”Ÿé€’å‡ï¼Œè¿”å›True</li><li>å¦‚æœäº§ç”Ÿä¸€æ¬¡é€’å‡ï¼Œè‹¥æ•°ç»„æœ€åä¸€ä½æ•°å¤§äºæ•°ç»„ç¬¬ä¸€ä½æ•°åˆ™è¿”å›Falseï¼Œå¦åˆ™True</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">check</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        pre_num = <span class="hljs-number">0</span><br>        flag = <span class="hljs-literal">False</span>  <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦å‡ºç°é€’å‡</span><br>        <span class="hljs-keyword">for</span> i, num <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(nums):<br>            <span class="hljs-keyword">if</span> num &lt; pre_num:<br>                <span class="hljs-keyword">if</span> flag:<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>                <span class="hljs-keyword">else</span>:<br>                    flag = <span class="hljs-literal">True</span><br>            pre_num = num<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">not</span> flag <span class="hljs-keyword">or</span> flag <span class="hljs-keyword">and</span> nums[<span class="hljs-number">0</span>] &gt;= nums[-<span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>[object Object]</tag>
      
      <tag>Solution</tag>
      
      <tag>æ•°ç»„</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1742. ç›’å­ä¸­å°çƒçš„æœ€å¤§æ•°é‡</title>
    <link href="/2022/11/27/leetcode-1742/"/>
    <url>/2022/11/27/leetcode-1742/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1742_1.png" alt="1742"></p><h1>æ€è·¯åŠå®ç°</h1><p>æ—¢ç„¶ç›’å­çš„ç¼–å·ç­‰äºå°çƒç¼–å·ä¸Šæ¯ä½æ•°å­—çš„å’Œï¼Œè€Œä¸”æˆ‘ä»¬éœ€è¦è®°ä½æ¯ä¸ªç›’å­é‡Œè¾¹çš„å°çƒæ•°é‡ï¼Œé‚£å°±ç”¨<code>dict</code>å§ï¼›<br>ç›¸ä¿¡æ±‚ä¸€ä¸ªæ•°å­—æ¯ä½ä¸Šçš„å’Œå¯¹æ¯ä½ç¨‹åºå‘˜æ¥è¯´æ˜¯å†ç†Ÿæ‚‰ä¸è¿‡çš„äº†ï¼Œé‚£è¿™é¢˜çš„ä»£ç è‡ªç„¶ä¸€ä¸‹å°±å‡ºæ¥äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countBalls</span>(<span class="hljs-params">self, lowLimit: <span class="hljs-built_in">int</span>, highLimit: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ans = <span class="hljs-number">0</span><br>        boxes = <span class="hljs-built_in">dict</span>()<br>        num = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> ball <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(lowLimit, highLimit + <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">while</span> ball != <span class="hljs-number">0</span>:<br>                num += ball % <span class="hljs-number">10</span><br>                ball = ball // <span class="hljs-number">10</span><br>            <span class="hljs-keyword">if</span> num <span class="hljs-keyword">in</span> boxes:<br>                boxes[num] = boxes[num] + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                boxes[num] = <span class="hljs-number">1</span><br>            ans = <span class="hljs-built_in">max</span>(boxes[num], ans)<br>            num = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>PSï¼šè¿™é¢˜è¿˜èƒ½æ‰¾è§„å¾‹ï¼Œçœ‹äº†ä¸‹â€œçˆªå“‡ç¼ªæ–¯â€çš„é¢˜è§£ï¼Œç‰›è›™ï¼<strong>Bçƒæ‰€åœ¨ç®±å­ç¼–å· = Açƒæ‰€åœ¨ç®±å­ç¼–å· - ï¼ˆ9 * [æœ«å°¾9çš„ä¸ªæ•°]ï¼‰+ 1</strong>ï¼ŒBçƒå°±æ˜¯è·Ÿåœ¨Açƒåé¢çš„ç¬¬ä¸€ä¸ªçƒï¼Œæ¯”å¦‚<code>2</code>æ˜¯Bçƒé‚£<code>1</code>å°±æ˜¯Açƒã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å“ˆå¸Œè¡¨</tag>
      
      <tag>æ•°å­¦</tag>
      
      <tag>è®¡æ•°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å­¦ä¹ Vueæ—¶å€™éšæ‰‹å†™çš„ä¸œè¥¿-2</title>
    <link href="/2022/11/23/vue-learning-2/"/>
    <url>/2022/11/23/vue-learning-2/</url>
    
    <content type="html"><![CDATA[<h1>äº‹ä»¶ç»‘å®š</h1><h2 id="äº‹ä»¶ä¿®é¥°ç¬¦">äº‹ä»¶ä¿®é¥°ç¬¦</h2><p>ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼ŒVue ä¸º<code>v-on</code>æä¾›äº†äº‹ä»¶ä¿®é¥°ç¬¦ã€‚ä¿®é¥°ç¬¦æ˜¯ç”¨<code>.</code>è¡¨ç¤ºçš„æŒ‡ä»¤åç¼€ï¼ŒåŒ…å«ä»¥ä¸‹è¿™äº›ï¼š</p><ul><li><code>.stop</code>  // <code>event.stopPropagation()</code></li><li><code>.prevent</code>  // <code>event.preventDefault()</code></li><li><code>.self</code></li><li><code>.capture</code></li><li><code>.once</code></li><li><code>.passive</code></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å•å‡»äº‹ä»¶å°†åœæ­¢ä¼ é€’ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> @<span class="hljs-attr">click.stop</span>=<span class="hljs-string">&quot;doThis&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- æäº¤äº‹ä»¶å°†ä¸å†é‡æ–°åŠ è½½é¡µé¢ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> @<span class="hljs-attr">submit.prevent</span>=<span class="hljs-string">&quot;onSubmit&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- ä¿®é¥°è¯­å¯ä»¥ä½¿ç”¨é“¾å¼ä¹¦å†™ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> @<span class="hljs-attr">click.stop.prevent</span>=<span class="hljs-string">&quot;doThat&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- ä¹Ÿå¯ä»¥åªæœ‰ä¿®é¥°ç¬¦ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> @<span class="hljs-attr">submit.prevent</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- ä»…å½“ event.target æ˜¯å…ƒç´ æœ¬èº«æ—¶æ‰ä¼šè§¦å‘äº‹ä»¶å¤„ç†å™¨ --&gt;</span><br><span class="hljs-comment">&lt;!-- ä¾‹å¦‚ï¼šäº‹ä»¶å¤„ç†å™¨ä¸æ¥è‡ªå­å…ƒç´  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">click.self</span>=<span class="hljs-string">&quot;doThat&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br></code></pre></td></tr></table></figure><div class="note note-warning">            <p>ä½¿ç”¨ä¿®é¥°ç¬¦æ—¶éœ€è¦æ³¨æ„è°ƒç”¨é¡ºåºï¼Œå› ä¸ºç›¸å…³ä»£ç æ˜¯ä»¥ç›¸åŒçš„é¡ºåºç”Ÿæˆçš„ã€‚<br>å› æ­¤ä½¿ç”¨<code>@click.prevent.self</code>ä¼šé˜»æ­¢å…ƒç´ åŠå…¶å­å…ƒç´ çš„æ‰€æœ‰ç‚¹å‡»äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºè€Œ<code>@click.self.prevent</code>åˆ™åªä¼šé˜»æ­¢å¯¹å…ƒç´ æœ¬èº«çš„ç‚¹å‡»äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚</p>          </div><p><code>.capture</code>ã€<code>.once</code>å’Œ<code>.passive</code>ä¿®é¥°ç¬¦ä¸åŸç”Ÿ<code>addEventListener</code>äº‹ä»¶ç›¸å¯¹åº”ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ï¼Œä½¿ç”¨ `capture` æ•è·æ¨¡å¼ --&gt;</span><br><span class="hljs-comment">&lt;!-- ä¾‹å¦‚ï¼šæŒ‡å‘å†…éƒ¨å…ƒç´ çš„äº‹ä»¶ï¼Œåœ¨è¢«å†…éƒ¨å…ƒç´ å¤„ç†å‰ï¼Œå…ˆè¢«å¤–éƒ¨å¤„ç† --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">click.capture</span>=<span class="hljs-string">&quot;doThis&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- ç‚¹å‡»äº‹ä»¶æœ€å¤šè¢«è§¦å‘ä¸€æ¬¡ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> @<span class="hljs-attr">click.once</span>=<span class="hljs-string">&quot;doThis&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- æ»šåŠ¨äº‹ä»¶çš„é»˜è®¤è¡Œä¸º (scrolling) å°†ç«‹å³å‘ç”Ÿè€Œéç­‰å¾… `onScroll` å®Œæˆ --&gt;</span><br><span class="hljs-comment">&lt;!-- ä»¥é˜²å…¶ä¸­åŒ…å« `event.preventDefault()` --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> @<span class="hljs-attr">scroll.passive</span>=<span class="hljs-string">&quot;onScroll&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p><code>.passive</code>ä¿®é¥°ç¬¦ä¸€èˆ¬ç”¨äºè§¦æ‘¸äº‹ä»¶çš„ç›‘å¬å™¨ï¼Œå¯ä»¥ç”¨æ¥æ”¹å–„ç§»åŠ¨ç«¯è®¾å¤‡çš„æ»šå±æ€§èƒ½ã€‚</p><div class="note note-warning">            <p>è¯·å‹¿åŒæ—¶ä½¿ç”¨<code>.passive</code>å’Œ<code>.prevent</code>ï¼Œå› ä¸º<code>.passive</code>å·²ç»å‘æµè§ˆå™¨è¡¨æ˜äº†ä½ ä¸æƒ³é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºã€‚<br>å¦‚æœä½ è¿™ä¹ˆåšäº†ï¼Œåˆ™<code>.prevent</code>ä¼šè¢«å¿½ç•¥ï¼Œå¹¶ä¸”æµè§ˆå™¨ä¼šæŠ›å‡ºè­¦å‘Šã€‚</p>          </div><h2 id="æŒ‰é”®ä¿®é¥°ç¬¦">æŒ‰é”®ä¿®é¥°ç¬¦</h2><p>åœ¨ç›‘å¬é”®ç›˜äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦æ£€æŸ¥ç‰¹å®šçš„æŒ‰é”®ã€‚Vueå…è®¸åœ¨<code>v-on</code>æˆ–<code>@</code>ç›‘å¬æŒ‰é”®äº‹ä»¶æ—¶æ·»åŠ æŒ‰é”®ä¿®é¥°ç¬¦ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- ä»…åœ¨ `key` ä¸º `Enter` æ—¶è°ƒç”¨ `submit` --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">&quot;submit&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> @<span class="hljs-attr">keyup.page-down</span>=<span class="hljs-string">&quot;onPageDown&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>Vue ä¸ºä¸€äº›å¸¸ç”¨çš„æŒ‰é”®æä¾›äº†åˆ«åï¼š</p><ul><li><code>.enter</code></li><li><code>.tab</code></li><li><code>.delete</code> (æ•è·â€œDeleteâ€å’Œâ€œBackspaceâ€ä¸¤ä¸ªæŒ‰é”®)</li><li><code>.esc</code></li><li><code>.space</code></li><li><code>.up</code></li><li><code>.down</code></li><li><code>.left</code></li><li><code>.right</code><br>ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦æ¥è§¦å‘é¼ æ ‡æˆ–é”®ç›˜äº‹ä»¶ç›‘å¬å™¨ï¼Œåªæœ‰å½“æŒ‰é”®è¢«æŒ‰ä¸‹æ—¶æ‰ä¼šè§¦å‘ã€‚</li><li><code>.ctrl</code></li><li><code>.alt</code></li><li><code>.shift</code></li><li><code>.meta</code></li></ul><div class="note note-warning">            <p>è¯·æ³¨æ„ï¼Œç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦å’Œå¸¸è§„æŒ‰é”®ä¸åŒã€‚ä¸<code>keyup</code>äº‹ä»¶ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œè¯¥æŒ‰é”®å¿…é¡»åœ¨äº‹ä»¶å‘å‡ºæ—¶å¤„äºæŒ‰ä¸‹çŠ¶æ€ã€‚<br>æ¢å¥è¯è¯´ï¼Œ<code>keyup.ctrl</code>åªä¼šåœ¨ä½ ä»ç„¶æŒ‰ä½<code>ctrl</code>ä½†æ¾å¼€äº†å¦ä¸€ä¸ªé”®æ—¶è¢«è§¦å‘ã€‚è‹¥ä½ å•ç‹¬æ¾å¼€<code>ctrl</code>é”®å°†ä¸ä¼šè§¦å‘ã€‚</p>          </div><p><code>.exact</code>ä¿®é¥°ç¬¦å…è®¸æ§åˆ¶è§¦å‘ä¸€ä¸ªäº‹ä»¶æ‰€éœ€çš„ç¡®å®šç»„åˆçš„ç³»ç»ŸæŒ‰é”®ä¿®é¥°ç¬¦ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- å½“æŒ‰ä¸‹ Ctrl æ—¶ï¼Œå³ä½¿åŒæ—¶æŒ‰ä¸‹ Alt æˆ– Shift ä¹Ÿä¼šè§¦å‘ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.ctrl</span>=<span class="hljs-string">&quot;onClick&quot;</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- ä»…å½“æŒ‰ä¸‹ Ctrl ä¸”æœªæŒ‰ä»»ä½•å…¶ä»–é”®æ—¶æ‰ä¼šè§¦å‘ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.ctrl.exact</span>=<span class="hljs-string">&quot;onCtrlClick&quot;</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- ä»…å½“æ²¡æœ‰æŒ‰ä¸‹ä»»ä½•ç³»ç»ŸæŒ‰é”®æ—¶è§¦å‘ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.exact</span>=<span class="hljs-string">&quot;onClick&quot;</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure><h1>ä¾¦å¬å™¨</h1><h2 id="ä¾¦å¬æ•°æ®æºç±»å‹">ä¾¦å¬æ•°æ®æºç±»å‹</h2><p><code>watch</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸åŒå½¢å¼çš„â€œæ•°æ®æºâ€ï¼šå®ƒå¯ä»¥æ˜¯ä¸€ä¸ª ref (åŒ…æ‹¬è®¡ç®—å±æ€§)ã€ä¸€ä¸ªå“åº”å¼å¯¹è±¡ã€ä¸€ä¸ª<code>getter</code>å‡½æ•°ã€æˆ–å¤šä¸ªæ•°æ®æºç»„æˆçš„æ•°ç»„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">const</span> x = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)<br><span class="hljs-keyword">const</span> y = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)<br><br><span class="hljs-comment">// å•ä¸ª ref</span><br><span class="hljs-title function_">watch</span>(x, <span class="hljs-function">(<span class="hljs-params">newX</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`x is <span class="hljs-subst">$&#123;newX&#125;</span>`</span>)<br>&#125;)<br><br><span class="hljs-comment">// getter å‡½æ•°</span><br><span class="hljs-title function_">watch</span>(<br>  <span class="hljs-function">() =&gt;</span> x.<span class="hljs-property">value</span> + y.<span class="hljs-property">value</span>,<br>  <span class="hljs-function">(<span class="hljs-params">sum</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`sum of x + y is: <span class="hljs-subst">$&#123;sum&#125;</span>`</span>)<br>  &#125;<br>)<br><br><span class="hljs-comment">// å¤šä¸ªæ¥æºç»„æˆçš„æ•°ç»„</span><br><span class="hljs-title function_">watch</span>([x, <span class="hljs-function">() =&gt;</span> y.<span class="hljs-property">value</span>], <span class="hljs-function">(<span class="hljs-params">[newX, newY]</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`x is <span class="hljs-subst">$&#123;newX&#125;</span> and y is <span class="hljs-subst">$&#123;newY&#125;</span>`</span>)<br>&#125;)<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
      <tag>Vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å­¦ä¹ Vueæ—¶å€™éšæ‰‹å†™çš„ä¸œè¥¿-1</title>
    <link href="/2022/11/23/vue-learning-1/"/>
    <url>/2022/11/23/vue-learning-1/</url>
    
    <content type="html"><![CDATA[<h1>å“åº”å¼</h1><h2 id="ä½¿ç”¨reactive-åˆ›å»ºå“åº”å¼å¯¹è±¡æˆ–æ•°ç»„">ä½¿ç”¨<code>reactive()</code>åˆ›å»ºå“åº”å¼å¯¹è±¡æˆ–æ•°ç»„</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>reactive()</code>å‡½æ•°åˆ›å»ºä¸€ä¸ªå“åº”å¼å¯¹è±¡æˆ–æ•°ç»„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; reactive &#125; from &#x27;vue&#x27;<br><br>const state = reactive(&#123; count: 0 &#125;)<br><br>function increment() &#123;<br>  state.count++<br>&#125;<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;button @click=&quot;increment&quot;&gt;<br>    &#123;&#123; state.count &#125;&#125;<br>  &lt;/button&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°å¦‚æœè¦è®¿é—®<code>state</code>çš„å±æ€§çš„è¯ï¼Œç›´æ¥ä½¿ç”¨<code>.</code>è¿ç®—ç¬¦å³å¯ã€‚<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>reactive()</code>è¿”å›çš„æ˜¯ä¸€ä¸ªåŸå§‹å¯¹è±¡çš„ Proxyï¼Œå®ƒå’ŒåŸå§‹å¯¹è±¡æ˜¯ä¸ç›¸ç­‰çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">const</span> raw = &#123;&#125;<br><span class="hljs-keyword">const</span> proxy = <span class="hljs-title function_">reactive</span>(raw)<br><br><span class="hljs-comment">// ä»£ç†å¯¹è±¡å’ŒåŸå§‹å¯¹è±¡ä¸æ˜¯å…¨ç­‰çš„</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxy === raw) <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure><p>ç”±äºJSä¼šè‡ªåŠ¨è½¬å‹ï¼Œæ‰€ä»¥åœ¨JSä¸­ï¼Œä¸¤ä¸ªç­‰å·æ˜¯ä¼šå…ˆå°†ä¸¤è¾¹çš„å€¼è½¬ä¸ºå¸ƒå°”å‹å†è¿›è¡Œæ¯”è¾ƒï¼Œè€Œä¸‰ä¸ªç­‰å·å°±æ˜¯ä¸¥æ ¼åˆ¤å®šï¼Œå¯ä»¥è¯´JSä¸­çš„ä¸‰ä¸ªç­‰å·ç­‰äºå…¶ä»–è¯­è¨€ä¸­çš„ä¸¤ä¸ªç­‰å·ã€‚<br><code>reactive()</code>APIæœ‰ä¸¤æ¡é™åˆ¶ï¼š</p><ol><li>ä»…å¯¹å¯¹è±¡ç±»å‹æœ‰æ•ˆï¼ˆå¯¹è±¡ã€æ•°ç»„å’Œ<code>Map</code>ã€<code>Set</code>è¿™æ ·çš„é›†åˆç±»å‹ï¼‰ï¼Œè€Œå¯¹<code>string</code>ã€<code>number</code>å’Œ<code>boolean</code>è¿™æ ·çš„åŸå§‹ç±»å‹æ— æ•ˆã€‚</li><li>å› ä¸º Vue çš„å“åº”å¼ç³»ç»Ÿæ˜¯é€šè¿‡å±æ€§è®¿é—®è¿›è¡Œè¿½è¸ªçš„ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»å§‹ç»ˆä¿æŒå¯¹è¯¥å“åº”å¼å¯¹è±¡çš„ç›¸åŒå¼•ç”¨ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸å¯ä»¥éšæ„åœ°â€œæ›¿æ¢â€ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå› ä¸ºè¿™å°†å¯¼è‡´å¯¹åˆå§‹å¼•ç”¨çš„å“åº”æ€§è¿æ¥ä¸¢å¤±ï¼ŒåŒæ—¶è¿™ä¹Ÿæ„å‘³ç€å½“æˆ‘ä»¬å°†å“åº”å¼å¯¹è±¡çš„å±æ€§èµ‹å€¼æˆ–è§£æ„è‡³æœ¬åœ°å˜é‡æ—¶ï¼Œæˆ–æ˜¯å°†è¯¥å±æ€§ä¼ å…¥ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œæˆ‘ä»¬ä¼šå¤±å»å“åº”æ€§ã€‚</li></ol><h2 id="ä½¿ç”¨ref-å®šä¹‰å“åº”å¼å˜é‡">ä½¿ç”¨<code>ref()</code>å®šä¹‰å“åº”å¼å˜é‡</h2><p><code>reactive()</code>çš„ç§ç§é™åˆ¶å½’æ ¹ç»“åº•æ˜¯å› ä¸º<code>JavaScript</code>æ²¡æœ‰å¯ä»¥ä½œç”¨äºæ‰€æœ‰å€¼ç±»å‹çš„ â€œå¼•ç”¨â€ æœºåˆ¶ã€‚ä¸ºæ­¤ï¼ŒVueæä¾›äº†ä¸€ä¸ª<code>ref()</code>æ–¹æ³•æ¥å…è®¸æˆ‘ä»¬åˆ›å»ºå¯ä»¥ä½¿ç”¨ä»»ä½•å€¼ç±»å‹çš„å“åº”å¼refï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><br><span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p><code>ref()</code>å°†ä¼ å…¥å‚æ•°çš„å€¼åŒ…è£…ä¸ºä¸€ä¸ªå¸¦<code>.value</code>å±æ€§çš„refå¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count) <span class="hljs-comment">// &#123; value: 0 &#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count.<span class="hljs-property">value</span>) <span class="hljs-comment">// 0</span><br><br>count.<span class="hljs-property">value</span>++<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count.<span class="hljs-property">value</span>) <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure><p>å½“refåœ¨æ¨¡æ¿ä¸­ä½œä¸ºé¡¶å±‚å±æ€§è¢«è®¿é—®æ—¶ï¼Œå®ƒä»¬ä¼šè¢«è‡ªåŠ¨â€œè§£åŒ…â€ï¼Œæ‰€ä»¥ä¸éœ€è¦ä½¿ç”¨<code>.value</code>ã€‚ä¸‹é¢æ˜¯ä¹‹å‰çš„è®¡æ•°å™¨ä¾‹å­ï¼Œç”¨<code>ref()</code>ä»£æ›¿ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; ref &#125; from &#x27;vue&#x27;<br><br>const count = ref(0)<br><br>function increment() &#123;<br>  count.value++<br>&#125;<br>&lt;/script&gt;<br><br>&lt;template&gt;<br>  &lt;button @click=&quot;increment&quot;&gt;<br>    &#123;&#123; count &#125;&#125; &lt;!-- æ— éœ€ .value --&gt;<br>  &lt;/button&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p>è·Ÿå“åº”å¼å¯¹è±¡ä¸åŒï¼Œå½“refä½œä¸ºå“åº”å¼æ•°ç»„æˆ–åƒ<code>Map</code>è¿™ç§åŸç”Ÿé›†åˆç±»å‹çš„å…ƒç´ è¢«è®¿é—®æ—¶ï¼Œä¸ä¼šè¿›è¡Œè§£åŒ…ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">const</span> books = <span class="hljs-title function_">reactive</span>([<span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;Vue 3 Guide&#x27;</span>)])<br><span class="hljs-comment">// è¿™é‡Œéœ€è¦ .value</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(books[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>)<br><br><span class="hljs-keyword">const</span> map = <span class="hljs-title function_">reactive</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">&#x27;count&#x27;</span>, <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)]]))<br><span class="hljs-comment">// è¿™é‡Œéœ€è¦ .value</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;count&#x27;</span>).<span class="hljs-property">value</span>)<br></code></pre></td></tr></table></figure><div class="note note-warning">            <p>ä¸€å®šè¦æ³¨æ„è§£åŒ…ï¼çœ‹ä¸‹é¢ï¼</p>          </div><p>è¯·æ³¨æ„ï¼Œä»…å½“refæ˜¯æ¨¡æ¿æ¸²æŸ“ä¸Šä¸‹æ–‡çš„é¡¶å±‚å±æ€§æ—¶æ‰é€‚ç”¨è‡ªåŠ¨â€œè§£åŒ…â€ã€‚ä¾‹å¦‚ï¼Œ<code>foo</code>æ˜¯é¡¶å±‚å±æ€§ï¼Œä½†<code>object.foo</code>ä¸æ˜¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">const</span> object = &#123; <span class="hljs-attr">foo</span>: <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>) &#125;<br>&#123;&#123; object.<span class="hljs-property">foo</span> + <span class="hljs-number">1</span> &#125;&#125;  <span class="hljs-comment">// è¡Œä¸é€šï¼</span><br>&#123;&#123; object.<span class="hljs-property">foo</span>.<span class="hljs-property">value</span> + <span class="hljs-number">1</span> &#125;&#125;  <span class="hljs-comment">// ä½†æ˜¯å¯ä»¥æ‰‹åŠ¨è§£åŒ…</span><br>&#123;&#123; object.<span class="hljs-property">foo</span> &#125;&#125;  <span class="hljs-comment">// è¯­æ³•ç³–</span><br><br><span class="hljs-keyword">const</span> &#123; foo &#125; = object<br>&#123;&#123; foo + <span class="hljs-number">1</span> &#125;&#125;  <span class="hljs-comment">// æ­£ç¡®çš„ï¼</span><br></code></pre></td></tr></table></figure><h1>ä¸åŒç‚¹</h1><p><code>reactive()</code>å®¹æ˜“ä¸¢å¤±å“åº”å¼é“¾æ¥ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">let</span> state = <span class="hljs-title function_">reactive</span>(&#123; <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> &#125;)<br><span class="hljs-keyword">let</span> n = state.<span class="hljs-property">count</span><br><span class="hljs-comment">// ä¸å½±å“åŸå§‹çš„stateï¼Œnåœ¨æ€ä¹ˆè‡ªå¢state.countéƒ½æ˜¯0</span><br>n++<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯<code>ref()</code>å°±ä¸æ˜¯äº†ï¼ŒæŠŠä¸Šè¾¹çš„æ¢æˆrefçš„è¯<code>count</code>æ˜¯ä¼šè·Ÿç€<code>n</code>ä¸€èµ·å˜çš„ã€‚<br>ä»¥åŠä¼ å…¥å‡½æ•°ä¸­ï¼Œä¹Ÿä¼šä¸¢å¤±<code>reactive()</code>å“åº”æ€§ï¼Œä½†æ˜¯<code>ref()</code>ä¸ä¼šï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">let</span> state = <span class="hljs-title function_">reactive</span>(&#123; <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> &#125;)<br><span class="hljs-comment">// è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ™®é€šæ•°å­—ï¼Œå¹¶ä¸”</span><br><span class="hljs-comment">// å°†æ— æ³•è·Ÿè¸ª state.count çš„å˜åŒ–</span><br><span class="hljs-title function_">callSomeFunction</span>(state.<span class="hljs-property">count</span>)<br><br><span class="hljs-keyword">const</span> obj = &#123;<br>  <span class="hljs-attr">foo</span>: <span class="hljs-title function_">ref</span>(<span class="hljs-number">1</span>),<br>  <span class="hljs-attr">bar</span>: <span class="hljs-title function_">ref</span>(<span class="hljs-number">2</span>)<br>&#125;<br><span class="hljs-comment">// è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ª ref</span><br><span class="hljs-comment">// éœ€è¦é€šè¿‡ .value å–å€¼</span><br><span class="hljs-comment">// ä½†å®ƒä¼šä¿æŒå“åº”æ€§</span><br><span class="hljs-title function_">callSomeFunction</span>(obj.<span class="hljs-property">foo</span>)<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœå‡½æ•°ä¸­ç”¨åˆ°ä¼ å…¥çš„å€¼çš„è¯ï¼Œ<code>state.count</code>ä¸€ç›´æ˜¯0ï¼Œæ— è®ºå®ƒä¹‹åæ˜¯å¦å˜åŒ–ã€‚è€Œ<code>obj.foo</code>ä¼ è¿›å»çš„æ˜¯å“åº”å¼å¯¹è±¡ï¼Œåˆ©ç”¨<code>.value</code>å°±èƒ½è·Ÿè¸ªçŠ¶æ€å–æœ€æ–°å€¼ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
      <tag>Vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-808. åˆ†æ±¤</title>
    <link href="/2022/11/21/leetcode-808/"/>
    <url>/2022/11/21/leetcode-808/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_808_1.png" alt="808"></p><h1>æ€è·¯åŠå®ç°</h1><p>å…¶å®è¿™é¢˜æˆ‘ä¸€å¼€å§‹æ ¹æœ¬æ²¡æƒ³ä»€ä¹ˆåŠ¨æ€è§„åˆ’ï¼Œå°±æƒ³ç€æ— è„‘é€’å½’ä¸å°±è¡Œäº†å—ï¼Ÿä½†æ˜¯é€’å½’å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼šä¸€æ˜¯è¶…å‡ºæ—¶é—´é™åˆ¶ï¼ŒäºŒæ˜¯è¶…å‡ºé€’å½’æ·±åº¦ã€‚<br>ç¬¬ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç¼“å­˜æŠ€æœ¯å¤§å¤§å‹ç¼©æ—¶é—´ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªå°±å¿…é¡»æƒ³å…¶ä»–åŠæ³•è§£å†³äº†ï¼Œå› ä¸ºé¢˜ç›®ç»™çš„æ˜¯<code>0 &lt;= n &lt;= 10^9â€‹â€‹â€‹â€‹â€‹â€‹â€‹</code>ï¼Œä½†æ˜¯ä»”ç»†è§‚å¯Ÿåˆ°é¢˜ç›®è¯´è¿”å›å€¼åœ¨æ­£ç¡®ç­”æ¡ˆ<code>10^-5</code>çš„èŒƒå›´å†…å°†è¢«è®¤ä¸ºæ˜¯æ­£ç¡®çš„ï¼Œ<br>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯å¦‚æœç»“æœ<code>&gt; 0.99999</code>é‚£ä¹ˆå°±æ˜¯è¿”å›<code>1.0</code>ã€‚æŒ‰ç…§é¢˜ç›®çš„åˆ†é…æ–¹æ³•ï¼Œè™½ç„¶æ¯ä¸ªåˆ†é…æ–¹æ³•éƒ½æ˜¯<code>0.25</code>å‡ ç‡ï¼Œä½†æ˜¯è‚¯å®šæ˜¯ A å¹³å‡åˆ†å¾—æ›´å¤šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬èƒ½å¤Ÿæ‰¾åˆ°ä¸€ä¸ª<code>Î¸</code>ï¼Œä½¿å¾—å½“<code>n &gt;= Î¸</code>æ—¶ï¼Œæœ‰<code>ans &gt; 0.99999</code>ã€‚</p><h2 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h2><p>è¦æ‰¾åˆ°è¿™ä¸ªæ•´æ•°ï¼Œå°±è¦ä½¿ç”¨åŠ¨æ€è§„åˆ’æ¥æ±‚è§£äº†ã€‚é¦–å…ˆå…ˆå‹ç¼©ä¸€ä¸‹é¢˜ç›®ç»™çš„æ•°æ®ï¼Œå› ä¸ºåˆ†é…æ–¹æ³•éƒ½æ˜¯<code>25</code>çš„å€æ•°ï¼Œæ‰€ä»¥å¯ä»¥ç”¨<code>(n + 24) // 25</code>æ¥å‹ç¼©ï¼Œç›¸åº”çš„åˆ†é…æ–¹æ³•å˜æˆï¼š(4, 0), (3, 1), (2, 2), (1, 3)ã€‚<br>ç„¶åå°±æ˜¯æ‰¾åˆ°æ€è·¯ï¼š<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_808_2.png" alt="åŠ¨æ€è§„åˆ’è§£æ³•"><br>æ¥ç€å†™å‡ºç¨‹åºå³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">soupServings</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:<br>        n = (n + <span class="hljs-number">24</span>) // <span class="hljs-number">25</span><br>        <span class="hljs-keyword">if</span> n &gt;= <span class="hljs-number">179</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1.0</span><br>        dp = [[<span class="hljs-number">0.0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n + <span class="hljs-number">1</span>)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n + <span class="hljs-number">1</span>)]<br>        dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0.5</span><br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>            dp[<span class="hljs-number">0</span>][j] = <span class="hljs-number">1.0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>):<br>                dp[i][j] = (dp[<span class="hljs-built_in">max</span>(i - <span class="hljs-number">4</span>, <span class="hljs-number">0</span>)][j] + dp[<span class="hljs-built_in">max</span>(i - <span class="hljs-number">3</span>, <span class="hljs-number">0</span>)][j - <span class="hljs-number">1</span>]<br>                            + dp[<span class="hljs-built_in">max</span>(i - <span class="hljs-number">2</span>, <span class="hljs-number">0</span>)][<span class="hljs-built_in">max</span>(j - <span class="hljs-number">2</span>, <span class="hljs-number">0</span>)] + dp[i - <span class="hljs-number">1</span>][<span class="hljs-built_in">max</span>(j - <span class="hljs-number">3</span>, <span class="hljs-number">0</span>)]) / <span class="hljs-number">4</span><br>        <span class="hljs-keyword">return</span> dp[n][n]<br></code></pre></td></tr></table></figure><h2 id="æ·±åº¦ä¼˜å…ˆæœç´¢-ç¼“å­˜æŠ€æœ¯ï¼ˆè®°å¿†åŒ–æœç´¢ï¼‰">æ·±åº¦ä¼˜å…ˆæœç´¢ + ç¼“å­˜æŠ€æœ¯ï¼ˆè®°å¿†åŒ–æœç´¢ï¼‰</h2><p>åªè¦æˆ‘ä»¬å†™å‡ºäº†åŠ¨æ€è§„åˆ’å†™æ³•ï¼Œå°±èƒ½é€šè¿‡å®ƒæ‰¾åˆ°<code>Î¸</code>äº†ï¼Œå†™ä¸€æ®µä»£ç è®©<code>n</code>ä»<code>0</code>å¼€å§‹éå†åˆ°<code>5000</code>æˆ–è€…å·®ä¸å¤šçš„æ•°å°±å¥½äº†ï¼Œç„¶åè®¾ç½®ä¸ªæ¡ä»¶ï¼Œè¿”å›çš„ç»“æœ<code>&gt; 0.99999</code>çš„æ—¶å€™å°±è¾“å‡ºè¿™ä¸ªæ•°å°±å¥½äº†ã€‚ç„¶åå°±å¾—åˆ°äº†<code>4451</code>è¿™ä¸ªç­”æ¡ˆã€‚<br>é‚£å°±å¥½åŠäº†ï¼Œé‚£æˆ‘ç›´æ¥è¿›è¡Œé€’å½’å¹¶åˆ©ç”¨ç¼“å­˜æŠ€æœ¯é¡ºä¾¿è®©<code>n &gt; 4450</code>çš„æ—¶å€™ç›´æ¥è¿”å›<code>1.0</code>å³å¯ï¼<br>OKï¼Œè¿‡äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">soupServings</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:<br>        <span class="hljs-keyword">if</span> n &gt; <span class="hljs-number">4450</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1.0</span><br><span class="hljs-meta">        @cache</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">recursion</span>(<span class="hljs-params">a_soup: <span class="hljs-built_in">int</span>, b_soup: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:<br>            <span class="hljs-keyword">if</span> a_soup &lt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> b_soup &lt;= <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0.5</span><br>            <span class="hljs-keyword">elif</span> a_soup &lt;= <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">1.0</span><br>            <span class="hljs-keyword">elif</span> b_soup &lt;= <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0.0</span><br>            <span class="hljs-keyword">return</span> (recursion(a_soup - <span class="hljs-number">100</span>, b_soup) + recursion(a_soup - <span class="hljs-number">75</span>, b_soup - <span class="hljs-number">25</span>)<br>                    + recursion(a_soup - <span class="hljs-number">50</span>, b_soup - <span class="hljs-number">50</span>) + recursion(a_soup - <span class="hljs-number">25</span>, b_soup - <span class="hljs-number">75</span>)) / <span class="hljs-number">4</span><br>        <span class="hljs-keyword">return</span> recursion(n, n)<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
      
      <tag>é€’å½’</tag>
      
      <tag>è®°å¿†åŒ–æœç´¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1710. å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•° &amp; 1732. æ‰¾åˆ°æœ€é«˜æµ·æ‹”</title>
    <link href="/2022/11/20/leetcode-1710-1732/"/>
    <url>/2022/11/20/leetcode-1710-1732/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1710_1.png" alt="1710"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1732_1.png" alt="1732"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="1710-å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°">1710. å¡è½¦ä¸Šçš„æœ€å¤§å•å…ƒæ•°</h2><p>é¦–å…ˆè¦åˆ†æ¸…<strong>è£…è½½å•å…ƒ</strong>å’Œ<strong>è£…è½½æ•°é‡</strong>ï¼Œå‰è€…æ˜¯<strong>ç®±å­çš„å®¹é‡</strong>ï¼Œä»£è¡¨ç®±å­å¯è£…è½½çš„<strong>å•å…ƒæ•°é‡</strong>ï¼Œåè€…æ˜¯å¡è½¦çš„å®¹é‡ï¼Œä»£è¡¨å¡è½¦å¯è£…è½½çš„<strong>ç®±å­æ•°é‡</strong>ã€‚<br>åˆç”±é¢˜ç›®å¯ä»¥çŸ¥é“ï¼Œæ¯ä¸ªç±»å‹ç®±å­éƒ½æœ‰ä¸€å®šçš„æ•°é‡å’Œå¯è£…è½½å•å…ƒæ•°ï¼Œå¯¹äºæ¯ä¸ªç®±å­ï¼Œé‡é‡æ˜¯ä¸€è‡´çš„ï¼ˆä¹Ÿå°±æ˜¯è¯´è£…è½½å•å…ƒå¤šå¹¶ä¸ä¼šé¢å¤–å ç”¨ç®±å­æ•°é‡ï¼‰ï¼Œæ‰€ä»¥å¦‚æœè¦æ‰¾åˆ°å¡è½¦å¯ä»¥è£…è½½å•å…ƒçš„æœ€å¤§æ€»æ•°ï¼Œè‚¯å®šæ˜¯ä¼˜å…ˆæŠŠ<strong>è£…è½½å•å…ƒæ•°æœ€å¤§</strong>çš„ç®±å­è£…ä¸Šå¡è½¦ã€‚<br>ä¸ºäº†é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œå…ˆå¯¹<code>boxTypes</code>è¿›è¡Œæ’åºï¼Œæ’åºçš„ä¾æ®å°±æ˜¯<code>boxTypes[i][1]</code>ï¼Œä¹Ÿå°±æ˜¯ç®±å­çš„å®¹é‡ï¼Œå½“ç„¶ä¸ºäº†æ–¹ä¾¿åº”è¯¥æŒ‰ç…§é™åºæ’åˆ—ï¼ˆå³ä»å¤§åˆ°å°ï¼‰ï¼Œæ’å®Œåºåè¾¹éå†è¾¹å‘å¡è½¦è£…ç®±å­å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maximumUnits</span>(<span class="hljs-params">self, boxTypes: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], truckSize: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        max_unit = <span class="hljs-number">0</span><br>        boxTypes.sort(key=<span class="hljs-keyword">lambda</span> i: i[<span class="hljs-number">1</span>], reverse=<span class="hljs-literal">True</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> boxTypes:<br>            <span class="hljs-keyword">if</span> i[<span class="hljs-number">0</span>] &gt; truckSize:  <span class="hljs-comment"># ä¸èƒ½æŠŠå½“å‰è¿™ç§ç±»å‹çš„ç®±å­å…¨éƒ¨è£…ä¸Šå»ï¼Œé‚£å°±æŠŠå‰©ä¸‹çš„ç®±å­å®¹é‡è£…æ»¡å¼€è½¦èµ°äºº</span><br>                max_unit += truckSize * i[<span class="hljs-number">1</span>]<br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># èƒ½è£…ä¸‹å…¨éƒ¨å½“å‰è¿™ç§ç±»å‹çš„ç®±å­ï¼Œè£…å¥½åè®°å¾—æ›´æ–°å¡è½¦å‰©ä½™å¯è£…è½½ç®±å­æ•°</span><br>                max_unit += i[<span class="hljs-number">0</span>] * i[<span class="hljs-number">1</span>]<br>                truckSize -= i[<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">return</span> max_unit<br></code></pre></td></tr></table></figure><h2 id="1732-æ‰¾åˆ°æœ€é«˜æµ·æ‹”">1732. æ‰¾åˆ°æœ€é«˜æµ·æ‹”</h2><p>å…¶å®ä¸€å¼€å§‹ä¸æ˜¯å¾ˆçœ‹å¾—æ‡‚é¢˜ç›®æƒ³è¡¨è¾¾ä»€ä¹ˆï¼Œçœ‹äº†ä¸€ä¸‹ç¤ºä¾‹å°±æ‡‚äº†ï¼Œå°±æ˜¯æˆ‘ä»¬æœ‰<code>altitude</code>ï¼ˆæµ·æ‹”ï¼‰åˆ—è¡¨ï¼Œå’Œ<code>gain</code>ï¼ˆæµ·æ‹”å·®ï¼‰åˆ—è¡¨ï¼Œå¯¹äºæ¯ä¸ªç‚¹çš„æµ·æ‹”ï¼Œæœ‰<code>altitude[i + 1] = altitude[i] + gain[i]</code>ï¼Œå°±è¿™æ ·ï¼Œç…§ç€å†™å°±è¡Œäº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">largestAltitude</span>(<span class="hljs-params">self, gain: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        altitude = [<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">for</span> i, n <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(gain):<br>            altitude.append(altitude[i] + n)<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(altitude)<br></code></pre></td></tr></table></figure><p>å½“ç„¶å¯ä»¥è¿›è¡Œä¼˜åŒ–ï¼Œæ¯•ç«Ÿæˆ‘ä»¬åªéœ€è¦å‰ä¸€æµ·æ‹”å°±èƒ½ç®—å‡ºå½“å‰æµ·æ‹”ï¼Œæ‰€ä»¥ä¸€ä¸ªç»´æŠ¤<code>fore_altitude</code>å’Œ<code>max_altitude</code>ä¸¤ä¸ªå˜é‡å°±å¯ä»¥äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">largestAltitude</span>(<span class="hljs-params">self, gain: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        fore_altitude = <span class="hljs-number">0</span><br>        max_altitude = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(gain)):<br>            max_altitude = <span class="hljs-built_in">max</span>(max_altitude, fore_altitude + gain[i])<br>            fore_altitude = fore_altitude + gain[i]<br>        <span class="hljs-keyword">return</span> max_altitude<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>è´ªå¿ƒ</tag>
      
      <tag>æ•°ç»„</tag>
      
      <tag>æ’åº</tag>
      
      <tag>å‰ç¼€å’Œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-799. é¦™æ§Ÿå¡”</title>
    <link href="/2022/11/20/leetcode-799/"/>
    <url>/2022/11/20/leetcode-799/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_799_1.png" alt="799"></p><h1>æ€è·¯åŠå®ç°</h1><p>OKçœ‹åˆ°è¿™ç§é¢˜ç›®é¦–å…ˆæˆ‘çš„æ€è·¯å°±æ˜¯æ‰¾è§„å¾‹ï¼Œå…ˆæŠŠæ¯å±‚æ•°å­—åˆ—ä¸€ä¸‹å…ˆï¼š<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_799_2.png" alt="æ‰¾è§„å¾‹ï¼"><br>ä»¥åŠåœ¨å€’å…¥é¦™æ§Ÿçš„æ—¶å€™åƒä¸‡åˆ«æŠŠè‡ªå·±å¥—è¿›å»äº†ï¼Œæˆ‘å°±æ˜¯æŠŠè‡ªå·±å¥—è¿›å»æƒ³ç€é¦™æ§Ÿä¸€ç“¶ä¸€ç“¶å€’ä¸‹å»å†åˆ†é…ï¼Œç»“æœå‹æ ¹æ²¡æƒ³åˆ°æ€ä¹ˆåšï¼Œå…¶å®ä¸€æ¬¡æ€§å€’åœ¨æœ€ä¸Šè¾¹çš„æ¯å­ä¸Šï¼Œæº¢å‡ºäº†å°±å¾€ä¸‹åˆ†ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚<br>ç°åœ¨å·²ç»æ‰¾åˆ°è§„å¾‹äº†ï¼Œé‚£ä¹ˆè·Ÿç€è§„å¾‹èµ°å°±å®¹æ˜“å‡ºæ€è·¯äº†ã€‚çœ‹åˆ°å·¦è¾¹çš„å›¾ï¼Œå¯ä»¥å‘ç°æˆ‘å†™å‡ºäº†ä¸¤ç§ä¸‹æ ‡ï¼Œå…¶å®ä¹Ÿå¯ä»¥è¯´å¯¹åº”ä¸¤ç§æ–¹æ³•ã€‚</p><h2 id="ç›´æ¥è®¡ç®—æ³•">ç›´æ¥è®¡ç®—æ³•</h2><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_799_3.png" alt="ç›´æ¥è®¡ç®—æ³•çš„æ€è·¯"></p><div class="note note-warning">            <p>OKé‚£ä¹ˆè¿™é‡Œæˆ‘æƒ³è¯´çš„æ˜¯ï¼Œæˆ‘åœ¨ç”»è¿™å¼ å›¾çš„æ—¶å€™è¿˜æ²¡å‘ç°ä»–æ˜¯ä»<code>0</code>å¼€å§‹è®¡æ•°çš„ï¼Œæ‰€ä»¥åœ¨å†™ä»£ç çš„æ—¶å€™<code>row</code>å˜æˆäº†ä»<code>0</code>å¼€å§‹è€Œä¸æ˜¯<code>1</code>ï¼Œæ‰€ä»¥åç»­æ‰‹åŠ¨è¡¥ä¸Š<code>+1</code>ï¼Œä¹Ÿå› ä¸ºè¿™ä¸ªåŸå› ä»£ç çœ‹ä¸Šå»å¯èƒ½æ¯”è¾ƒä¹±ï¼Œæ¯”è¾ƒéš¾è¯»ï¼Œæœå’©é‚£å¡ï¼</p>          </div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">champagneTower</span>(<span class="hljs-params">self, poured: <span class="hljs-built_in">int</span>, query_row: <span class="hljs-built_in">int</span>, query_glass: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:<br>        glass_num = (<span class="hljs-number">1</span> + query_row + <span class="hljs-number">1</span>) * (query_row + <span class="hljs-number">1</span>) // <span class="hljs-number">2</span><br>        v = [<span class="hljs-number">0</span>] * glass_num<br>        v[<span class="hljs-number">0</span>] = poured<br>        i = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> row <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(query_row):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(row + <span class="hljs-number">1</span>):<br>                <span class="hljs-keyword">if</span> v[i] &gt; <span class="hljs-number">1</span>:<br>                    v[i + row + <span class="hljs-number">1</span>] += (v[i] - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span><br>                    v[i + row + <span class="hljs-number">2</span>] += (v[i] - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span><br>                i += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(v[-(query_row - query_glass + <span class="hljs-number">1</span>)], <span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h2 id="è®¡ç®—æ¯è¡Œæ³•">è®¡ç®—æ¯è¡Œæ³•</h2><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_799_4.png" alt="è®¡ç®—æ¯è¡Œæ³•çš„æ€è·¯"><br>å¯ä»¥çœ‹åˆ°å•Šï¼Œå…¶å®è¿™å°±æ˜¯å®˜è§£çš„æ€è·¯å’Œä»£ç ï¼Œéå¸¸ç®€æ´æ˜äº†ä¸”å¿«é€Ÿã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">champagneTower</span>(<span class="hljs-params">self, poured: <span class="hljs-built_in">int</span>, query_row: <span class="hljs-built_in">int</span>, query_glass: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:<br>        v = [poured]<br>        <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, query_row + <span class="hljs-number">1</span>):<br>            next_v = [<span class="hljs-number">0</span>] * (n + <span class="hljs-number">1</span>)<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(v)):<br>                <span class="hljs-keyword">if</span> v[i] &gt; <span class="hljs-number">1</span>:<br>                    next_v[i] += (v[i] - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span><br>                    next_v[i + <span class="hljs-number">1</span>] += (v[i] - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span><br>            v = next_v<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(<span class="hljs-number">1</span>, v[query_glass])<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>æ¨¡æ‹Ÿ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®‰å“æœŸæœ«èµ¶å·¥CVä½œä¸šçš„åº•éƒ¨å¯¼èˆªæ æ¨¡æ¿</title>
    <link href="/2022/11/16/android-homework/"/>
    <url>/2022/11/16/android-homework/</url>
    
    <content type="html"><![CDATA[<h1>æƒ³è¯´çš„è¯</h1><p>ä¸é€‚åˆå°ç™½çœ‹ï¼Œå°ç™½çœ‹å¯èƒ½ä¼šäº§ç”Ÿè®¸å¤šç–‘é—®ã€‚æ–‡ç« å†…å®¹å¯èƒ½æŠ½è±¡ï¼Œæ¯•ç«Ÿå†™ç»™è‡ªå·±çœ‹çš„ã€‚</p><h1>æ­£æ–‡</h1><h2 id="åº•éƒ¨å¯¼èˆªæ ï¼">åº•éƒ¨å¯¼èˆªæ ï¼</h2><p>å…ˆæ¥çœ‹çœ‹ç•Œé¢è®¾è®¡ã€‚<br>é¦–å…ˆæ˜¯å®ç°åº•éƒ¨å¯¼èˆªæ ï¼Œéå¸¸ç®€å•ï¼Œå·¦ä¸Šè§’<code>File -&gt; New -&gt; New Project -&gt; Bottom Navigation Activity</code>ï¼Œç„¶åå°±è‡ªåŠ¨ä¸ºä½ åˆ›å»ºå¥½äº†ä¸€ä¸ªç°æˆçš„åº•éƒ¨å¯¼èˆªæ ï¼Œåœ¨ä¸Šé¢ç¨å¾®åšç‚¹æ”¹åŠ¨å³å¯æ‹¿æ¥å§ä½ ï¼<br>æ•ˆæœå›¾ï¼š<br><img src="http://imagehost.map1e-g.cn/android-homework/Bottom_Nav_Result" alt="åº•éƒ¨å¯¼èˆªæ å®ç°"><br>é‚£å…·ä½“æ€ä¹ˆæ”¹åŠ¨ï¼Ÿå…ˆçœ‹åˆ°<code>res</code>é‡Œè¾¹çš„<code>layout</code>ï¼Œ<code>Fragment</code>å¸ƒå±€æ–‡ä»¶å…¨éƒ¨å³é”®<code>Refactor -&gt; Rename</code>ï¼Œå°±æ˜¯æ”¹åï¼Œä»¥æˆ‘çš„å¯¼èˆªæ ä¸ºä¾‹ï¼š<code>fragment_home -&gt; fragment_memo</code>ã€‚<br>ç„¶åçœ‹åˆ°å·¥ç¨‹æ–‡ä»¶é‡Œè¾¹çš„<code>ui</code>æ–‡ä»¶å¤¹ï¼Œé‡Œè¾¹åˆ†åˆ«å­˜äº†ä¸‰ä¸ªç•Œé¢çš„<code>Fragment</code>ï¼Œåªç•™ä¸‹ä¸‰ä¸ª<code>Fragment</code>ï¼Œ<code>ViewModel</code>å…¨åˆ äº†ï¼Œç„¶åå†æŠŠ<code>Fragment</code>é‡Œè¾¹æ”¹æˆä¸‹è¾¹è¿™æ ·å­ã€‚ï¼ˆå›¾æ–¹ä¾¿ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoFragment</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fragment</span> &#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(<span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> View <span class="hljs-title function_">onCreateView</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> LayoutInflater inflater,</span><br><span class="hljs-params">                             ViewGroup container, Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-keyword">return</span> inflater.inflate(R.layout.fragment_memo, container, <span class="hljs-literal">false</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ¥ç€å»<code>res/navigation/mobile_navigation.xml</code>é‡Œè¿›è¡Œæ”¹åŠ¨ï¼Œè¿˜æ˜¯ä»¥ä¸‹é¢ä»£ç ä¸ºä¾‹ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">fragment</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_memo&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.example.bottonnavdemo.ui.memo.MemoFragment&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:label</span>=<span class="hljs-string">&quot;@string/title_memo&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">tools:layout</span>=<span class="hljs-string">&quot;@layout/fragment_memo&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä¸Šé¢å››é¡¹å…¶å®å°±æ˜¯æŠŠå…¨éƒ¨<code>home</code>æ”¹ä¸ºäº†<code>memo</code>ï¼Œ<code>Home</code>æ”¹ä¸ºäº†<code>Memo</code>ã€‚<br>æœ€åä¸€æ­¥ï¼Œæ”¹<code>res/menu/bottom_nav_menu.xml</code>ï¼Œçœ‹ä»£ç ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_memo&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:icon</span>=<span class="hljs-string">&quot;@drawable/ic_memo_24&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;@string/title_memo&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>åŒæ ·æ˜¯æŠŠå…¨éƒ¨<code>home</code>æ”¹ä¸ºäº†<code>memo</code>ã€‚ä½†æ˜¯è¿™é‡Œçš„å›¾æ ‡æ–‡ä»¶è¦æ€ä¹ˆè·å¾—å‘¢ï¼Ÿæœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>ä¸Šç½‘æ‰¾ä¸€ä¸ªåˆé€‚çš„ï¼Œç„¶åcopyè¿›å»<code>res/drawble</code>å³å¯å¼•ç”¨</li><li><code>drawble</code>æ–‡ä»¶å¤¹å³é”®ï¼Œ<code>New -&gt; Vector Asset</code>åˆ›å»ºä¸€ä¸ª<br>æˆ‘æ˜¯ç”¨çš„æ–¹æ³•äºŒï¼ŒæŒºæ–¹ä¾¿çš„ã€‚</li></ol><div class="note note-warning">            <p>å¯èƒ½<code>MainActivity</code>è¦æ”¹ä¸€ä¸‹ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">AppBarConfiguration</span> <span class="hljs-variable">appBarConfiguration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AppBarConfiguration</span>.Builder(<br>                R.id.navigation_memo, R.id.navigation_music, R.id.navigation_setting)<br>                .build();<br></code></pre></td></tr></table></figure><p>å°±æ˜¯é‡Œé¢çš„èµ„æº<code>R.id.xxx</code>è¦æ”¹æˆè‡ªå·±ä¿®æ”¹è¿‡åçš„è€Œä¸æ˜¯ä¸€å¼€å§‹å®ƒæä¾›çš„ã€‚</p>          </div><div class="note note-warning">            <p>æ¢…å¼€äºŒåº¦ï¼å¦‚æœä½ å·²ç»åˆ›å»ºå¥½äº†ä¸€ä¸ª<code>Fragment</code>å¹¶æ»¡æ€€æœŸå¾…åœ°å±•ç¤ºå‡ºæ¥ï¼Œæ‰“å¼€åº”ç”¨ï¼Œåˆ‡æ¢åˆ°å¯¹äºç•Œé¢ï¼Œä½ å¯èƒ½ä¼šå‘ç°æœ€åº•éƒ¨çš„å†…å®¹è¢«å¯¼èˆªæ æŒ¡ä½äº†ï¼<br>å¯¹æ­¤ï¼Œå»<code>activity_main</code>é‡Œé¢æ‰¾åˆ°<code>&lt;fragment&gt;</code>å…ƒç´ é‡Œé¢çš„<code>android:layout_height</code>å±æ€§ï¼Œä¿®æ”¹ä¸º<code>0dp</code>å³å¯ï¼å³ï¼š<code>android:layout_height=&quot;0dp&quot;</code></p>          </div><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Android</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Android</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-864. è·å–æ‰€æœ‰é’¥åŒ™çš„æœ€çŸ­è·¯å¾„</title>
    <link href="/2022/11/12/leetcode-864/"/>
    <url>/2022/11/12/leetcode-864/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_864_1.png" alt="864_1"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_864_2.png" alt="864_2"></p><h1>æ€è·¯åŠå®ç°</h1><p>å¥½å¤šè¯¾è®¾å¥½å¿™å…ˆæ¬ ç€ï¼ˆç›®ç§»</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å¹¿åº¦ä¼˜å…ˆæœç´¢</tag>
      
      <tag>çŠ¶æ€å‹ç¼©</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-790. å¤šç±³è¯ºå’Œæ‰˜ç±³è¯ºå¹³é“º</title>
    <link href="/2022/11/12/leetcode-790/"/>
    <url>/2022/11/12/leetcode-790/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_790_1.png" alt="790"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="æ‰¾è§„å¾‹">æ‰¾è§„å¾‹</h2><p>è¿™ç§é¢˜å§ï¼Œå®é™…ä¸Šå°±æ˜¯ç”»å›¾æ‰¾è§„å¾‹ï¼Œè·Ÿæ±‚æ–æ³¢é‚£å¥‘æ•°åˆ—æ²¡ä»€ä¹ˆåŒºåˆ«ï¼ŒæŠŠè§„å¾‹æ‰¾å‡ºæ¥æƒ³é€’å½’å°±é€’å½’æƒ³è¿­ä»£å°±è¿­ä»£ã€‚<br>é‚£ä¹ˆé‡ç‚¹å°±åœ¨äºæ‰¾è§„å¾‹äº†ã€‚ä»<code>n=1</code>å¼€å§‹ï¼Œä¸€ç›´åˆ°<code>n=5</code>å°±å·®ä¸å¤šäº†ï¼Œç„¶åå°±ä¼šå‘ç°ä¸‹é¢çš„å¼å­ï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mn>1</mn><mspace linebreak="newline"></mspace><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>=</mo><mn>2</mn><mspace linebreak="newline"></mspace><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mn>2</mn><mspace linebreak="newline"></mspace><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>4</mn><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>+</mo><mn>2</mn><mo>âˆ—</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mn>2</mn><mo>=</mo><mn>2</mn><mo>âˆ—</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mspace linebreak="newline"></mspace><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>5</mn><mo stretchy="false">]</mo><mo>=</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>4</mn><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>3</mn><mo stretchy="false">]</mo><mo>+</mo><mn>2</mn><mo>âˆ—</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mo>+</mo><mn>2</mn><mo>âˆ—</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mn>2</mn><mo>=</mo><mn>2</mn><mo>âˆ—</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>4</mn><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo><mspace linebreak="newline"></mspace><mo>â‹…</mo><mo>â‹…</mo><mo>â‹…</mo><mspace linebreak="newline"></mspace><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo><mo>=</mo><mn>2</mn><mo>âˆ—</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">]</mo><mo>+</mo><mi>d</mi><mi>p</mi><mo stretchy="false">[</mo><mi>n</mi><mo>âˆ’</mo><mn>3</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>n</mi><mo>â‰¥</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">dp[1] = 1 \\dp[2] = 2 \\dp[3] = dp[2] + dp[1] + 2 \\dp[4] = dp[3] + dp[2] + 2 * dp[1] + 2 = 2 * dp[3] + dp[1] \\dp[5] = dp[4] + dp[3] + 2 * dp[2] + 2 * dp[1] + 2 = 2 * dp[4] + dp[2] \\\cdot\cdot\cdot \\dp[n] = 2 * dp[n - 1] + dp[n - 3],n \geq 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">4</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">5</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">4</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">3</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">4</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">â‹…</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">n</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">4</span></span></span></span></span></p><p>è§„å¾‹æ‰¾åˆ°äº†ç›´æ¥ç¼–ç¨‹å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">numTilings</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        mod = <span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span><br><br><span class="hljs-meta">        @lru_cache()</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">recursion</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>            <span class="hljs-keyword">if</span> n == <span class="hljs-number">3</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">5</span><br>            <span class="hljs-keyword">elif</span> n == <span class="hljs-number">2</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">2</span><br>            <span class="hljs-keyword">elif</span> n == <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">return</span> (<span class="hljs-number">2</span> * recursion(n - <span class="hljs-number">1</span>) + recursion(n - <span class="hljs-number">3</span>)) % mod<br><br>        <span class="hljs-keyword">return</span> recursion(n)<br></code></pre></td></tr></table></figure><p>ä¸è¦å¿˜è®°è¿™ç§é€’å½’åŠ ä¸Š<code>@lru_cache</code>è£…é¥°å™¨ï¼Œä¸€æ˜¯å¤§é‡èŠ‚çœæ—¶é—´ï¼ŒäºŒæ˜¯é˜²æ­¢è¶…æ—¶ï¼ˆå› ä¸ºä¸åŠ çœŸçš„è¶…äº†ï¼‰ã€‚<br>ä¸‹é¢æ˜¯è¿­ä»£æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">numTilings</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        mod = <span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span><br>        i = <span class="hljs-number">4</span><br>        dp = <span class="hljs-built_in">list</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>])<br>        <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">return</span> dp[n - <span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">while</span> i &lt;= n:<br>            dp.append((<span class="hljs-number">2</span> * dp[i - <span class="hljs-number">1</span> - <span class="hljs-number">1</span>] + dp[i - <span class="hljs-number">3</span> - <span class="hljs-number">1</span>]) % mod)<br>            i += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> dp[n - <span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><h2 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h2><p>æ­£ç»dpä¸ä¼šï¼Œçœ‹å®˜è§£ã€‚(é€ƒ</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>æ‰¾è§„å¾‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1704. åˆ¤æ–­å­—ç¬¦ä¸²çš„ä¸¤åŠæ˜¯å¦ç›¸ä¼¼</title>
    <link href="/2022/11/11/leetcode-1704/"/>
    <url>/2022/11/11/leetcode-1704/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1704_1.png" alt="1704"></p><h1>æ€è·¯åŠå®ç°</h1><p>é¦–å…ˆè·Ÿç€é¢˜ç›®èµ°ï¼ŒæŠŠå­—ç¬¦ä¸²åˆ†ä¸ºé•¿åº¦ç›¸åŒçš„ä¸¤éƒ¨åˆ†<code>part1</code>å’Œ<code>part2</code>ï¼Œç„¶åå†å»æ‰¾ä¸¤éƒ¨åˆ†è¿™é‡Œè¾¹çš„å…ƒéŸ³æ•°é‡ã€‚<br>ä¸ºäº†åŒ¹é…å…ƒéŸ³ï¼Œå¯ä»¥ç”¨å¤šç§æ•°æ®ç»“æ„å­˜å‚¨è¿™ä¸ªå…ƒéŸ³åˆ—è¡¨ï¼Œè¿™é‡Œæˆ‘ç”¨åˆ°äº†é›†åˆ<code>set</code>ã€‚<br>å¿…è¦çš„ä¸œè¥¿éƒ½é½äº†ï¼Œå¼€å§‹éå†å°±å¥½äº†ï¼Œå¦‚æœå½“å‰å­—ç¬¦åœ¨å…ƒéŸ³é›†åˆ<code>vowels</code>ä¸­ï¼Œé‚£è¿™éƒ¨åˆ†çš„è®¡æ•°å°±åŠ ä¸€ï¼Œæœ€åæ¯”è¾ƒå¹¶è¿”å›ç»“æœå³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">halvesAreAlike</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        vowels = <span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;a&#x27;</span><span class="hljs-string">&#x27;e&#x27;</span><span class="hljs-string">&#x27;i&#x27;</span><span class="hljs-string">&#x27;o&#x27;</span><span class="hljs-string">&#x27;u&#x27;</span><span class="hljs-string">&#x27;A&#x27;</span><span class="hljs-string">&#x27;E&#x27;</span><span class="hljs-string">&#x27;I&#x27;</span><span class="hljs-string">&#x27;O&#x27;</span><span class="hljs-string">&#x27;U&#x27;</span>)<br>        part1 = s[:<span class="hljs-built_in">len</span>(s) // <span class="hljs-number">2</span>]<br>        cnt1 = <span class="hljs-number">0</span><br>        part2 = s[<span class="hljs-built_in">len</span>(s) // <span class="hljs-number">2</span>:]<br>        cnt2 = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(s) // <span class="hljs-number">2</span>):<br>            <span class="hljs-keyword">if</span> part1[i] <span class="hljs-keyword">in</span> vowels:<br>                cnt1 += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> part2[i] <span class="hljs-keyword">in</span> vowels:<br>                cnt2 += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span> <span class="hljs-keyword">if</span> cnt1 == cnt2 <span class="hljs-keyword">else</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œä¼šç”¨Javaå†™ä¸€å†™ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">halvesAreAlike</span><span class="hljs-params">(String s)</span> &#123;<br>        Set&lt;Character&gt; vowels = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;Character&gt;();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;aeiouAEIOU&quot;</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">half</span> <span class="hljs-operator">=</span> s.length() / <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">cnt1</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, cnt2 = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; str.length(); i++) &#123;<br>            vowels.add(str.charAt(i));<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; s.length() / <span class="hljs-number">2</span>; i++)&#123;<br>            <span class="hljs-keyword">if</span> (vowels.contains(s.charAt(i)))&#123;<br>                cnt1++;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (vowels.contains(s.charAt(half + i)))&#123;<br>                cnt2++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-type">return</span> <span class="hljs-variable">cnt1</span> <span class="hljs-operator">=</span>= cnt2;<br>    &#125;<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>[object Object]</tag>
      
      <tag>Solution</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-764. æœ€å¤§åŠ å·æ ‡å¿—</title>
    <link href="/2022/11/09/leetcode-764/"/>
    <url>/2022/11/09/leetcode-764/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_764_1.png" alt="764_1"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_764_1_2.png" alt="764_2"></p><h1>æ€è·¯åŠå®ç°</h1><p>å¥½çš„æˆ‘ä»¬æ¥å†™ä»Šå¤©çš„æ¯æ—¥ä¸€é¢˜ï¼Œè¿™ä»€ä¹ˆå•Šï¼Ÿå“¦ï¼Œæ‰¾ä¸Šä¸‹å·¦å³æ˜¯ä¸æ˜¯<code>1</code>å•Šï¼Œç®€å•ï¼Œæš´åŠ›éå†ï¼Œå…¶ä»–æˆ‘ä¹Ÿä¸ä¼šï¼ˆå¼€æ‘†ï¼ï¼‰</p><h2 id="æš´åŠ›éå†ï¼">æš´åŠ›éå†ï¼</h2><div class="note note-warning">            <p>åœ¨å†™è¿™é¢˜ä¹‹å‰ï¼Œæœ‰ä¸ªå°æé†’ï¼Œé¢˜ç›®æ‰€è¯´çš„åŠ å·æ ‡å¿—ï¼Œæœ€å°å…¶å®æ˜¯<code>1</code>è€Œä¸æ˜¯<code>2</code>ï¼Œå°±ç®—åªæœ‰ä¸€ä¸ªæ ¼å­æ˜¯<code>1</code>ï¼Œè¿™ä¸ªå•ç‹¬çš„æ ¼å­ä¹Ÿç®—åŠ å·ã€‚</p>          </div><p>é¦–å…ˆé€šè¿‡é¢˜ç›®ç»™å‡ºçš„<code>n</code>æ„é€ ä¸€ä¸ª<code>n * n</code>çš„çŸ©é˜µï¼Œå¹¶å°†æ¯ä¸ªæ ¼å­çš„åˆå€¼èµ‹ä¸º<code>1</code>ï¼Œç„¶åéå†é¢˜ç›®ç»™çš„<code>mines</code>æ•°ç»„ï¼ŒæŠŠçŸ©é˜µä¸­å¯¹åº”åæ ‡çš„å€¼æ”¹ä¸º<code>0</code>ã€‚<br>æ¥ä¸‹æ¥å°±å¼€å§‹éå†çŸ©é˜µäº†ã€‚å¯¹äºæ¯ä¸€ä¸ªæ ¼å­ï¼Œä»<code>0</code>é˜¶å¼€å§‹å‘å¤–æ‰©å¤§ï¼Œæ¯æ¬¡æ‰©å¤§ï¼Œéƒ½è¦åˆ¤æ–­ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ol><li>æ˜¯å¦è¶Šç•Œï¼Ÿ</li><li>æ˜¯å¦å­˜åœ¨æ ¼å­ä¸­çš„å€¼ä¸º0ï¼Ÿ<br>å¦‚æœé€šè¿‡äº†ä¸Šè¾¹ä¸¤ä¸ªæ¡ä»¶æµ‹è¯•ï¼Œè¯´æ˜æ‰¾åˆ°ä¸€ä¸ªç¬¦åˆé¢˜ç›®æ‰€è¯´çš„â€œè½´å¯¹ç§°â€åŠ å·æ ‡å¿—ï¼Œé‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°ä¸æ»¡è¶³æ¡ä»¶ã€‚<br>ä¸æ»¡è¶³æ¡ä»¶è¯´æ˜è¿™ä¸ªæ ¼å­çš„æœ€å¤§â€œè½´å¯¹ç§°â€åŠ å·æ ‡å¿—å·²ç»æ‰¾åˆ°ï¼Œå–è¿”å›ç»“æœ<code>ans</code>å’Œå½“å‰æ ¼å­ç»“æœ<code>cnt</code>äºŒè€…ä¸­çš„æœ€å¤§å€¼ï¼Œç„¶åå°±å¯ä»¥çœ‹ä¸‹ä¸€ä¸ªæ ¼å­äº†ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">orderOfLargestPlusSign</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, mines: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        matrix = [[<span class="hljs-number">1</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]  <span class="hljs-comment"># æ„é€ çŸ©é˜µ</span><br>        <span class="hljs-keyword">for</span> mine <span class="hljs-keyword">in</span> mines:<br>            matrix[mine[<span class="hljs-number">0</span>]][mine[<span class="hljs-number">1</span>]] = <span class="hljs-number">0</span>  <span class="hljs-comment"># åˆå§‹åŒ–0</span><br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>                cnt = <span class="hljs-number">0</span><br>                <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>                    <span class="hljs-keyword">if</span> i - cnt &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> j - cnt &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> i + cnt &gt; n - <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> j + cnt &gt; n - <span class="hljs-number">1</span>:  <span class="hljs-comment"># è¶Šç•Œ</span><br>                        <span class="hljs-keyword">break</span><br>                    <span class="hljs-keyword">elif</span> matrix[i - cnt][j] == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> matrix[i][j + cnt] == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> matrix[i + cnt][j] == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> \<br>                            matrix[i][j - cnt] == <span class="hljs-number">0</span>:  <span class="hljs-comment"># å­˜åœ¨0</span><br>                        <span class="hljs-keyword">break</span><br>                    <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># æ»¡è¶³â€œè½´å¯¹ç§°â€åŠ å·æ ‡å¿—</span><br>                        cnt += <span class="hljs-number">1</span><br>                ans = cnt <span class="hljs-keyword">if</span> cnt &gt; ans <span class="hljs-keyword">else</span> ans<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>ç¬‘æ­»ï¼Œpythonç›´æ¥è¶…æ—¶äº†ï¼Œè¿™æ€ä¹ˆåŠï¼Œæ¢ä¸ªjavaè¯•è¯•å‘—ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">orderOfLargestPlusSign</span><span class="hljs-params">(<span class="hljs-type">int</span> n, <span class="hljs-type">int</span>[][] mines)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span>[][] matrix = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n][n];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span>[] mine : mines) &#123;<br>            matrix[mine[<span class="hljs-number">0</span>]][mine[<span class="hljs-number">1</span>]] = <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; n; j++) &#123;<br>                <span class="hljs-type">int</span> <span class="hljs-variable">cnt</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>                    <span class="hljs-keyword">if</span> (i - cnt &lt; <span class="hljs-number">0</span> || j - cnt &lt; <span class="hljs-number">0</span> || i + cnt &gt; n - <span class="hljs-number">1</span> || j + cnt &gt; n - <span class="hljs-number">1</span>) &#123;<br>                        <span class="hljs-keyword">break</span>;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (matrix[i - cnt][j] == <span class="hljs-number">1</span> || matrix[i][j + cnt] == <span class="hljs-number">1</span> || matrix[i + cnt][j] == <span class="hljs-number">1</span> || matrix[i][j - cnt] == <span class="hljs-number">1</span>) &#123;<br>                        <span class="hljs-keyword">break</span>;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span> &#123;<br>                        cnt += <span class="hljs-number">1</span>;<br>                    &#125;<br>                &#125;<br>                ans = Math.max(cnt, ans);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>javaå°±ä¸è¶…æ—¶ï¼Œä»€ä¹ˆåŠ›æ‰£äº²å„¿å­ï¼Œè¿™å°±è½¬å‹ï¼</p><h2 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h2><p>å¯¹ä¸€ä¸ªåæ ‡<code>(i, j)</code>ï¼Œå¦‚ä½•å»æ‰¾å®ƒçš„æœ€å¤§â€œè½´å¯¹ç§°â€åŠ å·æ ‡å¿—å‘¢ï¼Ÿ<br>é€šè¿‡é¢˜ç›®å¯ä»¥çŸ¥é“ï¼Œæ‰¾å‡º<code>(i, j)</code>æ²¿ä¸Šä¸‹å·¦å³æ–¹å‘èƒ½èµ°çš„è·ç¦»ï¼Œç„¶åå–å®ƒä»¬å½“ä¸­çš„æœ€å°å€¼ï¼Œå°±æ˜¯<code>(i ,j)</code>æ‰€æ‹¥æœ‰çš„<code>k</code>é˜¶â€œè½´å¯¹ç§°â€åŠ å·æ ‡å¿—ã€‚<br>æ ¹æ®è¿™ä¸ªè§„åˆ™ï¼Œæ„é€ å‡ºåŠ¨æ€è§„åˆ’æ•°ç»„ï¼Œå³ï¼š<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_764_2.png" alt="764_dp_1"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_764_3.png" alt="764_dp_2"><br>å› ä¸ºæœ‰å››ä¸ªæ–¹å‘ï¼Œæ‰€ä»¥éœ€è¦å››ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«ä»£è¡¨å¯¹åº”åæ ‡ä¸Šä¸‹å·¦å³èƒ½åˆ°è¾¾çš„æœ€å¤§è·ç¦»ã€‚<br>ç„¶åæ ¹æ®æ‰€å†™å¼å­ç¼–å†™ç¨‹åºå³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">orderOfLargestPlusSign</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, mines: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        matrix = [[<span class="hljs-number">1</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]  <span class="hljs-comment"># æ„é€ çŸ©é˜µ</span><br>        <span class="hljs-keyword">for</span> mine <span class="hljs-keyword">in</span> mines:<br>            matrix[mine[<span class="hljs-number">0</span>]][mine[<span class="hljs-number">1</span>]] = <span class="hljs-number">0</span><br>        left = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        right = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        up = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        down = [[<span class="hljs-number">0</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-comment"># å…ˆæŠŠæœ€å¤–è¾¹ä¸€åœˆéƒ½åˆå§‹åŒ–ä¸º1</span><br>            <span class="hljs-keyword">if</span> matrix[i][<span class="hljs-number">0</span>] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ç¬¬ä¸€åˆ—</span><br>                left[i][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> matrix[i][n - <span class="hljs-number">1</span>] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># æœ€åä¸€åˆ—</span><br>                right[i][n - <span class="hljs-number">1</span>] = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> matrix[<span class="hljs-number">0</span>][i] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ç¬¬ä¸€è¡Œ</span><br>                up[<span class="hljs-number">0</span>][i] = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> matrix[n - <span class="hljs-number">1</span>][i] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># æœ€åä¸€è¡Œ</span><br>                down[n - <span class="hljs-number">1</span>][i] = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):  <span class="hljs-comment"># å¼€å§‹è®¡ç®—æ¯ä¸ªåæ ‡çš„â€œè½´å¯¹ç§°â€åŠ å·æ ‡å¿—ï¼Œé¡ºåºä¸ºå·¦å³ä¸Šä¸‹</span><br>                <span class="hljs-keyword">if</span> matrix[i][j] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ç¬¬iè¡Œä»å·¦å¾€å³è®¡ç®—æ¯ä¸ªåæ ‡çš„leftä¸­çš„å€¼</span><br>                    left[i][j] = left[i][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> matrix[i][n - <span class="hljs-number">1</span> - j] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ç¬¬iè¡Œä»å³å¾€å·¦è®¡ç®—æ¯ä¸ªåæ ‡çš„rightä¸­çš„å€¼</span><br>                    right[i][n - <span class="hljs-number">1</span> - j] = right[i][n - j] + <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> matrix[j][i] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ç¬¬iè¡Œä»ä¸Šå¾€ä¸‹è®¡ç®—æ¯ä¸ªåæ ‡çš„upä¸­çš„å€¼</span><br>                    up[j][i] = up[j - <span class="hljs-number">1</span>][i] + <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> matrix[n - <span class="hljs-number">1</span> - j][i] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ç¬¬iè¡Œä»ä¸‹å¾€ä¸Šè®¡ç®—æ¯ä¸ªåæ ‡çš„downä¸­çš„å€¼</span><br>                    down[n - <span class="hljs-number">1</span> - j][i] = down[n - j][i] + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(<span class="hljs-built_in">min</span>(left[i][j], right[i][j], up[i][j], down[i][j])<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n) <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n))<br></code></pre></td></tr></table></figure><p>å†å¤šå†™ä¸ªJavaç†Ÿæ‚‰ç†Ÿæ‚‰ï¼ˆå¯¹äº†ï¼Œjavaåˆå§‹åŒ–æ•°ç»„ä¸­çš„intçš„æ•°å€¼é»˜è®¤å°±æ˜¯0ï¼Œæ‰€ä»¥ç´¢æ€§ç›´æ¥æŠŠ1å’Œ0åè¿‡æ¥åˆ¤æ–­ï¼Œçœå¾—éº»çƒ¦ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-type">int</span> <span class="hljs-variable">ans</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span>[][] matrix = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n][n];<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span>[] mine : mines) &#123;<br>    matrix[mine[<span class="hljs-number">0</span>]][mine[<span class="hljs-number">1</span>]] = <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-type">int</span>[][] left = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n][n];<br><span class="hljs-type">int</span>[][] right = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n][n];<br><span class="hljs-type">int</span>[][] up = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n][n];<br><span class="hljs-type">int</span>[][] down = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[n][n];<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>    <span class="hljs-keyword">if</span>(matrix[i][<span class="hljs-number">0</span>] == <span class="hljs-number">0</span>)<br>        left[i][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(matrix[i][n - <span class="hljs-number">1</span>] == <span class="hljs-number">0</span>)<br>        right[i][n - <span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(matrix[<span class="hljs-number">0</span>][i] == <span class="hljs-number">0</span>)<br>        up[<span class="hljs-number">0</span>][i] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(matrix[n - <span class="hljs-number">1</span>][i] == <span class="hljs-number">0</span>)<br>        down[n - <span class="hljs-number">1</span>][i] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; j &lt; n; j++) &#123;<br>        <span class="hljs-keyword">if</span>(matrix[i][j] == <span class="hljs-number">0</span>)<br>            left[i][j] = left[i][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(matrix[i][n - <span class="hljs-number">1</span> - j] == <span class="hljs-number">0</span>)<br>            right[i][n - <span class="hljs-number">1</span> - j] = right[i][n - j] + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(matrix[j][i] == <span class="hljs-number">0</span>)<br>            up[j][i] = up[j - <span class="hljs-number">1</span>][i] + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(matrix[n - <span class="hljs-number">1</span> - j][i] == <span class="hljs-number">0</span>)<br>            down[n - <span class="hljs-number">1</span> - j][i] = down[n - j][i] + <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; j &lt; n; j++)&#123;<br>        ans = Math.max(ans,Math.min(left[i][j], Math.min(right[i][j], Math.min(up[i][j], down[i][j]))));<br>    &#125;<br>&#125;<br><span class="hljs-keyword">return</span> ans;<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>åŠ¨æ€è§„åˆ’</tag>
      
      <tag>[object Object]</tag>
      
      <tag>Solution</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1684. ç»Ÿè®¡ä¸€è‡´å­—ç¬¦ä¸²çš„æ•°ç›®</title>
    <link href="/2022/11/08/leetcode-1684/"/>
    <url>/2022/11/08/leetcode-1684/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1684_1.png" alt="1684"></p><h1>æ€è·¯åŠå®ç°</h1><p>æ—¢ç„¶æ˜¯è¦è®©æˆ‘ä»¬åˆ¤æ–­<code>words</code>ä¸­çš„æ¯ä¸ª<code>word</code>ä¸­çš„æ¯ä¸ªå­—æ¯æœ‰æ²¡æœ‰åœ¨<code>allowed</code>ä¸­å‡ºç°ï¼ˆå­˜åœ¨ï¼‰ï¼Œé‚£å°±æ˜¯è¦æ¶‰åŠåˆ°éå†<code>word</code>çš„åŒæ—¶éå†<code>allowed</code>ï¼Œ<br>é‚£å€’ä¸å¦‚å…ˆç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æŠŠ<code>allowed</code>ä¸­çš„æ¯ä¸ªå­—æ¯éƒ½å­˜è¿›å»ï¼Œå› ä¸º<code>allowed</code>ä¸­çš„å­—æ¯æ˜¯ä¸ä¼šé‡å¤çš„ï¼Œè€Œä¸”è¿™æ ·å¯ä»¥æŠŠéå†å˜æˆæ£€ç´¢ï¼Œå‡å°æ—¶é—´å¤æ‚åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countConsistentStrings</span>(<span class="hljs-params">self, allowed: <span class="hljs-built_in">str</span>, words: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        alpha_dict = &#123;&#125;<br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> alpha <span class="hljs-keyword">in</span> allowed:  <span class="hljs-comment"># ç”¨ä¸ªå­—å…¸ä¿å­˜ allowed ä¸­çš„å­—ç¬¦ï¼Œä¹‹åæ£€ç´¢å°±èƒ½åŠ å¿«</span><br>            alpha_dict[alpha] = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> words:<br>            <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> word:<br>                <span class="hljs-keyword">if</span> a <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> alpha_dict:<br>                    ans -= <span class="hljs-number">1</span><br>                    <span class="hljs-keyword">break</span><br>            ans += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œæœ€çŒªçš„ä¸€ä¸ªï¼Œç”¨å­—å…¸å­˜ï¼Œæ‚¨å®Œå…¨æŠŠé›†åˆå¿˜æ‰äº†æ˜¯å—ï¼ˆ<br>ä¸‹é¢æ˜¯æ¢æˆé›†åˆçš„ï¼Œå…¶å®æ²¡å·®å•¦ï¼ˆ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countConsistentStrings</span>(<span class="hljs-params">self, allowed: <span class="hljs-built_in">str</span>, words: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        alpha_set = <span class="hljs-built_in">set</span>(allowed)<br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> words:<br>            <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> word:<br>                <span class="hljs-keyword">if</span> a <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> alpha_set:<br>                    ans -= <span class="hljs-number">1</span><br>                    <span class="hljs-keyword">break</span><br>            ans += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>å†ç”šå°±ç›´æ¥åˆ©ç”¨ç‰¹æ€§äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countConsistentStrings</span>(<span class="hljs-params">self, allowed: <span class="hljs-built_in">str</span>, words: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> word <span class="hljs-keyword">in</span> words:<br>            <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> word:<br>                <span class="hljs-keyword">if</span> a <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> allowed:<br>                    ans -= <span class="hljs-number">1</span><br>                    <span class="hljs-keyword">break</span><br>            ans += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p>ï¼ˆçœ‹åˆ°ä¸ªå†…å­˜ä½¿ç”¨0.å‡ çš„ï¼Œä¸€çœ‹ä»£ç ç›´æ¥æ˜¯ç”¨çš„<code>issubset()</code>ï¼Œè¿™æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿâ€œ<code>issubset()</code>æ–¹æ³•ç”¨äºåˆ¤æ–­é›†åˆçš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½åŒ…å«åœ¨æŒ‡å®šé›†åˆä¸­ï¼Œå¦‚æœæ˜¯åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚â€ï¼Œæœ‰å­¦åˆ°ï¼Œè°¢è°¢è¿™ä½å¤§ä½¬</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>å“ˆå¸Œè¡¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-816. æ¨¡ç³Šåæ ‡</title>
    <link href="/2022/11/08/leetcode-816/"/>
    <url>/2022/11/08/leetcode-816/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_816_1.png" alt="816"></p><h1>æ€è·¯åŠå®ç°</h1><p>è¿™é¢˜ä¸€å¼€å§‹æˆ‘æƒ³åˆ°çš„å°±æ˜¯ï¼Œå…ˆç¡®å®šé€—å·çš„ä½ç½®ï¼Œç„¶åå†æ‰¾å°æ•°ç‚¹çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯å…ˆæšä¸¾é€—å·ï¼Œå†æšä¸¾ç¡®å®šé€—å·ä¹‹åä¸¤éƒ¨åˆ†èƒ½ç»„æˆçš„ä¸åŒç»„åˆã€‚<br>ä½†æ˜¯åé¢ä¸€ç›´å¡åœ¨å¦‚ä½•ç¡®å®šå°æ•°ç‚¹çš„ä½ç½®ä¸Šäº†ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ•°å­¦å·®ç”Ÿçš„ç¼˜æ•…ï¼ˆæ‚²<br>æ‰€ä»¥å°±å»çœ‹æ€è·¯äº†ï¼Œå¤§è‡´å†™äº†ä¸€ä¸‹æ€è·¯ï¼Œç„¶åéš”å¤©å†æ ¹æ®æ€è·¯æŠŠä»£ç å†™å‡ºæ¥ã€‚<br>ä¸‹é¢è´´ä¸€ä¸‹è‡ªå·±å¤§æ¦‚æ•´ç†çš„æ€è·¯å’Œä»£ç ï¼š<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_816_2.png" alt="816"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">ambiguousCoordinates</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:<br>        result = []<br><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">spilt</span>(<span class="hljs-params">part: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:<br>            p_list = []<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(part) == <span class="hljs-number">1</span> <span class="hljs-keyword">or</span> part[<span class="hljs-number">0</span>] != <span class="hljs-string">&#x27;0&#x27;</span>:  <span class="hljs-comment"># æ‹¿æ•´æ•°</span><br>                p_list.append(part)<br>            <span class="hljs-keyword">for</span> p_index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(part)):  <span class="hljs-comment"># ç¡®å®šå°æ•°ç‚¹çš„ä½ç½®</span><br>                <span class="hljs-keyword">if</span> p_index != <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> part[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;0&#x27;</span> <span class="hljs-keyword">or</span> part[-<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;0&#x27;</span>:<br>                    <span class="hljs-keyword">continue</span><br>                p_list.append(part[:p_index] + <span class="hljs-string">&quot;.&quot;</span> + part[p_index:])<br>            <span class="hljs-keyword">return</span> p_list<br><br>        <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(s) - <span class="hljs-number">2</span>):  <span class="hljs-comment"># æšä¸¾é€—å·çš„ä½ç½®</span><br>            part1 = s[<span class="hljs-number">1</span>: index + <span class="hljs-number">1</span>]  <span class="hljs-comment"># ç¡®å®šé€—å·çš„ä½ç½®åï¼Œå­—ç¬¦ä¸²åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œç”¨æ¥ç¡®å®šä¸¤éƒ¨åˆ†ä¸­çš„å­—ä¸²</span><br>            part2 = s[index + <span class="hljs-number">1</span>: <span class="hljs-built_in">len</span>(s) - <span class="hljs-number">1</span>]<br>            part1_list = spilt(part1)  <span class="hljs-comment"># ç¬¬ä¸€éƒ¨åˆ†èƒ½æ„æˆçš„å­—ä¸²</span><br>            part2_list = spilt(part2)  <span class="hljs-comment"># ç¬¬äºŒéƒ¨åˆ†èƒ½æ„æˆçš„å­ä¸²</span><br>            <span class="hljs-keyword">for</span> p1 <span class="hljs-keyword">in</span> part1_list:<br>                <span class="hljs-keyword">for</span> p2 <span class="hljs-keyword">in</span> part2_list:<br>                    result.append(<span class="hljs-string">&quot;(&quot;</span> + p1 + <span class="hljs-string">&quot;, &quot;</span> + p2 + <span class="hljs-string">&quot;)&quot;</span>)  <span class="hljs-comment"># ä¸¤éƒ¨åˆ†èƒ½æ„æˆçš„äºŒç»´åæ ‡</span><br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1678. è®¾è®¡ Goal è§£æå™¨</title>
    <link href="/2022/11/06/leetcode-1678/"/>
    <url>/2022/11/06/leetcode-1678/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1678_1.png" alt="1678"></p><h1>æ€è·¯å’Œå®ç°</h1><h2 id="ç›´æ¥è°ƒç”¨å‡½æ•°">ç›´æ¥è°ƒç”¨å‡½æ•°</h2><p>è¿™é¢˜ä¸å·æ‡’é‚£è¿˜æ˜¯äººå—ï¼Ÿç›´æ¥ä¸Š<code>replace()</code>å¥½å§ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">interpret</span>(<span class="hljs-params">self, command: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>        <span class="hljs-keyword">return</span> command.replace(<span class="hljs-string">&quot;()&quot;</span>, <span class="hljs-string">&quot;o&quot;</span>).replace(<span class="hljs-string">&quot;(al)&quot;</span>, <span class="hljs-string">&quot;al&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="æ­£ç»éå†">æ­£ç»éå†</h2><p>OKï¼Œå·æ‡’å·å®Œäº†è¿˜æ˜¯è¦å›å½’æœ¬å¿ƒçš„ï¼Œå¯ä»¥ç›´æ¥éå†ï¼Œç„¶åé€šè¿‡ä¸€äº›<code>if</code>åˆ¤æ–­æ€ä¹ˆè½¬æ¢ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">interpret</span>(<span class="hljs-params">self, command: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>        str_len = <span class="hljs-built_in">len</span>(command)<br>        i = <span class="hljs-number">0</span><br>        result = <span class="hljs-string">&quot;&quot;</span><br>        <span class="hljs-keyword">while</span> i &lt; str_len:<br>            <span class="hljs-keyword">if</span> command[i] == <span class="hljs-string">&#x27;G&#x27;</span>:  <span class="hljs-comment"># é‡åˆ°Gï¼Œç›´æ¥å†™åˆ°ç»“æœé‡Œ</span><br>                result += <span class="hljs-string">&quot;G&quot;</span><br>                i += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> command[i] == <span class="hljs-string">&#x27;(&#x27;</span>:  <span class="hljs-comment"># é‡åˆ°å·¦æ‹¬å·ï¼Œçœ‹è·Ÿåœ¨åé¢çš„å­—ç¬¦åˆ†æƒ…å†µè®¨è®º</span><br>                <span class="hljs-keyword">if</span> command[i + <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;a&#x27;</span>:  <span class="hljs-comment"># åè¾¹è·Ÿçš„æ˜¯ a</span><br>                    result += <span class="hljs-string">&quot;al&quot;</span><br>                    i += <span class="hljs-number">4</span><br>                <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># åè¾¹è·Ÿçš„æ˜¯ (</span><br>                    result += <span class="hljs-string">&quot;o&quot;</span><br>                    i += <span class="hljs-number">2</span><br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1106. è§£æå¸ƒå°”è¡¨è¾¾å¼</title>
    <link href="/2022/11/06/leetcode-1106/"/>
    <url>/2022/11/06/leetcode-1106/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1106_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>æ€è·¯å’Œå®ç°</h1><p>ä¸€çœ¼ç”¨çš„è®¡ç®—ä¸­ç¼€è¡¨è¾¾å¼çš„æ€è·¯ï¼Œç›´æ¥ç”¨ä¸¤ä¸ªæ ˆå­˜è¿ç®—ç¬¦å’Œå¸ƒå°”å€¼äº†ï¼Œä¸çŸ¥é“çš„è¯å¯ä»¥å»äº†è§£ä¸€ä¸‹ã€‚ä»£ç ä¸­ä¹Ÿå†™å‡ºäº†è¾ƒä¸ºè¯¦ç»†çš„æ³¨é‡Šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">parseBoolExpr</span>(<span class="hljs-params">self, expression: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        op_stack = []<br>        num_stack = []<br>        <span class="hljs-keyword">for</span> i, char <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(expression):<br>            <span class="hljs-keyword">if</span> char == <span class="hljs-string">&quot;,&quot;</span>:<br>                <span class="hljs-keyword">continue</span><br>            <span class="hljs-keyword">elif</span> char == <span class="hljs-string">&quot;|&quot;</span> <span class="hljs-keyword">or</span> char == <span class="hljs-string">&quot;&amp;&quot;</span> <span class="hljs-keyword">or</span> char == <span class="hljs-string">&quot;!&quot;</span>:  <span class="hljs-comment"># è¿ç®—ç¬¦å…¥æ ˆ</span><br>                op_stack.append(char)<br>                <span class="hljs-keyword">continue</span><br>            <span class="hljs-keyword">elif</span> char == <span class="hljs-string">&quot;)&quot;</span>:  <span class="hljs-comment"># æ‹¿ä¸€ä¸ªè¿ç®—ç¬¦å’Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·ä¸€ç›´æ‹¿å¸ƒå°”å€¼ï¼Œç„¶åè®¡ç®—</span><br>                op = op_stack.pop()<br>                num_list = []<br>                <span class="hljs-keyword">while</span> num_stack[-<span class="hljs-number">1</span>] != <span class="hljs-string">&quot;(&quot;</span>:<br>                    num_list.append(num_stack.pop())<br>                num_stack.pop()<br>                <span class="hljs-keyword">if</span> op == <span class="hljs-string">&quot;!&quot;</span>:  <span class="hljs-comment"># éè¿ç®—ï¼Œå¸ƒå°”å€¼å–åå†å¡å…¥è¿ç®—æ•°æ ˆä¸­</span><br>                    <span class="hljs-keyword">if</span> num_list[<span class="hljs-number">0</span>] == <span class="hljs-string">&quot;f&quot;</span>:<br>                        num_stack.append(<span class="hljs-string">&quot;t&quot;</span>)<br>                    <span class="hljs-keyword">else</span>:<br>                        num_stack.append(<span class="hljs-string">&quot;f&quot;</span>)<br>                <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&quot;|&quot;</span>:  <span class="hljs-comment"># æˆ–è¿ç®—ï¼Œåªè¦æœ‰ä¸€ä¸ªçœŸå€¼å³ä¸ºçœŸ</span><br>                    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;t&quot;</span> <span class="hljs-keyword">in</span> num_list:<br>                        num_stack.append(<span class="hljs-string">&quot;t&quot;</span>)<br>                    <span class="hljs-keyword">else</span>:<br>                        num_stack.append(<span class="hljs-string">&quot;f&quot;</span>)<br>                <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># ä¸è¿ç®—ï¼Œåªè¦æœ‰ä¸€ä¸ªå€¼ä¸ä¸ºçœŸï¼Œç»“æœå°±ä¸ä¸ºçœŸ</span><br>                    <span class="hljs-keyword">if</span> <span class="hljs-string">&quot;f&quot;</span> <span class="hljs-keyword">in</span> num_list:<br>                        num_stack.append(<span class="hljs-string">&quot;f&quot;</span>)<br>                    <span class="hljs-keyword">else</span>:<br>                        num_stack.append(<span class="hljs-string">&quot;t&quot;</span>)<br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># å…¶ä»–ç¬¦å·å…¥è¿ç®—ç¬¦æ ˆ</span><br>                num_stack.append(char)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span> <span class="hljs-keyword">if</span> num_stack[<span class="hljs-number">0</span>] == <span class="hljs-string">&quot;t&quot;</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p>ï¼ˆè¿™ä¹Ÿèƒ½ä¸Šå›°éš¾é¢˜å•Šï¼Œé‚£æˆ‘å¸Œæœ›å›°éš¾éƒ½æ˜¯è¿™ç§éš¾åº¦ï¼‰</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>æ ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1668. æœ€å¤§é‡å¤å­å­—ç¬¦ä¸²</title>
    <link href="/2022/11/03/leetcode-1668/"/>
    <url>/2022/11/03/leetcode-1668/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1668_1.png" alt="1668"></p><h1>æ€è·¯å’Œå®ç°</h1><p>çœ‹åˆ°è¿™ç§é¢˜ï¼Œç†Ÿæ‚‰çš„æ„Ÿè§‰ï¼Œå“å‘¦ï¼Œè¿™ä¸KMPå—ï¼Ÿè®¡ç®—æ¯ä¸ªå­—ç¬¦çš„ç‰¹å¾å‘é‡ç”¨ä»¥ç¡®å®šåŒ¹é…å¤±è´¥æ—¶çš„å›æº¯ä½ç½®ï¼Œæ€è·¯æ¸…æ™°ã€‚<br>é—®é¢˜æ˜¯æˆ‘ä¸ä¼šå†™KMPã€‚ï¼ˆæ—©å°±å¿˜å…‰äº†.jpgï¼‰<br>é‚£è¡Œï¼Œé‚£å°±æœ€ç®€å•ç²—æš´çš„éå†å§ã€‚<br>æœ€å–œæ¬¢çš„ä¸€é›†ï¼ˆä¸€ç§åšæ³•ï¼‰.jpg</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maxRepeating</span>(<span class="hljs-params">self, sequence: <span class="hljs-built_in">str</span>, word: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        result = repeat_time = i = flag = <span class="hljs-number">0</span><br>        word_len = <span class="hljs-built_in">len</span>(word)<br>        s_len = <span class="hljs-built_in">len</span>(sequence)<br>        sequence += <span class="hljs-string">&quot; &quot;</span> * word_len  <span class="hljs-comment"># é˜²æ­¢ä¸‹æ ‡è¶Šç•Œç½¢äº†</span><br>        <span class="hljs-keyword">while</span> i &lt; s_len:<br>            <span class="hljs-keyword">if</span> sequence[i] == word[<span class="hljs-number">0</span>]:  <span class="hljs-comment"># å¦‚æœå½“å‰å­—æ¯å’Œwordé¦–å­—æ¯ç›¸åŒ</span><br>                <span class="hljs-keyword">while</span> sequence[i: i + word_len] == word:<br>                    flag = <span class="hljs-number">1</span><br>                    i = i + word_len<br>                    repeat_time += <span class="hljs-number">1</span>  <span class="hljs-comment"># é‡å¤æ¬¡æ•°+1</span><br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> flag:<br>                    i += <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:<br>                    i = i - word_len + <span class="hljs-number">1</span><br>                    flag = <span class="hljs-number">0</span><br>                result = <span class="hljs-built_in">max</span>(result, repeat_time)<br>                repeat_time = <span class="hljs-number">0</span><br>                <span class="hljs-keyword">continue</span><br>            i += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå› ä¸ºæ‡’æ‰€ä»¥æˆ‘ç›´æ¥ç”¨åˆ‡ç‰‡è¿›è¡Œæ¯”è¾ƒï¼Œæå¾—æˆ‘è¿˜å¾—ç”¨äº†ä¸€ä¸ª<code>flag</code>å˜é‡è¾…åŠ©å›æº¯ï¼Œå±äºæ˜¯ç©ºé—´ï¼ˆå†…å­˜ï¼‰æ€æ‰‹äº†ã€‚<br>ï¼ˆå…¶å®æ˜¯å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’+KMPçš„ä½†æ˜¯æˆ‘ä¸ä¼šè¿™å¤ªé«˜çº§äº†å‘œå‘œï¼‰<br>ï¼ˆç®€å•é¢˜å°±åº”è¯¥ç”¨ç®€å•å†™æ³•æ‰å¯¹(x)ï¼‰</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1620. ç½‘ç»œä¿¡å·æœ€å¥½çš„åæ ‡</title>
    <link href="/2022/11/02/leetcode-1620/"/>
    <url>/2022/11/02/leetcode-1620/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1620_1.png" alt="1620"></p><h1>æ€è·¯å’Œå®ç°</h1><p>èƒ½æœ‰ä»€ä¹ˆæ€è·¯å•Šï¼Ÿæ€è·¯å°±æ˜¯å®¡é¢˜ï¼Œåˆ«è·Ÿæˆ‘ä¸€æ ·ä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ±‚å“ªä¸ªå¡”çš„ä¿¡å·å¼ºåº¦æœ€é«˜å°±å¥½äº†ï¼ŒçœŸçš„æœäº†ã€‚<br>å“¦å¯¹äº†ï¼Œæ³¨æ„ä¸€ä¸‹â€œå¦‚æœä¸€ä¸ªåæ ‡è·Ÿå¡”çš„è·ç¦»åœ¨ radius ä»¥å†…â€è¿™å¥è¯ï¼Œè¿™ä¸ªä»¥å†…æ˜¯å°äºç­‰äºï¼Œå“ˆå“ˆï¼Œç¿»è¯‘æ‹–å‡ºå»æªæ¯™ï¼Œä¸ä¼šç¿»è¯‘å¯ä»¥ç›´æ¥å†™ dis &lt;= radius å¥½å—ï¼Ÿ<br>æˆ‘æƒ³åˆ°çš„å°±æ˜¯éå†æ±‚å‡ºæ¯ä¸ªç‚¹çš„ä¿¡å·å¼ºåº¦ï¼Œæˆ‘è¿˜ä»¥ä¸ºèƒ½æœ‰ä»€ä¹ˆé«˜æ‰‹æ€è·¯ï¼Œç»“æœæ˜¯çº¯çº¯éå†é¢˜ï¼Œå°±è¿™è¿˜ç»™äº†ä¸ªä¸­ç­‰ï¼Œçº¯é¢˜ç›®éš¾è¯»ï¼Œä¸æƒ³å¤šè¯´äº†ï¼Œå°±è¿™æ ·å§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bestCoordinate</span>(<span class="hljs-params">self, towers: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], radius: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        max_x = <span class="hljs-built_in">max</span>(t[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> towers)<br>        max_y = <span class="hljs-built_in">max</span>(t[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> towers)<br>        max_signal = ([<span class="hljs-number">0</span>, <span class="hljs-number">0</span>], <span class="hljs-number">0</span>)  <span class="hljs-comment"># ç”¨å…ƒç»„ä¿å­˜æœ€å¤§ä¿¡å·å¼ºåº¦åæ ‡</span><br>        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_x + <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_y + <span class="hljs-number">1</span>):<br>                tmp_signal = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä¿å­˜å½“å‰å¡”å¾—ä¿¡å·å¼ºåº¦</span><br>                <span class="hljs-keyword">for</span> i2, t2 <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(towers):<br>                    <span class="hljs-keyword">if</span> x == t2[<span class="hljs-number">0</span>] <span class="hljs-keyword">and</span> y == t2[<span class="hljs-number">1</span>]:<br>                        tmp_signal += t2[<span class="hljs-number">2</span>]<br>                        <span class="hljs-keyword">continue</span><br>                    dis = math.sqrt((x - t2[<span class="hljs-number">0</span>]) ** <span class="hljs-number">2</span> + (y - t2[<span class="hljs-number">1</span>]) ** <span class="hljs-number">2</span>)  <span class="hljs-comment"># æ¬§å‡ é‡Œå¾—è·ç¦»æ€ä¹ˆç®—ï¼Ÿsqrt((x1 - x2)^2 + (y1 - y2)^2)</span><br>                    <span class="hljs-keyword">if</span> dis &lt;= radius:  <span class="hljs-comment"># èƒ½åˆ°è¾¾</span><br>                        tmp_signal += <span class="hljs-built_in">int</span>(t2[<span class="hljs-number">2</span>] / (<span class="hljs-number">1</span> + dis))<br>                <span class="hljs-keyword">if</span> tmp_signal &gt; max_signal[<span class="hljs-number">1</span>]:<br>                    max_signal = ([x, y], tmp_signal)<br>        <span class="hljs-keyword">return</span> max_signal[<span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>æš´åŠ›æœç´¢</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-784. å­—æ¯å¤§å°å†™å…¨æ’åˆ— &amp; å…¨æ’åˆ—</title>
    <link href="/2022/11/02/leetcode-784/"/>
    <url>/2022/11/02/leetcode-784/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_784_1.png" alt="784"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_46_1.png" alt="46"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_47_1.png" alt="47"></p><h1>æ€è·¯å’Œå®ç°</h1><h2 id="784-å­—æ¯å¤§å°å†™å…¨æ’åˆ—">784. å­—æ¯å¤§å°å†™å…¨æ’åˆ—</h2><h3 id="å¹¿åº¦ä¼˜å…ˆæœç´¢">å¹¿åº¦ä¼˜å…ˆæœç´¢</h3><p>æåˆ°å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œæˆ‘ä»¬å°±è¦æƒ³åˆ°é˜Ÿåˆ—ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—æ¥ä¿å­˜æ¯ä¸€å­—ç¬¦ä¸²ã€‚æ€ä¹ˆè¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢å‘¢ï¼Ÿå½“ç„¶æ˜¯ä¸€ç›´æœä¸‹å»ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºå•¦ï¼Œ<br>åœ¨æœç´¢çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¯æ¬¡å–é˜Ÿåˆ—å¤´çš„å­—ç¬¦ä¸²ï¼Œé¦–å…ˆçœ‹çœ‹å½“å‰å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦å’Œç»™æˆ‘ä»¬çš„å­—ç¬¦ä¸²<code>s</code>çš„é•¿åº¦ä¸€è‡´ï¼Œæ˜¯çš„è¯å¡åˆ°ç»“æœåˆ—è¡¨é‡Œï¼Œ<br>ä¸æ˜¯çš„è¯ï¼Œå°±çœ‹åœ¨å®ƒåé¢çš„é‚£ä¸ªå­—ç¬¦ä¸²æ˜¯å­—æ¯è¿˜æ˜¯æ•°å­—ï¼Œå¦‚æœæ˜¯å­—æ¯ï¼Œå°±æŠŠå®ƒçš„å¤§å°å†™éƒ½åŠ åˆ°å½“å‰å­—ç¬¦ä¸²é‡Œï¼Œç„¶åå¡é˜Ÿå°¾é‡Œï¼›å¦‚æœæ˜¯æ•°å­—ï¼Œé‚£å°±ç›´æ¥åŠ åˆ°å½“å‰å­—ç¬¦ä¸²é‡Œï¼Œç„¶åå¡é˜Ÿå°¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">letterCasePermutation</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:<br>        q = deque()<br>        q.append(<span class="hljs-string">&quot;&quot;</span>)<br>        result = []<br>        s_len = <span class="hljs-built_in">len</span>(s)<br>        <span class="hljs-keyword">while</span> q:<br>            tmp_str = q.popleft()<br>            n = <span class="hljs-built_in">len</span>(tmp_str)<br>            <span class="hljs-keyword">if</span> n == s_len:<br>                result.append(tmp_str)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">if</span> s[n].isalpha():  <span class="hljs-comment"># å½“å‰å­—ç¬¦ä¸²åé¢ä¸€ä½æ˜¯å­—æ¯</span><br>                    q.append(tmp_str + s[n])<br>                    q.append(tmp_str + s[n].swapcase())<br>                <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># æ˜¯æ•°å­—</span><br>                    q.append(tmp_str + s[n])<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><h3 id="æ·±åº¦ä¼˜å…ˆæœç´¢">æ·±åº¦ä¼˜å…ˆæœç´¢</h3><p>æ—¢ç„¶éƒ½æœ‰å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œé‚£è‡ªç„¶ä¹Ÿæœ‰æ·±åº¦ä¼˜å…ˆæœç´¢å•¦ï¼Œé‚£æ·±åº¦ä¼˜å…ˆæœç´¢è‡ªç„¶ä¹Ÿå°±æ˜¯ä½¿ç”¨æ ˆæ¥ä¿å­˜æ¯ä¸€å­—ç¬¦ä¸²å•¦ï¼Œå‰©ä¸‹çš„æ€è·¯å…¶å®æ˜¯å’Œä¸Šé¢å¹¿åº¦æ‰€è¿°å·®ä¸å¤šçš„ï¼Œ<br>ä¸è¿‡æ·±åº¦ä¼˜å…ˆæœç´¢å¯ä»¥ä½¿ç”¨é€’å½’ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ï¼Œè¿™é‡Œä¸¤ç§éƒ½å†™ä¸€ä¸‹å§ã€‚<br>å…ˆç»™å‡ºä¸ä½¿ç”¨é€’å½’çš„ç‰ˆæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">letterCasePermutation</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:<br>        q = deque()<br>        q.append(<span class="hljs-string">&quot;&quot;</span>)<br>        result = []<br>        s_len = <span class="hljs-built_in">len</span>(s)<br>        <span class="hljs-keyword">while</span> q:<br>            tmp_str = q.pop()<br>            n = <span class="hljs-built_in">len</span>(tmp_str)<br>            <span class="hljs-keyword">if</span> n == s_len:<br>                result.append(tmp_str)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">if</span> s[n].isalpha():  <span class="hljs-comment"># å½“å‰å­—ç¬¦ä¸²åé¢ä¸€ä½æ˜¯å­—æ¯</span><br>                    q.append(tmp_str + s[n].swapcase())<br>                    q.append(tmp_str + s[n])<br>                <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># æ˜¯æ•°å­—</span><br>                    q.append(tmp_str + s[n])<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ä»£ç åŸºæœ¬æ˜¯æ²¡å˜çš„ï¼Œåªæ˜¯æŠŠé˜Ÿåˆ—æ¢æˆäº†æ ˆï¼ˆå› ä¸ºæ‡’æ‰€ä»¥æ²¡æœ‰æ”¹å˜é‡åç§°ï¼Œç”¨çš„è¿˜æ˜¯<code>q(queue)</code>è€Œä¸æ˜¯<code>s(stack)</code>ï¼‰ï¼Œé¡ºä¾¿ä¸ºäº†ä¿è¯è¾“å‡ºé¡ºåºï¼Œå…ˆå‹å…¥è½¬æ¢å¤§å°å†™åçš„å­—ç¬¦ä¸²ï¼Œå†å‹å½“å‰å­—ç¬¦ä¸²ã€‚<br>ä½¿ç”¨é€’å½’çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´å­˜æ”¾å­—ç¬¦ä¸²ï¼Œç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²è½¬ä¸ºåˆ—è¡¨ï¼Œç„¶åè¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢ã€‚å¦‚æœé‡åˆ°æ•°å­—ï¼Œå°±è·³è¿‡ï¼›å¦‚æœé•¿åº¦å¤Ÿäº†ï¼Œå°±æŠŠå½“å‰åˆ—è¡¨è½¬å›å­—ç¬¦ä¸²å¹¶åŠ å…¥ç»“æœé›†ä¸­ï¼›å¦‚æœæ˜¯å­—æ¯ï¼Œå°±è°ƒç”¨é€’å½’ï¼Œç„¶åè½¬æ¢å¤§å°å†™å†æ¬¡é€’å½’ï¼Œä¸¤æ¬¡é€’å½’ç»“æŸååˆ«å¿˜è®°å›æº¯ï¼Œå³å†æ¬¡æŠŠå¤§å°å†™è½¬æ¢å›å»ã€‚<br>ä¸‹é¢æ˜¯ä½¿ç”¨é€’å½’ç‰ˆæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">letterCasePermutation</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:<br>        result = []<br>        s_len = <span class="hljs-built_in">len</span>(s)<br><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">cur_s, cur_len</span>):<br>            <span class="hljs-keyword">while</span> cur_len &lt; s_len <span class="hljs-keyword">and</span> s[cur_len].isdigit():<br>                cur_len += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> cur_len == s_len:  <span class="hljs-comment"># é€’å½’å‡ºå£</span><br>                result.append(<span class="hljs-string">&#x27;&#x27;</span>.join(cur_s))<br>                <span class="hljs-keyword">return</span><br>            dfs(cur_s, cur_len + <span class="hljs-number">1</span>)<br>            cur_s[cur_len] = cur_s[cur_len].swapcase()  <span class="hljs-comment"># æ”¹å˜å¤§å°å†™å†æ¬¡æœç´¢</span><br>            dfs(cur_s, cur_len + <span class="hljs-number">1</span>)<br>            cur_s[cur_len] = cur_s[cur_len].swapcase()  <span class="hljs-comment"># å›æº¯</span><br><br>        dfs(<span class="hljs-built_in">list</span>(s), <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><h2 id="46-å…¨æ’åº">46. å…¨æ’åº</h2><h3 id="æ·±åº¦ä¼˜å…ˆæœç´¢-2">æ·±åº¦ä¼˜å…ˆæœç´¢</h3><p>å¯¹äºè¿™ç§å…¨æ’åˆ—ï¼Œå¯ä»¥ç”»ä¸€é¢—æ ‘æ¥æ–¹ä¾¿ç†è§£ï¼Œç„¶åå†ç”±æ­¤è”æƒ³åˆ°<code>dfs</code>â€”â€”æ·±åº¦ä¼˜å…ˆæœç´¢æ¥åšã€‚<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_46_2.png" alt="å…¨æ’åˆ—æ ‘"><br>æ—¢ç„¶æœ‰é€’å½’ï¼Œé‚£é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯é€’å½’å‡ºå£ï¼Œè¿™ä¸ªé€’å½’å‡ºå£æ€ä¹ˆè®¾ç½®å‘¢ï¼Ÿæ ¹æ®æ ‘å›¾å¯ä»¥è”æƒ³åˆ°åˆ©ç”¨æ·±åº¦å’Œé¢˜ç›®æ‰€ç»™æ•°ç»„é•¿åº¦ï¼š<code>if depth == length: return</code>ï¼ŒåŒæ—¶ä¹Ÿèƒ½çŸ¥é“æ­¤æ—¶æ‰¾åˆ°äº†ä¸€ä¸ªæ’åˆ—ï¼Œå¯ä»¥å°†å…¶åŠ å…¥ç»“æœä¸­ã€‚<br>ç„¶åè¦æƒ³çš„å°±æ˜¯æ€ä¹ˆè¿›è¡Œé€’å½’äº†ã€‚å›¾å¾ˆç›´è§‚åœ°å‘Šè¯‰æˆ‘ä»¬ï¼Œæ¯ä¸€æ·±åº¦éƒ½éå†ä¸€éæ•°ç»„ï¼Œé‚£å°±ç…§åšã€‚ä¸è¿‡è¿˜å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ä¸‹ä¸€å±‚ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨å·²ç»ç”¨è¿‡çš„æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ·±åº¦æœç´¢çš„æ—¶å€™ï¼Œè¿˜éœ€è¦è®°å¾—ç”¨è¿‡å“ªäº›æ•°äº†ã€‚<br>å…³äºè¿™ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©æ•°ç»„æ¥å¸®åŠ©è®°å¿†ï¼Œå»ºç«‹ä¸€ä¸ª<code>flag</code>æ•°ç»„ï¼Œä¸‹æ ‡å¯¹åº”<code>nums</code>æ•°ç»„æ¯ä¸ªæ•°ï¼Œä½¿ç”¨<code>visited</code>å’Œ<code>unvisited</code>ä¸¤ä¸ªå€¼è¡¨ç¤ºä½¿ç”¨è¿‡å’Œæœªä½¿ç”¨è¿‡ã€‚<br>ä½†æ˜¯è¿˜æ²¡æœ‰ç»“æŸï¼Œå› ä¸ºåœ¨å®Œæˆä¸€æ¬¡æœç´¢ï¼ˆé€’å½’ï¼‰åè¿˜éœ€è¦è¿›è¡Œå›æº¯ï¼Œæ‰èƒ½ä¿è¯èƒ½ç»§ç»­è¿›è¡Œæœç´¢å¹¶æœç´¢å®Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€æ¬¡é€’å½’å®Œæˆåï¼ˆ<code>depth == length</code>ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä½¿ç”¨è¿‡çš„å€¼å†æ¬¡æ ‡è®°ä¸ºæœªä½¿ç”¨ï¼Œè¿™å«å›æº¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">permute</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        result = []<br>        tmp = []<br>        length = <span class="hljs-built_in">len</span>(nums)<br>        <span class="hljs-keyword">if</span> length == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> result<br>        flag = [<span class="hljs-string">&quot;unvisited&quot;</span>] * length  <span class="hljs-comment"># ä¸ºæ–¹ä¾¿ç†è§£ï¼Œè¿™é‡Œç”¨å­—ç¬¦ä¸²æ¥ä»£æ›¿å¸ƒå°”å€¼ï¼Œä¹Ÿå¯ä½¿ç”¨å¸ƒå°”å€¼ï¼ˆä¼šæ›´å¿«ï¼‰</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">depth: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">if</span> depth == length:<br>                result.append(tmp[:])  <span class="hljs-comment"># è®°ä½æ˜¯æ‹·è´ä¸€ä»½tmpçš„åˆ—è¡¨ï¼Œè€Œä¸æ˜¯åŠ å…¥tmpçš„å¼•ç”¨æŒ‡å‘çš„åˆ—è¡¨</span><br>                <span class="hljs-keyword">return</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(length):<br>                <span class="hljs-keyword">if</span> flag[i] == <span class="hljs-string">&quot;unvisited&quot;</span>:<br>                    flag[i] = <span class="hljs-string">&quot;visited&quot;</span><br>                    tmp.append(nums[i])<br>                    dfs(depth + <span class="hljs-number">1</span>)  <span class="hljs-comment"># è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢</span><br>                    flag[i] = <span class="hljs-string">&quot;unvisited&quot;</span>  <span class="hljs-comment"># æœç´¢å®Œåï¼Œéœ€è¦å›æº¯ï¼Œå³æŠŠå½“å‰èŠ‚ç‚¹æ ‡è®°æˆæœªæœªè®¿é—®çš„</span><br>                    tmp.pop()  <span class="hljs-comment"># å›æº¯ç¬¬äºŒæ­¥ï¼Œå› ä¸ºå˜æˆæœªè®¿é—®äº†ï¼Œæ‰€ä»¥ä¹Ÿè¦æŠŠè¿™ä¸ªæ•°å¼¹å‡º</span><br>        dfs(<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><h2 id="47-å…¨æ’åˆ—-IIï¼ˆåŒ…å«é‡å¤æ•°å­—çš„æ’åˆ—ï¼‰">47. å…¨æ’åˆ— IIï¼ˆåŒ…å«é‡å¤æ•°å­—çš„æ’åˆ—ï¼‰</h2><h3 id="æ·±åº¦ä¼˜å…ˆæœç´¢-3">æ·±åº¦ä¼˜å…ˆæœç´¢</h3><p>åœ¨è¿™ä¸€é¢˜ä¸­ï¼Œé¢˜ç›®æ‰€ç»™å‡ºçš„<code>nums</code>æ•°ç»„ä¸­ä¼šåŒ…å«é‡å¤çš„æ•°å­—ï¼Œä½†æ˜¯è¾“å‡ºä¸èƒ½åŒ…å«é‡å¤çš„æ’åˆ—ï¼Œæ‰€ä»¥è¿™ä¸€é¢˜çš„å¤§ä½“æ€è·¯å…¶å®æ˜¯å’Œä¸Šä¸€é¢˜ä¸€æ ·çš„ï¼Œ<br>è€Œé‡ç‚¹å°±æ˜¯ï¼š<strong>å¦‚ä½•å»é‡</strong><br>æˆ‘ä»¬å…ˆæ¥çœ‹è¿™é¢—æ ‘ï¼Œå¯ä»¥å‘ç°ï¼Œåªè¦æŠŠåŒä¸€å±‚çš„é‡å¤çš„æ•°è·³è¿‡å°±è¡Œäº†ï¼Œå¾ˆç®€å•å¯¹å§ï¼<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_47_2.png" alt="å…¨æ’åˆ—IIçš„æ ‘"><br>å¯¹ä¸ªé¬¼å•Šï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢ä½ æ€ä¹ˆä¿ç•™åŒä¸€å±‚çš„çŠ¶æ€å•Šï¼ŒåŒä¸€å±‚æ‰¾è¿™ä¸å¹¿åº¦ä¼˜å…ˆæœç´¢å—ï¼Ÿ<br>å¥½å§ï¼Œæˆ‘æ²¡æ€è·¯äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆå°è¯•æš´åŠ›æœç´¢ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">permuteUnique</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        result = []<br>        tmp = []<br>        length = <span class="hljs-built_in">len</span>(nums)<br>        <span class="hljs-keyword">if</span> length == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> result<br>        flag = [<span class="hljs-string">&quot;unvisited&quot;</span>] * length  <span class="hljs-comment"># ä¸ºæ–¹ä¾¿ç†è§£ï¼Œè¿™é‡Œç”¨å­—ç¬¦ä¸²æ¥ä»£æ›¿å¸ƒå°”å€¼ï¼Œä¹Ÿå¯ä½¿ç”¨å¸ƒå°”å€¼ï¼ˆä¼šæ›´å¿«ï¼‰</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">depth: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">if</span> depth == length <span class="hljs-keyword">and</span> tmp <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> result:<br>                result.append(tmp[:])  <span class="hljs-comment"># è®°ä½æ˜¯æ‹·è´ä¸€ä»½tmpçš„åˆ—è¡¨ï¼Œè€Œä¸æ˜¯åŠ å…¥tmpçš„å¼•ç”¨æŒ‡å‘çš„åˆ—è¡¨</span><br>                <span class="hljs-keyword">return</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(length):<br>                <span class="hljs-keyword">if</span> flag[i] == <span class="hljs-string">&quot;unvisited&quot;</span>:<br>                    flag[i] = <span class="hljs-string">&quot;visited&quot;</span><br>                    tmp.append(nums[i])<br>                    dfs(depth + <span class="hljs-number">1</span>)  <span class="hljs-comment"># è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢</span><br>                    flag[i] = <span class="hljs-string">&quot;unvisited&quot;</span>  <span class="hljs-comment"># æœç´¢å®Œåï¼Œéœ€è¦å›æº¯ï¼Œå³æŠŠå½“å‰èŠ‚ç‚¹æ ‡è®°æˆæœªæœªè®¿é—®çš„</span><br>                    tmp.pop()  <span class="hljs-comment"># å›æº¯ç¬¬äºŒæ­¥ï¼Œå› ä¸ºå˜æˆæœªè®¿é—®äº†ï¼Œæ‰€ä»¥ä¹Ÿè¦æŠŠè¿™ä¸ªæ•°å¼¹å‡º</span><br>        dfs(<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>è™½ç„¶ä½†æ˜¯ACäº†ï¼Œé‚£è¿™å°±æ˜¯å¯è¡Œçš„æ€è·¯ï¼Œæ‰€ä»¥ä»€ä¹ˆé¢˜éƒ½è¦å…ˆå°è¯•æš´åŠ›å˜›ï¼ˆ<br>okï¼Œæ¥ä¸‹æ¥æ˜¯çœ‹åˆ«äººé¢˜è§£æ—¶é—´ï¼æ•´ç†äº†ä¸€ä¸‹æ€è·¯æ”¾ä¸‹è¾¹è¿™å¼ å›¾äº†ã€‚ï¼ˆåŸæ¥æ˜¯å«<strong>å‰ªæ</strong>æ“ä½œå•Š<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_47_3.png" alt="æ€è·¯"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">permuteUnique</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        result = []<br>        tmp = []<br>        length = <span class="hljs-built_in">len</span>(nums)<br>        nums.sort()<br>        <span class="hljs-keyword">if</span> length == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> result<br>        flag = [<span class="hljs-string">&quot;unvisited&quot;</span>] * length  <span class="hljs-comment"># ä¸ºæ–¹ä¾¿ç†è§£ï¼Œè¿™é‡Œç”¨å­—ç¬¦ä¸²æ¥ä»£æ›¿å¸ƒå°”å€¼ï¼Œä¹Ÿå¯ä½¿ç”¨å¸ƒå°”å€¼ï¼ˆä¼šæ›´å¿«ï¼‰</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">depth: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">if</span> depth == length:<br>                result.append(tmp[:])  <span class="hljs-comment"># è®°ä½æ˜¯æ‹·è´ä¸€ä»½tmpçš„åˆ—è¡¨ï¼Œè€Œä¸æ˜¯åŠ å…¥tmpçš„å¼•ç”¨æŒ‡å‘çš„åˆ—è¡¨</span><br>                <span class="hljs-keyword">return</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(length):<br>                <span class="hljs-keyword">if</span> flag[i] == <span class="hljs-string">&quot;unvisited&quot;</span>:<br>                    <span class="hljs-keyword">if</span> i &gt;= <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> nums[i - <span class="hljs-number">1</span>] == nums[i] <span class="hljs-keyword">and</span> flag[i - <span class="hljs-number">1</span>] == <span class="hljs-string">&quot;unvisited&quot;</span>:<br>                        <span class="hljs-keyword">continue</span><br>                    flag[i] = <span class="hljs-string">&quot;visited&quot;</span><br>                    tmp.append(nums[i])<br>                    dfs(depth + <span class="hljs-number">1</span>)  <span class="hljs-comment"># è¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢</span><br>                    flag[i] = <span class="hljs-string">&quot;unvisited&quot;</span>  <span class="hljs-comment"># æœç´¢å®Œåï¼Œéœ€è¦å›æº¯ï¼Œå³æŠŠå½“å‰èŠ‚ç‚¹æ ‡è®°æˆæœªæœªè®¿é—®çš„</span><br>                    tmp.pop()  <span class="hljs-comment"># å›æº¯ç¬¬äºŒæ­¥ï¼Œå› ä¸ºå˜æˆæœªè®¿é—®äº†ï¼Œæ‰€ä»¥ä¹Ÿè¦æŠŠè¿™ä¸ªæ•°å¼¹å‡º</span><br><br>        dfs(<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>æ·±åº¦ä¼˜å…ˆæœç´¢</tag>
      
      <tag>å¹¿åº¦ä¼˜å…ˆæœç´¢</tag>
      
      <tag>å›æº¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-907. å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ &amp; 2104. å­æ•°ç»„èŒƒå›´å’Œ</title>
    <link href="/2022/10/28/leetcode-907-2104/"/>
    <url>/2022/10/28/leetcode-907-2104/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_907_1.png" alt="907"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_2104_1.png" alt="2104"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="907-å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ">907. å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ</h2><p>æ‘†äº†ï¼Œæ€ä¹ˆæœ‰äº›äººæœ‰äº†å•è°ƒæ ˆçš„åŸºç¡€è¿˜ä¸ä¼šå†™å•è°ƒæ ˆçš„é¢˜å•Šï¼Ÿå˜ä¸€ä¸‹å°±ä¸è¡Œäº†ï¼Œå‘œå‘œ</p><h3 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h3><p>å¦‚æœè¦æ±‚ç›´æ¥æ±‚ä¸€ä¸ªå­æ•°ç»„é‡Œé¢çš„æœ€å°å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å¯èƒ½æŒºå¤æ‚çš„ï¼Œå¦‚æœåªæ˜¯å•çº¯æš´åŠ›éå†æ±‚æœ€å°å€¼ï¼Œé‚£æ—¶é—´å¤æ‚åº¦ä¼šå¾ˆé«˜ï¼Œå½“ç„¶è¿™é‡Œä¹Ÿç›´æ¥è¶…æ—¶äº†ã€‚<br>æ‰€ä»¥æˆ‘ä»¬å°è¯•å¦ä¸€ç§æ€è·¯ï¼Œåˆ†è§£æˆä¸¤ä¸ªé—®é¢˜ï¼š<br>1ã€ æ±‚ä»¥arr[i]ä¸ºæœ€å³ä¸”æœ€å°çš„å­æ•°ç»„çš„æ•°é‡ï¼ˆarr[i] &gt; arr[i - 1]ã€arr[i - 2]â€¦ï¼‰ï¼Œç”¨left[i]ä¿å­˜<br>2ã€ æ±‚ä»¥arr[i]ä¸ºæœ€å·¦ä¸”æœ€å°çš„å­æ•°ç»„çš„æ•°é‡ï¼ˆarr[i] &gt; arr[i + 1]ã€arr[i + 2]â€¦ï¼‰ï¼Œç”¨right[i]ä¿å­˜<br>ç„¶åï¼Œleft[i]å’Œright[i]çš„ç§¯ï¼Œå°±æ˜¯ä»¥arr[i]ä¸ºæœ€å°å…ƒç´ çš„å­æ•°ç»„çš„æ•°é‡ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºæœ€å³å’Œæœ€å·¦éƒ½æ˜¯ä»¥arr[i]ä¸ºæœ€å°ï¼Œæ‰€ä»¥æœ€å³çš„é›†åˆå’Œæœ€å·¦çš„é›†åˆçš„&quot;ç¬›å¡å°”ç§¯&quot;(å› ä¸ºçªç„¶è§‰å¾—å¾ˆåƒå°±è¯´äº†)ï¼ˆå…¶å®æ˜¯ä¹˜æ³•åŸç†ï¼ˆé€ƒï¼‰ï¼‰å°±æ˜¯ä»¥arr[i]ä¸ºæœ€å°å…ƒç´ çš„å­æ•°ç»„çš„æ•°é‡ã€‚<br>æ¯”å¦‚ arr = [3, 1, 2, 4]ï¼Œå½“ arr[i] = 1 æ—¶ï¼Œleft[i] çš„é›†åˆå°±æ˜¯ ([3, 1], [1])ï¼Œright[i] çš„é›†åˆå°±æ˜¯ ([1], [1, 2], [1, 2, 4])<br>&quot;ç¬›å¡å°”ç§¯&quot;å°±æ˜¯ï¼š ([3, 1], [1], [3, 1, 2], [3, 1, 2, 4], [1, 2], [1, 2, 4])<br>è€Œæˆ‘ä»¬æœ€åçš„ç»“æœï¼Œå°±æ˜¯éå†æ•°ç»„ï¼Œè®¡ç®—arr[i] * left[i] * right[i]çš„æ€»å’Œã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sumSubarrayMins</span>(<span class="hljs-params">self, arr: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        mod = <span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span><br>        result = <span class="hljs-number">0</span><br>        n = <span class="hljs-built_in">len</span>(arr)<br>        left = [<span class="hljs-number">0</span>] * n<br>        right = [<span class="hljs-number">0</span>] * n<br>        a_stack = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):  <span class="hljs-comment"># ä»å·¦å¾€å³éå†ï¼Œæ‰¾ä»¥arr[i]ä¸ºæœ€å³ä¸”æœ€å°çš„å­æ•°ç»„çš„æ•°é‡</span><br>            <span class="hljs-keyword">while</span> a_stack <span class="hljs-keyword">and</span> arr[a_stack[-<span class="hljs-number">1</span>]] &gt;= arr[i]:<br>                a_stack.pop()<br>            left[i] = i - (a_stack[-<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> a_stack <span class="hljs-keyword">else</span> -<span class="hljs-number">1</span>)<br>            a_stack.append(i)<br>        a_stack = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n - <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):  <span class="hljs-comment"># ä»å³å¾€å·¦éå†ï¼Œæ‰¾ä»¥arr[i]ä¸ºæœ€å·¦ä¸”æœ€å°çš„å­æ•°ç»„çš„æ•°é‡</span><br>            <span class="hljs-keyword">while</span> a_stack <span class="hljs-keyword">and</span> arr[a_stack[-<span class="hljs-number">1</span>]] &gt; arr[i]:<br>                a_stack.pop()<br>            right[i] = (a_stack[-<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> a_stack <span class="hljs-keyword">else</span> n) - i<br>            a_stack.append(i)<br>        <span class="hljs-keyword">for</span> num, l, r <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(arr, left, right):  <span class="hljs-comment"># è®¡ç®—ç»“æœ</span><br>            result = (result + num * l * r) % mod<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>ä¼˜åŒ–æ€è·¯æ¥æºï¼š(çµç¥çš„é¢˜è§£)[<a href="https://leetcode.cn/problems/sum-of-subarray-minimums/solution/gong-xian-fa-dan-diao-zhan-san-chong-shi-gxa5/">https://leetcode.cn/problems/sum-of-subarray-minimums/solution/gong-xian-fa-dan-diao-zhan-san-chong-shi-gxa5/</a>]<br>è¿™ä¸ªä¸¤æ¬¡éå†ä¹Ÿæ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼Œæ€è€ƒä¸€ä¸‹å°±ä¼šå‘ç°ï¼Œå…¶å®arr[i]åœ¨å’Œæ ˆé¡¶å…ƒç´ è¿›è¡Œæ¯”è¾ƒå¹¶ä½¿å…¶å‡ºæ ˆçš„æ—¶å€™ï¼Œå°±å·²ç»æš—æŒ‡arr[i]æ˜¯æ ˆé¡¶å…ƒç´ çš„å³è¾¹ç•Œäº†ï¼ˆå³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°çš„æ•°ï¼‰ã€‚</p><h2 id="2104-å­æ•°ç»„èŒƒå›´å’Œ">2104. å­æ•°ç»„èŒƒå›´å’Œ</h2><h3 id="æš´åŠ›éå†">æš´åŠ›éå†</h3><p>ç›´æ¥è®©æ—¶é—´å¤æ‚åº¦å˜æˆO(n^2)ï¼Œç©·ä¸¾åºåˆ—å¹¶æ‰¾æ¯ä¸ªåºåˆ—æœ€å°æœ€å¤§å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">subArrayRanges</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        result = <span class="hljs-number">0</span><br>        n = <span class="hljs-built_in">len</span>(nums)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):  <span class="hljs-comment"># å…ˆæ‹¿ä¸€ä¸ªæ•°</span><br>            max_num = min_num = nums[i]<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, n):  <span class="hljs-comment"># iè¿™ä¸ªæ•°æ‰€æ„æˆçš„æ‰€æœ‰å­æ•°ç»„</span><br>                max_num = <span class="hljs-built_in">max</span>(max_num, nums[j])  <span class="hljs-comment"># åŠæ—¶æ›´æ–°æœ€å¤§æœ€å°å€¼</span><br>                min_num = <span class="hljs-built_in">min</span>(min_num, nums[j])<br>                result += max_num - min_num  <span class="hljs-comment"># æŠŠæ¯ä¸ªå­æ•°ç»„çš„ç»“æœåŠ åˆ°æœ€ç»ˆç»“æœä¸Š</span><br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><h3 id="å•è°ƒæ ˆ-2">å•è°ƒæ ˆ</h3><p>å…¶å®è¿™é¢˜çš„å•è°ƒæ ˆæ€è·¯æˆ‘æ˜¯ä¸ä¼šçš„ï¼ˆé€ƒï¼Œå› ä¸ºä¸€ç›´åœ¨æƒ³è¿™æ€ä¹ˆå•è°ƒè¿™æ€ä¹ˆå•è°ƒï¼Œè¦æ±‚çš„å¯æ˜¯ä¸€ä¸ªå­æ•°ç»„é‡Œçš„æœ€å¤§å’Œæœ€å°ï¼ŒåŒæ—¶æ±‚ä¸å‡ºå•Šã€‚<br>ä¸€çœ‹é¢˜è§£ï¼Œå“¦ï¼Œè¿™é‡Œæœ‰ç¬¨è›‹ï¼Œç­‰çº§å››ã€‚é¢˜ç›®è¦æ±‚çš„æ¯ä¸ªå­æ•°ç»„çš„æœ€å¤§å’Œæœ€å°çš„å·®çš„å’Œï¼Œä¸å°±æ˜¯å…ˆæ±‚å‡ºæ¯ä¸ªå­æ•°ç»„çš„æœ€å¤§å€¼çš„å’Œï¼Œç„¶åå†æ±‚æ¯ä¸ªå­æ•°ç»„æœ€å°å€¼çš„å’Œï¼Œå†ç›¸å‡å˜›ã€‚<br>æˆ‘å®Œå…¨æ˜ç™½äº†ï¼è¿™ä¸‹ç¡®å®æ˜¯å•è°ƒæ ˆäº†ã€‚ç„¶åè¿™é¢˜å°±æˆäº†907çš„æ‰©å±•äº†ï¼šæ±‚å‡ºä»¥å½“å‰æ•°å­—ä¸ºæœ€å°å€¼çš„æ‰€æœ‰å­æ•°ç»„çš„æ•°é‡ï¼Œç„¶åè®¡ç®—æœ€å°å€¼çš„å’Œï¼Œä»¥åŠä»¥å½“å‰æ•°å­—ä¸ºæœ€å¤§å€¼çš„æ‰€æœ‰å­æ•°ç»„çš„æ•°é‡ï¼Œæ±‚å‡ºæœ€å¤§å€¼çš„å’Œï¼Œæœ€åç›¸å‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">subArrayRanges</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        max_sum = <span class="hljs-number">0</span><br>        min_sum = <span class="hljs-number">0</span><br>        left = [-<span class="hljs-number">1</span>] * n<br>        right = [n] * n<br>        a_stack = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):  <span class="hljs-comment"># å…ˆæ±‚æœ€å¤§</span><br>            <span class="hljs-keyword">while</span> a_stack <span class="hljs-keyword">and</span> nums[a_stack[-<span class="hljs-number">1</span>]] &lt;= nums[i]:<br>                right[a_stack.pop()] = i<br>            <span class="hljs-keyword">if</span> a_stack:<br>                left[i] = a_stack[-<span class="hljs-number">1</span>]<br>            a_stack.append(i)<br>        <span class="hljs-keyword">for</span> i, (num, l, r) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(nums, left, right)):<br>            max_sum += num * (i - l) * (r - i)<br>        left = [-<span class="hljs-number">1</span>] * n<br>        right = [n] * n<br>        a_stack = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):  <span class="hljs-comment"># å†æ±‚æœ€å°</span><br>            <span class="hljs-keyword">while</span> a_stack <span class="hljs-keyword">and</span> nums[a_stack[-<span class="hljs-number">1</span>]] &gt;= nums[i]:<br>                right[a_stack.pop()] = i<br>            <span class="hljs-keyword">if</span> a_stack:<br>                left[i] = a_stack[-<span class="hljs-number">1</span>]<br>            a_stack.append(i)<br>        <span class="hljs-keyword">for</span> i, (num, l, r) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(nums, left, right)):<br>            min_sum += num * (i - l) * (r - i)<br>        <span class="hljs-keyword">return</span> max_sum - min_sum<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å•è°ƒæ ˆ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
    <link href="/2022/10/28/leetcode-3/"/>
    <url>/2022/10/28/leetcode-3/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_3_1.png" alt="3"></p><h1>æ€è·¯åŠå®ç°</h1><p>æ‰¾ä¸€ä¸ªä¸å«æœ‰é‡å¤å­—ç¬¦çš„æœ€é•¿å­—ä¸²ï¼Œç”±ä¸é‡å¤å­—ç¬¦æˆ‘ä»¬å¯ä»¥æƒ³åˆ°å“ˆå¸Œè¡¨ï¼Œåœ¨éå†å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œé‡åˆ°ä¸€ä¸ªå­—ç¬¦å°±åˆ¤æ–­è¿™ä¸ªå­—ç¬¦åœ¨ä¸åœ¨å“ˆå¸Œè¡¨é‡Œè¾¹ï¼Œå¦‚æœåœ¨å°±è¯´æ˜å‡ºç°é‡å¤å­—ç¬¦ï¼Œæ­¤æ—¶å¯ä»¥è®¡ç®—å­ä¸²çš„é•¿åº¦ï¼ˆä¸¤ä¸ªé‡å¤å­—ç¬¦çš„ç´¢å¼•ç›¸å‡ï¼‰ã€‚<br>ç„¶åä¸ºäº†èŠ‚çœæ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ»‘åŠ¨çª—å£æ¥é˜²æ­¢é‡å¤éå†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">lengthOfLongestSubstring</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        result = <span class="hljs-number">0</span><br>        left = right = <span class="hljs-number">0</span><br>        a_dict = &#123;&#125;<br>        n = <span class="hljs-built_in">len</span>(s)<br>        <span class="hljs-keyword">while</span> right &lt; n:<br>            <span class="hljs-keyword">if</span> s[right] <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> a_dict:  <span class="hljs-comment"># å­—å…¸ä¸­æœªæŸ¥åˆ°è¯¥å­—ç¬¦å‡ºç°è¿‡</span><br>                a_dict[s[right]] = right  <span class="hljs-comment"># è®°å½•ç´¢å¼•ä½ç½®</span><br>                right += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">if</span> (right - left) &gt; result:  <span class="hljs-comment"># æ›´æ–°æœ€å¤§å€¼</span><br>                    result = right - left<br>                <span class="hljs-keyword">if</span> left &lt; a_dict[s[right]] + <span class="hljs-number">1</span>:<br>                    left = a_dict[s[right]] + <span class="hljs-number">1</span><br>                a_dict.pop(s[right])<br>        <span class="hljs-keyword">if</span> right - left &gt; result:  <span class="hljs-comment"># æ›´æ–°æœ€å¤§å€¼</span><br>            result = right - left<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåœ¨æ£€æŸ¥åˆ°é‡å¤å­—ç¬¦å‡ºç°åï¼Œå…¶å®å¹¶ä¸éœ€è¦å¼¹å‡ºç›¸åº”é”®å€¼å¯¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æ£€æŸ¥æ¯ä¸ªå­—ç¬¦çš„æ—¶å€™æ›´æ–°å·¦æŒ‡é’ˆç´¢å¼•ï¼Œå·¦æŒ‡é’ˆæ˜¯ä¸éœ€è¦å›å¤´çœ‹çš„ï¼Œåªä¼šå¾€å³èµ°ã€‚<br>ç„¶åæ›´æ–°ç»“æœï¼Œæœ€åæ›´æ–°å­—å…¸ä¸­å½“å‰å­—ç¬¦çš„ç´¢å¼•å³å¯ã€‚<br>ä¼˜åŒ–åçš„å¦ä¸€ç§å†™æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">lengthOfLongestSubstring</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        result = <span class="hljs-number">0</span><br>        left = right = <span class="hljs-number">0</span><br>        a_dict = &#123;&#125;<br>        n = <span class="hljs-built_in">len</span>(s)<br>        <span class="hljs-keyword">for</span> right <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> s[right] <span class="hljs-keyword">in</span> a_dict:  <span class="hljs-comment"># å­—å…¸ä¸­æŸ¥åˆ°è¯¥å­—ç¬¦å‡ºç°è¿‡</span><br>                left = <span class="hljs-built_in">max</span>(left, a_dict[s[right]])<br>            result = <span class="hljs-built_in">max</span>(result, right - left + <span class="hljs-number">1</span>)<br>            a_dict[s[right]] = right + <span class="hljs-number">1</span>  <span class="hljs-comment"># è®°å½•ç´¢å¼•ä½ç½®</span><br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>å­—ç¬¦ä¸²</tag>
      
      <tag>å“ˆå¸Œè¡¨</tag>
      
      <tag>æ»‘åŠ¨çª—å£</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-934. æœ€çŸ­çš„æ¡¥</title>
    <link href="/2022/10/25/leetcode-934/"/>
    <url>/2022/10/25/leetcode-934/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_934_1.png" alt="934"></p><h1>æ€è·¯åŠå®ç°</h1><p>çœ‹é¢˜ï¼Œæƒ³éƒ½ä¸ç”¨æƒ³è¿·å®«é—®é¢˜ç›´æ¥bfsæˆ–è€…dfså®Œäº‹äº†å¥½å§ï¼ˆ<br>å¯èƒ½é¢˜ç›®æè¿°ä¸æ˜¯å¾ˆå¥½ï¼Œåœ¨è¿™é‡Œç®€å•æè¿°ä¸€ä¸‹ï¼Œå²›æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šç›¸è¿çš„1ã€‚ä¹Ÿå°±æ˜¯ä¸€ä¸ª1ï¼Œå®ƒçš„å››ä¸ªæ–¹å‘å¦‚æœæŸä¸ªæ–¹å‘æœ‰1ï¼Œé‚£ä¹ˆè¿™äº›1ç®—ä¸€ä¸ªå²›ï¼Œå¦‚æœæ²¡æœ‰ï¼Œé‚£å®ƒæœ¬èº«å°±æ˜¯ä¸€ä¸ªå²›ã€‚<br>æ‰€ä»¥ï¼Œä¸ºäº†é˜²æ­¢æˆ‘ä»¬æ­æ¡¥æ­åˆ°æœ¬å²›ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæŠŠç¬¬ä¸€ä¸ªå²›æ‰¾å‡ºæ¥ï¼šé¦–å…ˆç›´æ¥éå†ï¼Œç›´åˆ°æ‰¾åˆ°æ˜¯ä¸€ä¸ªæ˜¯1çš„ä½ç½®ï¼ˆä»£è¡¨é™†åœ°çš„ä½ç½®ï¼‰ï¼Œç„¶åç”¨dfsæˆ–è€…bfsæŠŠæ‰€æœ‰ç›¸é‚»çš„1æ‰¾å‡ºæ¥ï¼Œä¸‹é¢ä»£ç æˆ‘ç”¨çš„æ˜¯è¿­ä»£å®ç°çš„dfsã€‚<br>æ‰¾å®Œä¸€ä¸ªå²›ä¹‹åï¼Œæˆ‘ä»¬å°±å¼€å§‹æ­æ¡¥äº†ã€‚è¿™é‡Œéœ€è¦ç”¨åˆ°bfsï¼Œå› ä¸ºéœ€è¦æ­ä¸€ä¸ªæœ€çŸ­çš„æ¡¥ï¼Œbfså¯ä»¥æ¯æ¬¡å¾€å¤–æ‰©ä¸€åœˆã€‚<br>ä½†æ˜¯è¿™é‡Œéœ€è¦å¯¹bfsè¿›è¡Œä¸€ç‚¹ä¿®æ”¹ï¼Œé‡‡ç”¨çš„æ˜¯è¿™æ ·çš„ç­–ç•¥ï¼šæˆ‘ä»¬æŠŠå½“å‰è¸©çš„åœ°æ–¹åˆ©ç”¨bfséå†å®Œï¼Œè¿™æ‰ä»£è¡¨å¾€å¤–æ‰©å¤§ä¸€åœˆï¼Œæ¡¥é•¿åº¦åŠ ä¸€ï¼Œç„¶åè¿™æ¬¡éå†æ–°æ‰¾åˆ°çš„åœ°æ–¹å­˜æ”¾åœ¨ä¸€ä¸ªæ–°é˜Ÿåˆ—ï¼Œç”¨äºä¸‹æ¬¡æ‰©åœˆã€‚å½“ç„¶å¦‚æœbfsè¿‡ç¨‹ä¸­æ‰¾åˆ°1ï¼ˆé™†åœ°ï¼‰äº†ï¼Œå°±ç›´æ¥è¿”å›æ¡¥çš„é•¿åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">shortestBridge</span>(<span class="hljs-params">self, grid: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(grid)  <span class="hljs-comment"># æ„å»ºæ ‡è®°äºŒç»´æ•°ç»„ï¼Œ0å’Œ1éƒ½è¡¨ç¤ºunvisitedï¼Œ-1è¡¨ç¤ºvisited</span><br>        a_stack = deque()  <span class="hljs-comment"># dfsç”¨çš„æ ˆ</span><br>        a_queue = deque()  <span class="hljs-comment"># bfsç”¨çš„é˜Ÿåˆ—</span><br>        step = <span class="hljs-number">0</span>  <span class="hljs-comment"># æ¡¥çš„é•¿åº¦(å¿…é¡»ç¿»è½¬çš„0çš„æœ€å°æ•°ç›®)</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>                <span class="hljs-keyword">if</span> grid[i][j] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># å…ˆæ‰¾ç¬¬ä¸€ä¸ªå²›</span><br>                    grid[i][j] = -<span class="hljs-number">1</span><br>                    a_stack.append((i, j))<br>                    a_queue.append((i, j))<br>                    <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">if</span> a_stack:<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">while</span> a_stack:  <span class="hljs-comment"># dfsæŠŠç¬¬ä¸€ä¸ªå²›çš„èŒƒå›´æ‰¾å‡ºæ¥</span><br>            i, j = a_stack.pop()<br>            <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> (i + <span class="hljs-number">1</span>, j), (i - <span class="hljs-number">1</span>, j), (i, j + <span class="hljs-number">1</span>), (i, j - <span class="hljs-number">1</span>):  <span class="hljs-comment"># ä¸Šä¸‹å·¦å³æ‰¾</span><br>                <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= x &lt; n <span class="hljs-keyword">and</span> <span class="hljs-number">0</span> &lt;= y &lt; n <span class="hljs-keyword">and</span> grid[x][y] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># å¦‚æœunvisitedè€Œä¸”æ˜¯é™†åœ°</span><br>                    grid[x][y] = -<span class="hljs-number">1</span>  <span class="hljs-comment"># æ ‡è®°visited</span><br>                    a_stack.append((x, y))  <span class="hljs-comment"># å…¥æ ˆ</span><br>                    a_queue.append((x, y))  <span class="hljs-comment"># å…¥é˜Ÿ</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:  <span class="hljs-comment"># bfsæ­æ¡¥</span><br>            tmp = a_queue<br>            a_queue = deque()<br>            <span class="hljs-keyword">for</span> i, j <span class="hljs-keyword">in</span> tmp:<br>                <span class="hljs-keyword">for</span> x, y <span class="hljs-keyword">in</span> (i + <span class="hljs-number">1</span>, j), (i - <span class="hljs-number">1</span>, j), (i, j + <span class="hljs-number">1</span>), (i, j - <span class="hljs-number">1</span>):  <span class="hljs-comment"># ä¸Šä¸‹å·¦å³æ‰¾</span><br>                    <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= x &lt; n <span class="hljs-keyword">and</span> <span class="hljs-number">0</span> &lt;= y &lt; n:<br>                        <span class="hljs-keyword">if</span> grid[x][y] == <span class="hljs-number">0</span>:  <span class="hljs-comment"># å¦‚æœunvisitedè€Œä¸”æ˜¯é™†åœ°</span><br>                            grid[x][y] = -<span class="hljs-number">1</span>  <span class="hljs-comment"># æ ‡è®°visited</span><br>                            a_queue.append((x, y))  <span class="hljs-comment"># å…¥é˜Ÿ</span><br>                        <span class="hljs-keyword">elif</span> grid[x][y] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># æ‰¾åˆ°ä¸‹ä¸€åº§å²›</span><br>                            <span class="hljs-keyword">return</span> step<br>            step += <span class="hljs-number">1</span>  <span class="hljs-comment"># æ¯å¾€å¤–æ‰¾ä¸€åœˆæ¡¥çš„é•¿åº¦å°±åŠ ä¸€</span><br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-901.è‚¡ç¥¨ä»·æ ¼è·¨åº¦ &amp;&amp; å•è°ƒæ ˆ</title>
    <link href="/2022/10/21/leetcode-901/"/>
    <url>/2022/10/21/leetcode-901/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_901_1.png" alt="901.è‚¡ç¥¨ä»·æ ¼è·¨åº¦"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_496_1.png" alt="496.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_503_1.png" alt="503.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="901-è‚¡ç¥¨ä»·æ ¼è·¨åº¦">901.è‚¡ç¥¨ä»·æ ¼è·¨åº¦</h2><p>ä½ åˆ«è¯´ï¼Œè¿™é¢˜æ±‚çš„æ˜¯å½“å¤©çš„è‚¡ç¥¨ä»·æ ¼è¶‹åŠ¿ï¼Œç„¶åæ˜¯è¦ç”¨ä¹‹å‰çš„çŠ¶æ€æ±‚è§£å½“å‰çŠ¶æ€çš„ï¼Œè¿™ä½•å°ä¸æ˜¯DPï¼ˆé€ƒ</p><h3 id="å‘å‰éå†">å‘å‰éå†</h3><p>æœ€å®¹æ˜“æƒ³åˆ°çš„ä¸€ç§å®ç°å°±æ˜¯æ¯å¤©éƒ½å¾€å‰éå†ä¹‹å‰çš„è‚¡ç¥¨ä»·æ ¼ï¼Œå¦‚æœæ»¡è¶³å°±åŠ ä¸Šï¼ŒåŒæ—¶å› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†æ•°ç»„<code>days</code>ä¿å­˜æ¯å¤©çš„è‚¡ç¥¨ä»·æ ¼çš„è·¨åº¦ï¼Œæ‰€ä»¥å¯ä»¥é¿å…ä¸€å®šçš„é‡å¤éå†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StockSpanner</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.prices = []  <span class="hljs-comment"># ä¿å­˜æ¯å¤©çš„è‚¡ç¥¨ä»·æ ¼</span><br>        self.days = []  <span class="hljs-comment"># ä¿å­˜ä»Šå¤©è‚¡ç¥¨ä»·æ ¼çš„è·¨åº¦</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">next</span>(<span class="hljs-params">self, price: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        self.prices.append(price)<br>        p = <span class="hljs-built_in">len</span>(self.days) - <span class="hljs-number">1</span><br>        day = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> p &gt;= <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">if</span> self.prices[p] &lt;= price:<br>                day += self.days[p]  <span class="hljs-comment"># å¦‚æœä»Šå¤©ä»·æ ¼å¤§äºä¹‹å‰æŸä¸€å¤©ï¼Œé‚£ä¹ˆä»–ä¹Ÿå¤§äºé‚£ä¸€å¤©è‚¡ç¥¨ä»·æ ¼å¤§äºçš„å…¶ä»–å¤©çš„ä»·æ ¼ï¼ˆif a &gt; b and b &gt; c then a &gt; cï¼‰ï¼Œç›´æ¥åŠ ä¸Šé‚£ä¸€å¤©çš„è‚¡ç¥¨ä»·æ ¼çš„è·¨åº¦</span><br>                p -= self.days[p]  <span class="hljs-comment"># ä¸€å®šç¨‹åº¦ä¸Šé¿å…é‡å¤éå†</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">break</span><br>        self.days.append(day)<br>        <span class="hljs-keyword">return</span> day<br></code></pre></td></tr></table></figure><h3 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h3><p>ï¼ˆP.S. å¯ä»¥å…ˆå»çœ‹çœ‹ä¸‹é¢496ï¼‰<br>æ—¢ç„¶æ˜¯è¦æ±‚ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼Œå¾ˆå®¹æ˜“å°±èƒ½æƒ³åˆ°ç”¨å•è°ƒæ ˆæ±‚è§£ï¼Œä¸ºäº†çœå»ä¸å¿…è¦çš„éº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒå…ƒç»„æ¥ä¿å­˜æ¯ä¸€ä¸ªæ•°æ®ï¼ˆå½“å¤©æ˜¯ä»ç¬¬ä¸€å¤©èµ·è®¡çš„ç¬¬å‡ å¤©å’Œå½“å¤©è‚¡ç¥¨çš„ä»·æ ¼ï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StockSpanner</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.a_stack = [(-<span class="hljs-number">1</span>, math.inf)]<br>        self.i = -<span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">next</span>(<span class="hljs-params">self, price: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        self.i += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> price &gt;= self.a_stack[-<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]:  <span class="hljs-comment"># é‡åˆ°æ ˆä¸­æœ‰æ¯”è‡ªå·±å°çš„è‚¡ç¥¨ä»·æ ¼å°±å°†å…¶å‡ºæ ˆï¼ˆä¿æŒæ ˆå•è°ƒï¼‰</span><br>            self.a_stack.pop()<br>        self.a_stack.append((self.i, price))  <span class="hljs-comment"># æŠŠå½“å‰çš„è‚¡ç¥¨çš„æƒ…å†µå…¥æ ˆ</span><br>        <span class="hljs-keyword">return</span> self.i - self.a_stack[-<span class="hljs-number">2</span>][<span class="hljs-number">0</span>]  <span class="hljs-comment"># è®¡ç®—è‚¡ç¥¨ä»·æ ¼çš„è·¨åº¦</span><br></code></pre></td></tr></table></figure><p>å¦‚æœä¸æ˜¯å¾ˆç†è§£ä¸ºä»€ä¹ˆæŠŠå°äºå½“å‰ä»·æ ¼çš„å…ƒç´ å‡ºæ ˆä¹‹åå‡å»ä¸‹ä¸€ä¸ªå¤©æ•°è¿”å›çš„å°±æ˜¯å½“å¤©è‚¡ç¥¨ä»·æ ¼çš„è·¨åº¦çš„è¯ï¼Œé‚£å¯ä»¥ä¸ä¿å­˜ç¬¬å‡ å¤©ï¼Œè€Œæ˜¯ä¿å­˜è‚¡ç¥¨ä»·æ ¼è¶‹åŠ¿ï¼Œè¿™æ ·çš„è¯ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè€Œä¸”å¥½ç†è§£ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StockSpanner</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.a_stack = [(-<span class="hljs-number">1</span>, math.inf)]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">next</span>(<span class="hljs-params">self, price: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        i = <span class="hljs-number">1</span>  <span class="hljs-comment"># è‚¡ç¥¨ä»·æ ¼è¶‹åŠ¿æœ€å°‘ä¸ºä¸€å¤©</span><br>        <span class="hljs-keyword">while</span> price &gt;= self.a_stack[-<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]:  <span class="hljs-comment"># é‡åˆ°æ ˆä¸­æœ‰æ¯”è‡ªå·±å°çš„è‚¡ç¥¨ä»·æ ¼å°±å°†å…¶å‡ºæ ˆï¼ˆä¿æŒæ ˆå•è°ƒï¼‰</span><br>            i += self.a_stack.pop()[<span class="hljs-number">0</span>]  <span class="hljs-comment"># åŠ ä¸Šå‡ºæ ˆçš„è‚¡ç¥¨ä»·æ ¼å¤©æ•°</span><br>        self.a_stack.append((i, price))  <span class="hljs-comment"># æŠŠå½“å‰çš„è‚¡ç¥¨çš„æƒ…å†µå…¥æ ˆ</span><br>        <span class="hljs-keyword">return</span> i<br></code></pre></td></tr></table></figure><h2 id="496-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -I">496.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I</h2><h3 id="æš´åŠ›éå†">æš´åŠ›éå†</h3><p>çœ‹ä¸€çœ¼é¢˜ç›®å°±çŸ¥é“å¯ä»¥æš´åŠ›éå†çš„å•¦ï¼Œæ­£å‘ä¹Ÿè¡Œåå‘ä¹Ÿè¡Œï¼Œä¸‹é¢çš„ä»£ç æŠŠ<code>nums2</code>åè½¬äº†ï¼Œç„¶åéå†<code>rvs_nums2</code>ï¼Œå†å¯¹å…¶ä¸­æ¯ä¸ªæ•°å¾€å‰éå†ï¼Œæ‰¾ç¬¬ä¸€ä¸ªå¤§äºå½“å‰æ•°çš„æ•°ï¼ˆä¹Ÿå°±æ˜¯é¢˜ç›®æ‰€è¯´çš„ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼‰ï¼Œå¹¶è®°å½•åˆ°ä¸€ä¸ªå­—å…¸ä¸­ï¼Œ<br>å› ä¸ºæˆ‘ä»¬æœ€åæ˜¯éœ€è¦è¿”å›ä¸€ä¸ªå¯¹åº”<code>nums1</code>ä¸­çš„æ•°çš„é¡ºåºçš„æ•°ç»„çš„ï¼Œä¸”æ²¡æœ‰ç›¸åŒçš„æ•°å­—ï¼Œæ‰€ä»¥åˆ©ç”¨å­—å…¸å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å­˜å‚¨æ¯ä¸ªæ•°çš„çŠ¶æ€ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">nextGreaterElement</span>(<span class="hljs-params">self, nums1: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], nums2: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        a_dict = &#123;&#125;<br>        rvs_nums2 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">reversed</span>(nums2))<br>        <span class="hljs-keyword">for</span> i, num <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(rvs_nums2):<br>            <span class="hljs-keyword">while</span> i &gt; <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">if</span> rvs_nums2[i - <span class="hljs-number">1</span>] &gt; num:  <span class="hljs-comment"># å¦‚æœå‰è¾¹æœ‰æ›´å¤§çš„æ•°</span><br>                    a_dict[num] = rvs_nums2[i - <span class="hljs-number">1</span>]  <span class="hljs-comment"># ä¿å­˜æ›´å¤§çš„æ•°å­—ä¸ºå€¼åˆ°å½“å‰æ•°å­—ä¸ºé”®çš„å­—å…¸çš„é”®å€¼å¯¹ä¸­</span><br>                    <span class="hljs-keyword">break</span><br>                i -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> num <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> a_dict:  <span class="hljs-comment"># æ‰¾ä¸åˆ°æ›´å¤§çš„æ•°</span><br>                a_dict[num] = -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> [a_dict[num] <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums1]<br></code></pre></td></tr></table></figure><h3 id="å•è°ƒæ ˆ-2">å•è°ƒæ ˆ</h3><p>å¾ˆå–œæ¬¢åŠ›æ‰£è¿™é¢˜çš„å®˜æ–¹é¢˜è§£è¯„è®ºåŒºä¸€ä½è€å“¥è¯´çš„è¯ï¼š<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_496_2.png" alt="ç¥è¯„"><br>å•è°ƒæ ˆï¼Œç”¨äºè§£å†³NGEï¼ˆNext Greater Elementï¼‰é—®é¢˜ï¼Œå› æ‰€ç»´æŠ¤çš„æ ˆä¸­å…ƒç´ å‘ˆå•è°ƒé€’å¢/é€’å‡ï¼Œæ‰€ä»¥å«å•è°ƒæ ˆã€‚<br>ä¸‹é¢æ˜¯è§£å†³è¿™ç±»é¢˜ç›®çš„æ¨¡æ¿ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">nextGreaterElement</span>(<span class="hljs-params">self, nums1: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], nums2: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        a_dict=&#123;&#125;<br>        a_stack=[]<br>        <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> <span class="hljs-built_in">reversed</span>(nums2):<br>            <span class="hljs-keyword">while</span> a_stack <span class="hljs-keyword">and</span> a_stack[-<span class="hljs-number">1</span>] &lt;= num:<br>                a_stack.pop()<br>            a_dict[num] = a_stack[-<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> a_stack <span class="hljs-keyword">else</span> -<span class="hljs-number">1</span><br>            a_stack.append(num)<br>        <span class="hljs-keyword">return</span> [a_dict[num] <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums1]<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¼šæŠŠé¢˜ç›®ç»™çš„æ•°ç»„å…ˆåè½¬ä¸€æ¬¡å†è¿›è¡Œéå†ï¼Œç„¶åç›´åˆ°å½“å‰æ•°ä¸å¤§äºæ ˆé¡¶æ•°æˆ–ç©ºæ ˆä¸ºæ­¢ï¼Œæ‰§è¡Œå¼¹å‡ºï¼ˆpopï¼‰æ“ä½œã€‚<br>è¿™æ˜¯å› ä¸ºå¦‚æœå½“å‰æ•°æ¯”æ ˆé¡¶æ•°å¤§çš„è¯ï¼Œé‚£ä¹ˆåœ¨è¿™ä¹‹åçš„æ•°å¦‚æœèƒ½ä»¥æ ˆé¡¶æ•°ä½œä¸ºä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œé‚£è‚¯å®šä¹Ÿèƒ½ä»¥å½“å‰æ•°ä½œä¸ºä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼Œä¸”æˆ‘ä»¬çš„æ•°ç»„æ˜¯åè½¬è¿‡çš„ï¼Œä¹Ÿå°±æ˜¯åæ¥æ•°çš„ä¸‹æ ‡æ‰ç¦»å¾—æ›´è¿‘ã€‚<br>æ‰¾åˆ°ç»“æœä¹‹åï¼ŒæŠŠå½“å‰æ•°å…¥æ ˆã€‚</p><h2 id="503-ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ -II">503.ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II</h2><p>æ—¢ç„¶å·²ç»è§£å†³äº†æœ€åŸºæœ¬çš„å•è°ƒæ ˆï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹å˜å½¢ï¼šç°åœ¨ä¸æ­¢è¦çœ‹å³è¾¹äº†ï¼Œå› ä¸ºæ˜¯å¾ªç¯æ•°ç»„ï¼Œæ‰€ä»¥ä¹Ÿè¦çœ‹å·¦è¾¹äº†ã€‚<br>çœ‹åˆ°é¢˜ç›®ç»™çš„å¾ªç¯ï¼Œå¤§å®¶æ˜¯ä¸æ˜¯é©¬ä¸Šå°±æƒ³åˆ°ï¼š<code>%</code>è¿ç®—ç¬¦ï¼ç¡®å®ï¼Œæ•°æ®ç»“æ„ä¸ä¹Ÿè¿™ä¹ˆå­¦äº†å—ï¼Œè¶…è¿‡æ•°ç»„ä¸‹æ ‡çš„è¯å¯¹æ•°ç»„é•¿åº¦å–ä½™å°±å›å»äº†ï¼Œæ²¡é”™ï¼Œè¿™é‡Œä¹Ÿæ˜¯ä¸€ä¸ªé“ç†ã€‚<br>ä»”ç»†æƒ³æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“æ— è®ºæ€ä¹ˆå¾ªç¯ï¼Œè¿™é¢˜æœ¬è´¨ä¸Šå°±æ˜¯ä¸¤ä¸ªç»™å®šçš„æ•°ç»„æ‹¼åœ¨ä¸€èµ·çš„NGEé—®é¢˜ç½¢äº†ï¼Œç„¶åå¯ä»¥å¾—å‡ºä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">nextGreaterElements</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        a_list = [-<span class="hljs-number">1</span>] * n<br>        a_stack = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">while</span> a_stack <span class="hljs-keyword">and</span> a_stack[-<span class="hljs-number">1</span>] &lt;= nums[i % n]:<br>                a_stack.pop()<br>            <span class="hljs-keyword">if</span> a_stack:<br>                a_list[i % n] = a_stack[-<span class="hljs-number">1</span>]<br>            a_stack.append(nums[i % n])<br>        <span class="hljs-keyword">return</span> a_list<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-779. ç¬¬Kä¸ªè¯­æ³•ç¬¦å· &amp;&amp; ä½è¿ç®—</title>
    <link href="/2022/10/21/leetcode-779/"/>
    <url>/2022/10/21/leetcode-779/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_191_1.png" alt="191"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_779_1.png" alt="779"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="191-ä½1çš„ä¸ªæ•°">191.ä½1çš„ä¸ªæ•°</h2><h3 id="ä½œå¼Šæµå†™æ³•">ä½œå¼Šæµå†™æ³•</h3><p>é™¤äº†å­¦ä¼šä¸€ä¸ªæ–°æ–¹æ³•ä¹‹å¤–ä»€ä¹ˆéƒ½å­¦ä¸åˆ°çš„å†™æ³•ï¼ˆ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hammingWeight</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">return</span> n.bit_count()<br></code></pre></td></tr></table></figure><h3 id="å¾ªç¯æ£€æŸ¥">å¾ªç¯æ£€æŸ¥</h3><p>æ£€æŸ¥é¢˜ç›®æ‰€ç»™å®šçš„æ•°ä¸­1çš„ä¸ªæ•°å³å¯ï¼Œæ¯æ¬¡æ£€æŸ¥1ä½ï¼Œ<code>i</code>ä»0å–åˆ°31ï¼Œæ¯æ¬¡éƒ½ç”¨<code>1 &lt;&lt; i</code>ï¼ˆ1,10,100â€¦ï¼‰å’Œ<code>n</code>ä½œä¸è¿ç®—ï¼Œå¦‚æœnçš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„å½“å‰ä½æ˜¯1é‚£ä¹ˆå°±æ˜¯1ï¼Œæ˜¯0å°±æ˜¯0ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hammingWeight</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ret = <span class="hljs-built_in">sum</span>(<span class="hljs-number">1</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">if</span> n &amp; (<span class="hljs-number">1</span> &lt;&lt; i))<br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h3 id="ä½è¿ç®—ä¼˜åŒ–">ä½è¿ç®—ä¼˜åŒ–</h3><p>å…¶å®ä¼˜åŒ–çš„å…³é”®å°±æ˜¯ä¸€ä¸ªå¼å­ï¼š<code>n &amp; (nâˆ’1)</code>ã€‚å¤§å®¶å¯ä»¥ä¸¾ä¸ªä¾‹å­è¯•ä¸€ä¸‹ä¸€ä¸ªæ•°å’Œå®ƒè‡ªèº«å‡ä¸€çš„æ•°åšä¸è¿ç®—ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œæ²¡é”™ï¼Œå…¶è¿ç®—ç»“æœæ°ä¸ºæŠŠ<code>n</code>çš„äºŒè¿›åˆ¶ä½ä¸­çš„æœ€ä½ä½çš„1å˜ä¸º0ä¹‹åçš„ç»“æœã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸æ–­è®¡ç®—è¿™ä¸ªå¼å­ï¼Œ<code>n</code>æœ€åä¼šå˜æˆ0ï¼Œè€Œæ¯æ¬¡è®¡ç®—ï¼Œ<code>n</code>å°±å°‘ä¸€ä¸ª1ï¼Œç›¸åº”çš„ç»“æœï¼ˆ1çš„ä¸ªæ•°ï¼‰è®¡æ•°åŠ ä¸€å°±å¥½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hammingWeight</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> n:<br>            n &amp;= n - <span class="hljs-number">1</span><br>            ret += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h3 id="å¥‡å¶æ ¡éªŒ">å¥‡å¶æ ¡éªŒ</h3><p>é¢ï¼Œè¯´å®è¯ï¼Œç¿»æ¥è¦†å»çœ‹ä¸æ‡‚ä»£ç ï¼Œå¥½ä¸å®¹æ˜“æ‰¾åˆ°äº†ä¸ªæœ‰è§£é‡Šçš„ç½‘ç«™ï¼Œè½¬è½½ä¸€æ³¢explanationå§ã€‚<br>å…ˆä¸Šç½‘ç«™ï¼š<a href="https://bits.stephan-brumme.com/countBits.html">Count bits set in parallel a.k.a. Population Count</a><br>é™„èµ ç½‘å€ï¼š<a href="https://graphics.stanford.edu/~seander/bithacks.html">Bit Twiddling Hacks</a></p><blockquote><p>countBits (line 1 âˆ’ line 13):<br>Counting all set bits of an integer was part of many mainframe CPUâ€™s assembler language but somehow<br>x86 CPUs ignored it for decades. Apparently Intel introduced the POPCNT opcode in its Core i7 design.</p><p>Meanwhile, the population count has to be implemented by other means.<br>The main observations lies in the fact that you can subdivide any bitblock into smaller chunks,<br>compute their population count and add all intermediate results.</p><p>First, the code counts the bits of two adjacent bits:</p><p>0b and 0b â†’ 00b<br>0b and 1b â†’ 01b<br>1b and 0b â†’ 01b<br>1b and 1b â†’ 10b</p><p>The whole algorithm modifies the input in order to generate the output, that means it works in-place.<br>Line 4 performs the 2-bit count at once based on the observation:</p><p>00b â†’ unchanged, still 00b<br>01b â†’ unchanged, still 01b<br>10b â†’ must be converted to 01b<br>11b â†’ must be converted to 10b</p><p>Whenever the higher bit of each 2-bit group is set, subtracting 01b gives the desired outcome.<br>Looks like branching â€¦ but as it turns out, the subtraction can be done always: just subtract the higher bit !<br>If it is 0, the result remains unchanged, if it is 1, then we get the right numbers, too.<br>The shift x &gt;&gt; 1 and the following mask of all odd bits (0x55 is 01010101b):</p><p>00b â†’ shifted: ?0b â†’ masked: 00b â†’ subtraction: 00b âˆ’ 00b â†’ 00b<br>01b â†’ shifted: ?0b â†’ masked: 00b â†’ subtraction: 01b âˆ’ 00b â†’ 01b<br>10b â†’ shifted: ?1b â†’ masked: 01b â†’ subtraction: 10b âˆ’ 01b â†’ 01b<br>11b â†’ shifted: ?1b â†’ masked: 01b â†’ subtraction: 11b âˆ’ 01b â†’ 10b</p><p>Now the 2-bit count is done. As you can see, there are just three possible decimal results: 0, 1 or 2.</p><p>Then, two adjacent 2-bit groups are joined to 4-bit groups (line 6):</p><p>00b and 00b â†’ 0000b<br>00b and 01b â†’ 0001b<br>00b and 10b â†’ 0010b<br>01b and 00b â†’ 0001b<br>01b and 01b â†’ 0010b<br>01b and 10b â†’ 0011b<br>10b and 00b â†’ 0010b<br>10b and 01b â†’ 0011b<br>10b and 10b â†’ 0100b</p><p>This time, the 2-bit groups are masked and shifted to match and then simply added. No overflow is possible.</p><p>00b + 00b â†’ 0000b<br>00b + 01b â†’ 0001b<br>00b + 10b â†’ 0010b<br>01b + 00b â†’ 0001b<br>01b + 01b â†’ 0010b<br>01b + 10b â†’ 0011b<br>10b + 00b â†’ 0010b<br>10b + 01b â†’ 0011b<br>10b + 10b â†’ 0100b</p><p>The same procedure is done for all 4-bit groups yielding the bit counts for each of the four bytes (line 8)<br>in their lower four bits. That means, each byte contains its bit count, however, the upper four bits may<br>contain junk and are masked out (line 10).</p><p>Multiplying by 0x01010101 has an interesting property if we name the four bytes A, B, C, D:</p><p>A, B, C, D â†’ A+B+C+D, B+C+D, C+D, D</p><p>Obviously the highest byte is what we are looking for. The right shift (line 12) returns just it.</p></blockquote><p>é¡ºä¾¿é™„ä¸Šä»£ç é‡Œè¾¹åå…­è¿›åˆ¶æ•°å¯¹åº”çš„äºŒè¿›åˆ¶æ•°ã€‚<br>0x55555555 = 01010101 01010101 01010101 01010101<br>0x33333333 = 00110011 00110011 00110011 00110011<br>0x0F0F0F0F = 00001111 00001111 00001111 00001111<br>0x00FF00FF = 00000000 11111111 00000000 11111111<br>0x0000FFFF = 00000000 00000000 11111111 11111111<br>0x01010101 = 00000001 00000001 00000001 00000001<br>0x0000003f = 00000000 00000000 00000000 00111111</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hammingWeight</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = n - ((n &gt;&gt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0x55555555</span>)<br>        n = (n &amp; <span class="hljs-number">0x33333333</span>) + ((n &gt;&gt; <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0x33333333</span>)<br>        n = (n + (n &gt;&gt; <span class="hljs-number">4</span>)) &amp; <span class="hljs-number">0x0f0f0f0f</span><br>        n = n + (n &gt;&gt; <span class="hljs-number">8</span>)<br>        n = n + (n &gt;&gt; <span class="hljs-number">16</span>)<br>        <span class="hljs-keyword">return</span> n &amp; <span class="hljs-number">0x3f</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-comment">// you need to treat n as an unsigned value</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hammingWeight</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br><span class="hljs-comment">// count bits of each 2-bit chunk</span><br>        n = n - ((n &gt;&gt;&gt; <span class="hljs-number">1</span>) &amp; <span class="hljs-number">0x55555555</span>);<br><span class="hljs-comment">// count bits of each 4-bit chunk</span><br>        n = (n &amp; <span class="hljs-number">0x33333333</span>) + ((n &gt;&gt;&gt; <span class="hljs-number">2</span>) &amp; <span class="hljs-number">0x33333333</span>);<br><span class="hljs-comment">// count bits of each 8-bit chunk:x  = x + (x &gt;&gt; 4);</span><br><span class="hljs-comment">// mask out junk:x &amp;= 0xF0F0F0F;</span><br><span class="hljs-comment">// add all four 8-bit chunks:(x * 0x01010101) &gt;&gt; 24;</span><br>        <span class="hljs-keyword">return</span> ((n + (n &gt;&gt;&gt; <span class="hljs-number">4</span>) &amp; <span class="hljs-number">0xF0F0F0F</span>) * <span class="hljs-number">0x1010101</span>) &gt;&gt;&gt; <span class="hljs-number">24</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å»ºè®®è¿˜æ˜¯ç”¨ç¬¬ä¸‰ç§å¾ªç¯æ³•ï¼Œå¥½ç†è§£ä¸”å¤æ‚åº¦ä¸é«˜ã€‚</p><h2 id="779-ç¬¬Kä¸ªè¯­æ³•ç¬¦å·">779.ç¬¬Kä¸ªè¯­æ³•ç¬¦å·</h2><h3 id="æ‰¾è§„å¾‹ï¼Œç„¶åé€’å½’æ±‚è§£">æ‰¾è§„å¾‹ï¼Œç„¶åé€’å½’æ±‚è§£</h3><p>æ ¹æ®é¢˜ç›®æ‰€ç»™è§„åˆ™ï¼Œæˆ‘ä»¬å…ˆæ„é€ å‡ºå‰å‡ ä¸ªæ•°ï¼š<br>0<br>0 1<br>01 10<br>0110 1001<br>01101001 10010110<br>å¯ä»¥çœ‹åˆ°æ¯ä¸€è¡Œçš„ååŠéƒ¨åˆ†çš„æ•°éƒ½æ˜¯å‰åŠéƒ¨åˆ†æ•°çš„ç¿»è½¬ï¼Œå³ï¼š0å˜1ï¼Œ1å˜0ã€‚é‚£ä¹ˆå¯¹kï¼Œå¦‚æœkåœ¨ååŠéƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•æ±‚è§£ä¸Šä¸€è¡Œå‰åŠéƒ¨åˆ†å¯¹åº”ä½ç½®çš„æ•°ï¼Œç„¶åå°†å…¶ç¿»è½¬ï¼›å¦‚æœkåœ¨å‰åŠéƒ¨åˆ†ï¼Œé‚£ä¹ˆç›´æ¥æ±‚ä¸Šä¸€è¡Œå¯¹åº”ä½ç½®çš„æ•°å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">kthGrammar</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> k == <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">if</span> k &gt; (<span class="hljs-number">1</span> &lt;&lt; (n - <span class="hljs-number">2</span>)):  <span class="hljs-comment"># 1 &lt;&lt; (n - 2) = ä¸Šä¸€è¡Œé•¿åº¦çš„ä¸€åŠ</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> ^ self.kthGrammar(n - <span class="hljs-number">1</span>, k - (<span class="hljs-number">1</span> &lt;&lt; (n - <span class="hljs-number">2</span>)))  <span class="hljs-comment"># kå¤§äºå½“å‰è¡Œé•¿åº¦ä¸€åŠï¼Œé‚£ä¹ˆè¦è¿”å›çš„æ•°å°±ç­‰äºé•œåƒä½ç½®çš„æ•°å­—å–å</span><br>        <span class="hljs-keyword">return</span> self.kthGrammar(n - <span class="hljs-number">1</span>, k)  <span class="hljs-comment"># kå°äºç­‰äºå½“å‰è¡Œé•¿åº¦ä¸€åŠï¼Œé‚£ä¹ˆè¦è¿”å›çš„æ•°å°±ç­‰äºä¸Šä¸€è¡Œå½“å‰ä½ç½®çš„æ•°å­—</span><br></code></pre></td></tr></table></figure><h3 id="æ„é€ å®Œå…¨äºŒå‰æ ‘ï¼Œç„¶åé€’å½’æ±‚è§£">æ„é€ å®Œå…¨äºŒå‰æ ‘ï¼Œç„¶åé€’å½’æ±‚è§£</h3><p>è¿™ä¸ªæ˜¯çœ‹äº†åˆ«äººçš„æ€è·¯ï¼Œå‘ç°å¥½å‰å®³ï¼Œå±…ç„¶è¿˜æœ‰è¿™ç§æ“ä½œï¼Œè¿˜æ˜¯æˆ‘æ€ç»´ä¸è¡Œå‘œå‘œå‘œ<br>ä¸Šé“¾æ¥ï¼š<a href="https://leetcode.cn/problems/k-th-symbol-in-grammar/solution/nao-jin-ji-zhuan-wan-by-heren1229-nvf5/">å¤§ä½¬çš„äºŒå‰æ ‘è§£é¢˜æ€è·¯</a><br>ä¸‹è¾¹æ˜¯æŒ‰ç…§æ€è·¯å†™çš„ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">kthGrammar</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ç¬¬ä¸€å±‚ï¼Œç›´æ¥è¿”å›0</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        num = self.kthGrammar(n - <span class="hljs-number">1</span>, (k + <span class="hljs-number">1</span>) // <span class="hljs-number">2</span>)  <span class="hljs-comment"># æ‰¾ä¸€ä¸‹çˆ¶èŠ‚ç‚¹æ˜¯0è¿˜æ˜¯1</span><br>        <span class="hljs-keyword">if</span> num == <span class="hljs-number">0</span>:  <span class="hljs-comment"># çˆ¶èŠ‚ç‚¹ä¸º0</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> k % <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1</span>  <span class="hljs-comment"># å¦‚æœkæ˜¯å¥‡æ•°ï¼Œé‚£å°±æ˜¯å·¦å­èŠ‚ç‚¹ï¼›å¦‚æœkæ˜¯å¶æ•°ï¼Œé‚£å°±æ˜¯å³å­èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># çˆ¶èŠ‚ç‚¹ä¸º1</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> k % <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-904.æ°´æœæˆç¯®</title>
    <link href="/2022/10/17/leetcode-904/"/>
    <url>/2022/10/17/leetcode-904/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_904_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="if-elseåˆ†ææ³•">if-elseåˆ†ææ³•</h2><p>ç”±é¢˜æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå…¶å®é¢˜ç›®å°±æ˜¯ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åè®©ä½ æ‰¾å‡ºåªåŒ…å«ä¸¤ä¸ªä¸åŒå…ƒç´ ï¼ˆæ•°å­—ï¼‰çš„æœ€é•¿åˆ‡ç‰‡é•¿åº¦ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ª<code>basket</code>åˆ—è¡¨æ¥å­˜å‚¨å½“å‰ç¯®å­ä¸­çš„æ°´æœç±»å‹ï¼ˆä¹Ÿå°±æ˜¯æ•°å­—ï¼‰ï¼Œ<code>max_num</code>åˆ™æ˜¯æœ€å¤šèƒ½é‡‡æ‘˜çš„æ°´æœæ•°é‡ï¼ˆåªåŒ…å«ä¸¤ä¸ªä¸åŒæ•°å­—çš„æœ€å¤§åˆ‡ç‰‡é•¿åº¦ï¼‰ï¼Œ<code>cnt</code>ä¿å­˜å½“å‰ç¯®å­é‡Œçš„æ°´æœæ•°é‡ï¼ˆå½“å‰åˆ‡ç‰‡é•¿åº¦ï¼‰ï¼Œ<code>mark</code>åˆ™æ˜¯ç”¨äºå¸®åŠ©å›æº¯å‰ä¸€ä¸ªæ°´æœç±»å‹æœ€å‰è¾¹çš„ä¸€é¢—æœæ ‘çš„ä½ç½®ï¼ˆæ¯”å¦‚ï¼š<code>[3, 3, 3]</code>ï¼Œé‚£ä¹ˆmarkåº”è¯¥æ˜¯1ï¼‰ã€‚<br>ç„¶åå¯¹æ•°ç»„<code>fruits</code>è¿›è¡Œéå†ï¼Œä¸€å…±å››ç§æƒ…å†µï¼Œå¯ä»¥çœ‹ä»£ç æ³¨é‡Šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">totalFruit</span>(<span class="hljs-params">self, fruits: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        max_num = <span class="hljs-number">0</span><br>        cnt = <span class="hljs-number">0</span><br>        basket = []<br>        mark = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i, num <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(fruits):<br>            <span class="hljs-keyword">if</span> num <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> basket:  <span class="hljs-comment"># æ°´æœä¸åœ¨ç¯®å­é‡Œè¾¹</span><br>                <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(basket) &lt; <span class="hljs-number">2</span>:  <span class="hljs-comment"># ç¯®å­æ²¡æ»¡</span><br>                    mark = i<br>                    basket.append(num)<br>                    cnt += <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># ç¯®å­æ»¡äº†ï¼Œå‰ä¸€ä¸ªæ°´æœå’Œå½“å‰æ°´æœå¿…å®šä¸åŒï¼Œä»markå¼€å§‹ï¼Œæ„é€ ä¸€ä¸ªæ–°æœç¯®çš„åŒæ—¶çœ‹ä¸‹å‰ä¸€ä¸ªæœç¯®çš„å€¼æ˜¯å¦å¤§äºæœ€å¤§çš„æœç¯®</span><br>                    basket = [fruits[i - <span class="hljs-number">1</span>], num]<br>                    <span class="hljs-keyword">if</span> cnt &gt; max_num:<br>                        max_num = cnt<br>                    cnt = i - mark + <span class="hljs-number">1</span><br>                    mark = i<br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># æ°´æœåœ¨ç¯®å­é‡Œè¾¹</span><br>                <span class="hljs-keyword">if</span> num != fruits[i - <span class="hljs-number">1</span>]:  <span class="hljs-comment"># ä¸å’Œå‰ä¸€ä¸ªæ°´æœç›¸åŒï¼Œæ›´æ–°markæ ‡è®°</span><br>                    mark = i<br>                cnt += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> cnt &gt; max_num:  <span class="hljs-comment"># å¾ªç¯ç»“æŸååˆ«å¿˜è®°æ¯”è¾ƒæœ€åçš„æœç¯®å’Œæœ€å¤§çš„æœç¯®</span><br>            max_num = cnt<br>        <span class="hljs-keyword">return</span> max_num<br></code></pre></td></tr></table></figure><h2 id="æ»‘åŠ¨çª—å£">æ»‘åŠ¨çª—å£</h2><p>æˆ‘ä»¬ç”¨<code>left</code>å’Œ<code>right</code>åˆ†åˆ«è¡¨ç¤ºæ»¡è¶³è¦æ±‚çš„çª—å£çš„å·¦å³è¾¹ç•Œï¼Œç„¶åç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨è¿™ä¸ªçª—å£å†…çš„æ°´æœï¼ˆæ•°ï¼‰ä»¥åŠæ°´æœçš„æ•°é‡ï¼ˆå‡ºç°çš„æ¬¡æ•°ï¼‰ã€‚å“ˆå¸Œè¡¨ä¸­çš„<code>Key</code>çš„æ•°é‡å°±æ˜¯æœç¯®é‡Œè£…çš„æ°´æœç±»å‹çš„æ•°é‡ï¼Œ<code>Value</code>åˆ™æ˜¯æ°´æœç±»å‹å¯¹åº”æ°´æœçš„æ•°é‡ã€‚<br>ç„¶åæ¯æ¬¡<code>right</code>éƒ½ä¼šå‘å³ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œè®°å½•å¹¶æ›´æ–°å“ˆå¸Œè¡¨ï¼Œå¹¶åˆ¤æ–­å“ˆå¸Œè¡¨ä¸­æ˜¯å¦è¶…è¿‡ä¸¤ç§æ°´æœï¼ˆ<code>Key</code>çš„æ•°é‡å¤§äº2ï¼‰ï¼Œå¦‚æœè¶…è¿‡ï¼Œå°±è¦å¼€å§‹ç§»åŠ¨<code>left</code>ï¼ŒåŒæ—¶æ›´æ–°å“ˆå¸Œè¡¨ï¼Œå¦‚æœå“ˆå¸Œè¡¨ä¸­ä¸€ä¸ªæ°´æœçš„æ•°é‡<code>Value</code>ä¸º0ï¼Œé‚£å°±åˆ é™¤å¯¹åº”çš„é”®å€¼å¯¹ï¼Œè®©å“ˆå¸Œè¡¨ä¸­åªç•™ä¸‹ä¸¤ç§æ°´æœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">totalFruit</span>(<span class="hljs-params">self, fruits: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:  <span class="hljs-comment"># å®˜æ–¹é¢˜è§£æ»‘åŠ¨çª—å£</span><br>        cnt = Counter()<br><br>        left = ans = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> right, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(fruits):<br>            cnt[x] += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(cnt) &gt; <span class="hljs-number">2</span>:<br>                cnt[fruits[left]] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> cnt[fruits[left]] == <span class="hljs-number">0</span>:<br>                    cnt.pop(fruits[left])<br>                left += <span class="hljs-number">1</span><br>            ans = <span class="hljs-built_in">max</span>(ans, right - left + <span class="hljs-number">1</span>)<br>        <br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><blockquote><p>çœ‹åˆ°çš„ä¼˜åŒ–æ€è·¯ï¼šå› ä¸ºé¢˜ç›®æ˜¯è¦æ‰¾æœ€å¤§çš„çª—å£ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ç¼©å°çª—å£ï¼Œåªä¸è¿‡ä¸æ»¡è¶³æ¡ä»¶çš„æ—¶å€™ä¸æ›´æ–°çª—å£ï¼Œç›´æ¥è®©çª—å£æ•´ä½“å‘å³ç§»åŠ¨å³å¯ã€‚</p></blockquote><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1441.ç”¨æ ˆæ“ä½œæ„å»ºæ•°ç»„</title>
    <link href="/2022/10/15/leetcode-1441/"/>
    <url>/2022/10/15/leetcode-1441/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1441_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>æ€è·¯åŠå®ç°</h1><p>æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ<code>list</code>å’Œ<code>target</code>éƒ½æ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œè€Œæˆ‘ä»¬å–æ•°ä¹Ÿæ˜¯æŒ‰é¡ºåºï¼š1ã€2ã€3â€¦å–ä¸‹å»ï¼Œ<br>æ‰€ä»¥ç”¨<code>for</code>å¾ªç¯éå†ä¸€é<code>target</code>æ•°ç»„ï¼Œå¹¶è®¡ç®—å½“å‰æ•°å­—å’Œå‰ä¸€æ•°å­—çš„å·®ï¼Œå¦‚æœå½“å‰æ•°å­—å’Œå‰ä¸€ä¸ªæ•°å­—ä¹‹å·®å¤§äº1ï¼Œè¯´æ˜å‰ä¸€æ•°å­—å’Œå½“å‰æ•°å­—ä¹‹é—´è¿˜éš”äº†å‡ ä¸ªæ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°ä¸ª<code>push</code>å’Œ<code>pop</code>æ“ä½œï¼Œæ¥è¾¾åˆ°<code>list</code>ä¸­å½“å‰æ•°å­—çš„ä½ç½®ï¼Œå¹¶æŠŠå®ƒ<code>push</code>è¿›å»ï¼›<br>å¦‚æœå·®åˆšå¥½ä¸º1ï¼Œè¯´æ˜å½“å‰æ•°å­—å°±æ˜¯å‰ä¸€æ•°å­—çš„ä¸‹ä¸€ä½ï¼Œç›´æ¥<code>push</code>å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">buildArray</span>(<span class="hljs-params">self, target: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:<br>        push = <span class="hljs-string">&quot;Push&quot;</span><br>        pop = <span class="hljs-string">&quot;Pop&quot;</span><br>        result = []<br>        pre_num = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i, num <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(target):<br>            cnt = num - pre_num<br>            <span class="hljs-keyword">if</span> cnt &gt; <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">while</span> cnt != <span class="hljs-number">1</span>:<br>                    result.append(push)<br>                    result.append(pop)<br>                    cnt -= <span class="hljs-number">1</span><br>            result.append(push)<br>            pre_num = num<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>é¢ï¼Œè¿™é¢˜éš¾åº¦ä¸­ç­‰ä¸çŸ¥é“æ˜¯æ€ä¹ˆæ¥çš„ï¼Œååˆ†æœ´ç´ çš„æ ˆæ¨¡æ‹Ÿï¼Œä¸€åˆ†é’Ÿå°±èƒ½å‡ºç­”æ¡ˆã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-769.æœ€å¤šèƒ½å®Œæˆæ’åºçš„å—</title>
    <link href="/2022/10/13/leetcode-769/"/>
    <url>/2022/10/13/leetcode-769/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><h2 id="769">769</h2><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_769_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h2 id="768">768</h2><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_768_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>æ€è·¯åŠå®ç°</h1><h2 id="769-2">769</h2><p>è¯´å®è¯ï¼Œè¿™é¢˜æˆ‘çš„è·¯å­æŒºé‡çš„ï¼Œæ„Ÿè§‰åšæ³•ä¸å¤ªå¯¹ï¼Œæœ‰ç‚¹æ­ªï¼Œä½†æ˜¯ç”±äºè¿™é¢˜æ•°æ®çš„ç‰¹æ®Šæ€§ï¼Œæˆ‘çš„åšæ³•è¿˜åˆšå¥½æŒºåƒé¦™çš„ï¼ˆä½†æ˜¯åˆ«å­¦.jpgï¼‰ã€‚<br>æˆ‘ä»¬èƒ½å¤ŸçŸ¥é“çš„æ˜¯ï¼Œæ•°ç»„é‡Œçš„æ¯ä¸ªå…ƒç´ éƒ½ä¸åŒè€Œä¸”æ•°ç»„é•¿åº¦è¿˜ &lt;= 10ï¼Œå†è§‚å¯Ÿé¢˜ç›®è¦æ±‚å’Œç¤ºä¾‹ï¼Œåˆ†å—éœ€è¦åœ¨å•ç‹¬æ’åºåè¿æ¥èµ·æ¥è¿˜æ˜¯æœ‰åºçš„ï¼Œè¯´æ˜åœ¨å½“å‰åˆ†å—ä¸­ï¼Œæœ€å¤§çš„å…ƒç´ å¦‚æœå°äºå‰©ä¸‹æ•°ç»„ä¸­çš„æœ€å°å…ƒç´ ï¼Œå°±å¯ä»¥è¿›è¡Œåˆ†å—ï¼›åä¹‹ä¸è¡Œã€‚<br>é‚£ä¹ˆæˆ‘ä»¬è®¾ç½®ä¸€ä¸ªæœ€å¤§å€¼æ¥ä¿å­˜å½“å‰åˆ†å—çš„æœ€å¤§å€¼çš„åŒæ—¶ï¼Œä¹Ÿåˆ©ç”¨ä¸€ä¸ª<code>cnt</code>ä¿å­˜åˆ†å—æ•°é‡ã€‚ç”±äºæœ€å°åˆ†å—æ˜¯1ï¼Œæˆ‘ä»¬çš„<code>cnt</code>ä¹Ÿåº”è¯¥åˆå§‹åŒ–ä¸º<code>1</code>ã€‚<br>ç„¶åå¯¹æ•°ç»„è¿›è¡Œéå†ï¼Œå¹¶ç»™å‰©ä¸‹çš„æ•°ç»„ä¸´æ—¶æ’åºï¼Œä»¥ä¾¿æ‰¾å‡ºæœ€å°å…ƒç´ ï¼Œè¿›è¡Œåˆ¤æ–­å³å¯ã€‚æ¯æ¬¡å¾ªç¯åè®°å¾—æ›´æ–°å½“å‰åˆ†å—æœ€å¤§å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maxChunksToSorted</span>(<span class="hljs-params">self, arr: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-built_in">max</span> = arr[<span class="hljs-number">0</span>]<br>        cnt = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(arr) - <span class="hljs-number">1</span>):<br>            tmp = <span class="hljs-built_in">sorted</span>(arr[i + <span class="hljs-number">1</span>:])<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">max</span> &lt; tmp[<span class="hljs-number">0</span>]:<br>                <span class="hljs-built_in">max</span> = arr[i + <span class="hljs-number">1</span>]<br>                cnt += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> <span class="hljs-built_in">max</span> &lt; arr[i + <span class="hljs-number">1</span>]:<br>                <span class="hljs-built_in">max</span> = arr[i + <span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">return</span> cnt<br></code></pre></td></tr></table></figure><h2 id="768-2">768</h2><p>å¥½çš„æˆ‘ä»¬æ¥çœ‹åˆ°ä¸‹ä¸€é“é¢˜ï¼Œè¿™é¢˜æ˜¯ä¸Šä¸€é¢˜çš„å›°éš¾ç‰ˆæœ¬ï¼Œé™¤äº†å…ƒç´ ä¼šé‡å¤å‡ºç°ä»¥å¤–ï¼Œæ•°æ®è¿˜éå¸¸å¤§ï¼Œä¸è¿‡æˆ‘ä»ç„¶å°è¯•ä½¿ç”¨769çš„åšæ³•æ¥è§£äº†ä¸€ä¸‹é¢˜ç›®ï¼Œç»“æœæ˜¯é€šè¿‡äº†ï¼Œä½†æ˜¯èŠ±äº†1400mså·¦å³ï¼Œå¯è§ååˆ†ä¸ç†æƒ³ã€‚<br>æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ¢ä¸€ç§æ–¹æ³•ï¼Œæ¥é™ä½å¦‚æ­¤åºå¤§çš„æ—¶é—´ä»£ä»·ã€‚ï¼ˆå®˜æ–¹é¢˜è§£æ—¶é—´åˆ°ï¼‰</p><h3 id="å•è°ƒæ ˆ">å•è°ƒæ ˆ</h3><p>ç”±ä¸Šä¸€é¢˜çš„æ€è·¯ï¼Œæˆ‘ä»¬çŸ¥é“å¦‚æœä¸èƒ½åˆ†å—ï¼Œé‚£å°±æ˜¯å› ä¸ºå³è¾¹å­˜åœ¨æ›´å°çš„æ•°å­—ï¼Œå¯¼è‡´ç°åœ¨æ— æ³•è¿›è¡Œåˆ†å—ã€‚<br>é‚£æˆ‘ä»¬æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œå½“ä¸€ä¸ªæ–°çš„æ•°å­—åŠ å…¥è¿›æ¥åï¼Œæ€ä¹ˆæ‰¾å‡ºæ•°ç»„å˜åŒ–åçš„åˆ†å—æ–¹å¼å‘¢ï¼Ÿ<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•è°ƒæ ˆæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è®¾ç½®ä¸€ä¸ªæ ˆï¼ˆå•è°ƒé€’å¢ï¼‰ï¼Œå¦‚æœæ–°çš„æ•°å­—å¤§äºæˆ–ç­‰äºæ ˆé¡¶çš„æ•°å­—ï¼Œè¯´æ˜è¿™ä¸ªæ•°å­—å¯ä»¥åˆ†æˆä¸€ä¸ªç‹¬ç«‹çš„å—ï¼Œç›´æ¥å…¥æ ˆï¼›<br>å¦‚æœæ–°çš„æ•°å­—å°äºæ ˆé¡¶çš„æ•°å­—ï¼Œé‚£å°±éœ€è¦é‡æ–°åˆ†å—ï¼Œç›´åˆ°æ‰¾åˆ°æ ˆä¸­å°äºç­‰äºå®ƒçš„æ•°ï¼ˆå¦ä¸€ä¸ªå—çš„æœ€å¤§å€¼ï¼‰ï¼Œæ­¤è¿‡ç¨‹ä¿å­˜æ ˆé¡¶çš„å€¼ï¼ˆå€’æ•°ç¬¬ä¸€ä¸ªå—çš„æœ€å¤§å€¼ï¼‰ï¼Œç„¶åæ ˆé¡¶æ•°å­—å‡ºæ ˆï¼ˆå—èåˆï¼‰ç›´åˆ°æ»¡è¶³æ¡ä»¶ï¼ˆå¤§äºç­‰äºæ ˆé¡¶æ•°å­—ï¼‰ã€‚<br>åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¯æ¬¡ç•™ä¸‹çš„éƒ½æ˜¯å—ä¸­çš„æœ€å¤§å€¼ï¼ˆæ ˆä¸­çš„æ¯ä¸ªæ•°éƒ½æ˜¯å®ƒæ‰€åœ¨åˆ†å—çš„æœ€å¤§å€¼ï¼‰ï¼Œæ‰€ä»¥æœ€åçš„å—æ•°ä¹Ÿå°±ç­‰äºæ ˆçš„é•¿åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maxChunksToSorted</span>(<span class="hljs-params">self, arr: [<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        stack = []<br>        <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> arr:<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(stack) == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> a &gt;= stack[-<span class="hljs-number">1</span>]:<br>                stack.append(a)<br>            <span class="hljs-keyword">else</span>:<br>                mx = stack.pop()<br>                <span class="hljs-keyword">while</span> stack <span class="hljs-keyword">and</span> stack[-<span class="hljs-number">1</span>] &gt; a:<br>                    stack.pop()<br>                stack.append(mx)<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(stack)<br></code></pre></td></tr></table></figure><h3 id="æ’åº-å“ˆå¸Œè¡¨">æ’åº+å“ˆå¸Œè¡¨</h3><p>çœ‹äº†ä¸‹å®˜æ–¹é¢˜è§£å‘ç°åŸæ¥è§„å¾‹æ€»ç»“åœ°ä¸å¤Ÿå¥½ã€‚ä»”ç»†è§‚å¯Ÿå°±ä¼šå‘ç°ï¼Œå½“å‰åˆ†å—çš„æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°çš„å‡ºç°é¢‘ç‡ï¼Œä¸€å®šå’Œæ’å¥½åºåçš„æ•°ç»„ä¸­çš„è¿™éƒ¨åˆ†åˆ†å—ä¸­é‚£äº›æ•°çš„å‡ºç°é¢‘ç‡ç›¸åŒã€‚<br>æ‰€ä»¥æˆ‘ä»¬éå†ç»™å®šæ•°ç»„ï¼Œå†ä½¿ç”¨å¦ä¸€ä¸ªæ’åºåçš„æ•°ç»„ï¼Œä¸€ä¸ªè¡¨ç¤ºå…ƒç´ æ•°é‡åŠ ï¼Œå¦ä¸€ä¸ªè¡¨ç¤ºå…ƒç´ æ•°é‡å‡ï¼Œæœ€åæ¯”è¾ƒå…ƒç´ é¢‘ç‡æ˜¯å¦ç›¸åŒå³å¯ï¼ˆè¿™é‡Œç”¨çš„å­—å…¸æ¥æ¯”è¾ƒé¢‘ç‡ï¼Œå¦‚æœå­—å…¸é‡Œæ²¡ä¸œè¥¿äº†è¯´æ˜å…ƒç´ é¢‘ç‡ä¸€è‡´ï¼Œç»“æœåŠ ä¸€å³å¯ï¼‰ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-817.é“¾è¡¨ç»„ä»¶</title>
    <link href="/2022/10/12/leetcode-817/"/>
    <url>/2022/10/12/leetcode-817/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_817_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>æ€è·¯åŠå®ç°</h1><p>çœ‹åˆ°é¢˜ç›®ç»™çš„ç»„ä»¶å®šä¹‰ï¼Œé“¾è¡¨ä¸­æœ€é•¿è¿ç»­èŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹çš„å€¼åœ¨æ‰€ç»™æ•°ç»„ä¸­ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€ä¸ª<code>flag</code>æ¥åˆ¤æ–­è¿™ä¸ªå€¼æ˜¯å¦åœ¨æ•°ç»„ä¸­ï¼Œåœ¨çš„è¯å°±æŠŠ<code>flag</code>è®¾ç½®æˆ<code>1</code>ï¼Œä¸åœ¨çš„è¯ï¼Œå†åˆ¤æ–­æ­¤æ—¶<code>flag</code>çš„å€¼æ˜¯å¦ä¸º<code>1</code>ï¼Œå¦‚æœä¸º<code>1</code>è¯´æ˜æ­¤å¤„æ˜¯ä¸€ä¸ªç»„ä»¶çš„ç»“æŸå¤„ï¼Œè®©ç»„ä»¶æ•°é‡åŠ ä¸€å³å¯ã€‚<br>å½“ç„¶å¦‚æœè¿™ä¹ˆå†™ï¼Œè¿˜éœ€è¦åœ¨å¾ªç¯ç»“æŸåå†æ£€æŸ¥ä¸€æ¬¡<code>flag</code>çš„å€¼ï¼Œç¡®ä¿æ²¡æœ‰è½ä¸‹æœ€åä¸€ä¸ªç»„ä»¶ã€‚å¦‚æœä¸æƒ³æœ€åå†æ£€æŸ¥å€¼ï¼Œå¯ä»¥æŠŠåˆ¤æ–­æ¡ä»¶æ”¹ä¸ºå€¼ä¸åœ¨æ•°ç»„ä¸­ã€‚<br>ç”±äºåœ¨æ•°ç»„ä¸­æ‰¾æŸä¸ªå€¼æ˜¯å¦å­˜åœ¨çš„æ—¶é—´å¤æ‚åº¦æ˜¯<code>O(n)</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>set</code>æ¥æ›¿ä»£æ•°ç»„ï¼Œè¿™æ ·å¯ä»¥ä½¿æœç´¢å€¼çš„æ—¶é—´å¤æ‚åº¦é™åˆ°<code>O(1)</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">numComponents</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode], nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        count = <span class="hljs-number">0</span><br>        flag = <span class="hljs-number">0</span><br>        a_set = <span class="hljs-built_in">set</span>(nums)<br>        <span class="hljs-keyword">while</span> head <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">if</span> head.val <span class="hljs-keyword">in</span> a_set:  <span class="hljs-comment"># or: if head.val not in a_set:</span><br>                flag = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> flag == <span class="hljs-number">1</span>:<br>                flag = <span class="hljs-number">0</span><br>                count += <span class="hljs-number">1</span><br>            head = head.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">return</span> count <span class="hljs-keyword">if</span> flag == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> count + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1790.ä»…æ‰§è¡Œä¸€æ¬¡å­—ç¬¦ä¸²äº¤æ¢èƒ½å¦ä½¿ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰</title>
    <link href="/2022/10/11/leetcode-1790/"/>
    <url>/2022/10/11/leetcode-1790/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1790_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>æ€è·¯åŠå®ç°</h1><p>é¦–å…ˆè€ƒè™‘åˆ°ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ï¼Œé‚£ä¹ˆç›´æ¥è¿”å›Trueå³å¯ã€‚<br>å¦‚æœä¸ç›¸ç­‰ï¼Œé¢˜ç›®æ‰€ç»™æ¡ä»¶æ˜¯ä»…äº¤æ¢ä¸€æ¬¡ï¼Œé¡ºç€è¿™ä¸€ç‚¹æˆ‘ä»¬å¯ä»¥æƒ³åˆ°ï¼Œæ‰¾åˆ°éœ€è¦è¿›è¡Œäº¤æ¢çš„ä¸¤ä¸ªä½ç½®ï¼Œå¦‚æœäº¤æ¢åä¸ç›¸ç­‰ï¼Œè¿”å›Trueå³å¯ã€‚<br>åœ¨æˆ‘çš„ä»£ç ä¸­ä½¿ç”¨äº†å˜é‡<code>cnt</code>æ¥å¯»æ‰¾å­—ç¬¦ä¸²ä¸­å‡ºç°ä¸åŒ¹é…å­—ç¬¦çš„æ¬¡æ•°ï¼Œå¹¶ä¸”ç”¨äº†ä¸€ä¸ª<code>scout</code>æ¥ä¿å­˜ç¬¬ä¸€æ¬¡æ‰¾åˆ°çš„ä¸åŒ¹é…çš„ä½ç½®ã€‚å¦‚æœ<code>cnt &gt; 1</code>è¯´æ˜æœ‰ä¸¤ä¸ªåœ°æ–¹ä¸åŒ¹é…äº†ï¼Œæ­¤æ—¶å°†å½“å‰ä½ç½®ä¸<code>scout</code>ä½ç½®çš„å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œå†æ¯”è¾ƒå­—ç¬¦ä¸²å³å¯çŸ¥é“ä¸€æ¬¡äº¤æ¢æ˜¯å¦ç›¸ç­‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">areAlmostEqual</span>(<span class="hljs-params">self, s1: <span class="hljs-built_in">str</span>, s2: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">if</span> s1 == s2:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">else</span>:<br>            cnt = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(s1)):<br>                <span class="hljs-keyword">if</span> s1[i] != s2[i]:<br>                    cnt += <span class="hljs-number">1</span><br>                    <span class="hljs-keyword">if</span> cnt &gt; <span class="hljs-number">1</span>:<br>                        s: <span class="hljs-built_in">str</span> = s2[<span class="hljs-number">0</span>: scout] + s2[i] + s2[scout + <span class="hljs-number">1</span>: i] + s2[scout] + s2[i + <span class="hljs-number">1</span>:]<br>                        <span class="hljs-keyword">if</span> s1 == s:<br>                            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>                        <span class="hljs-keyword">else</span>:<br>                            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>                    scout = i<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p>å…¶å®å¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå˜é‡å’Œä¸€ç»„<code>if...elif</code>ä¿å­˜ä¸¤ä¸ªä½ç½®ï¼Œ<code>else</code>æƒ…å†µåˆ™æ˜¯å¤šäºä¸¤ä¸ªä½ç½®çš„å­—ç¬¦ä¸åŒï¼Œè¿™ç§æƒ…å†µä¸€æ¬¡äº¤æ¢è‚¯å®šæ— æ³•å¯¼è‡´ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒï¼Œè¿”å›<code>False</code>å³å¯ã€‚<br>è€Œä¸”è¿™æ ·æœ€åä¹Ÿä¸éœ€è¦æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œåªéœ€è¦åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸¤ä¸ªä½ç½®ï¼ˆ<code>s1[i]</code>å¯¹<code>s2[j]</code>ï¼Œ<code>s1[j]</code>å¯¹<code>s2[i]</code>ï¼‰çš„å­—ç¬¦æ˜¯å¦ç›¸åŒã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-801.ä½¿åºåˆ—é€’å¢çš„æœ€å°äº¤æ¢æ¬¡æ•°</title>
    <link href="/2022/10/11/leetcode-801/"/>
    <url>/2022/10/11/leetcode-801/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_801_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>å®ç°</h1><p>ä»Šå¤©è¿™ä¸ªåŠ¨æ€è§„åˆ’ï¼Œä¸ä¼šï¼Œæ‘†äº†.jpg<br>ä¹‹åçœ‹äº†ä¸‹å®˜æ–¹é¢˜è§£çš„æ€è·¯ï¼Œç„¶åç…§ç€æ€è·¯å†™äº†ä¸€ä¸‹ä»£ç ï¼Œä¸‹é¢è´´å¤§ä½“æ€è·¯å’Œä»£ç ï¼š<br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_801_2.png" alt="æ€è·¯"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minSwap</span>(<span class="hljs-params">self, nums1: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], nums2: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(nums1)<br>        dp0 = [<span class="hljs-number">0</span>] * n<br>        dp1 = [<span class="hljs-number">1</span>] * n<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<br>            <span class="hljs-keyword">if</span> nums1[i] &gt; nums1[i - <span class="hljs-number">1</span>] <span class="hljs-keyword">and</span> nums2[i] &gt; nums2[i - <span class="hljs-number">1</span>] <span class="hljs-keyword">and</span> nums1[i] &gt; nums2[i - <span class="hljs-number">1</span>] <span class="hljs-keyword">and</span> nums2[i] &gt; nums1[i - <span class="hljs-number">1</span>]:<br>                dp0[i] = <span class="hljs-built_in">min</span>(dp0[i - <span class="hljs-number">1</span>], dp1[i - <span class="hljs-number">1</span>])<br>                dp1[i] = <span class="hljs-built_in">min</span>(dp0[i - <span class="hljs-number">1</span>], dp1[i - <span class="hljs-number">1</span>]) + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> nums1[i] &gt; nums2[i - <span class="hljs-number">1</span>] <span class="hljs-keyword">and</span> nums2[i] &gt; nums1[i - <span class="hljs-number">1</span>]:<br>                dp0[i] = dp1[i - <span class="hljs-number">1</span>]<br>                dp1[i] = dp0[i - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                dp0[i] = dp0[i - <span class="hljs-number">1</span>]<br>                dp1[i] = dp1[i - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">min</span>(dp0[-<span class="hljs-number">1</span>], dp1[-<span class="hljs-number">1</span>])<br></code></pre></td></tr></table></figure><p>è¿˜æ˜¯å¾—å¤šå¤šç»ƒä¹ åŠ¨æ€è§„åˆ’å‘œå‘œ</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-856.æ‹¬å·çš„åˆ†æ•°</title>
    <link href="/2022/10/09/leetcode-856/"/>
    <url>/2022/10/09/leetcode-856/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_856_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>å®ç°</h1><p>å“ˆå“ˆå®¶äººä»¬ï¼ä»Šå¤©çš„é¢˜ç›®åˆæ˜¯æ‰¾è§„å¾‹ï¼ˆ<br>æ¥çœ‹é¢˜ç›®å‘Šè¯‰æˆ‘ä»¬çš„ï¼Œå†å¤šçœ‹çœ‹å‡ ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºä¸‹é¢çš„è§„å¾‹ï¼š</p><blockquote><p>'()'å­—ç¬¦ä¸²ï¼Œå°±æ˜¯ä¸€ä¸ª1<br>')('å­—ç¬¦ä¸²ï¼Œå°±æ˜¯ä¸€ä¸ª+<br>'(('å­—ç¬¦ä¸²ï¼Œå°±æ˜¯<em>2<br>'))'å­—ç¬¦ä¸²åˆ™æ˜¯å‘Šè¯‰æˆ‘ä»¬ï¼Œéœ€è¦ä»æ ˆä¸­å–æ•°å‡ºæ¥è¿›è¡Œè¿ç®—ï¼Œç›´åˆ°è¿›è¡Œè¿‡</em>è¿ç®—ä¸ºæ­¢<br>æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ä¸¤ä¸ªæ ˆï¼Œä¸€ä¸ªç”¨æ¥ä¿å­˜æ•°å­—ï¼Œä¸€ä¸ªç”¨æ¥ä¿å­˜æ•°ç»„ã€‚ç„¶åéå†é¢˜ç›®ç»™æˆ‘ä»¬çš„å­—ç¬¦ä¸²å³å¯ã€‚å½“ç„¶æœ€åä¸èƒ½å¿˜è®°æŠŠè¿ç®—ç¬¦æ ˆæ¸…ç©ºã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">scoreOfParentheses</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        nums = deque()<br>        ops = deque()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(s)):  <span class="hljs-comment"># å› ä¸ºæ¯æ¬¡è¦è¯»å–ä¸¤ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥ä»ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹è¯»</span><br>            <span class="hljs-keyword">if</span> s[i - <span class="hljs-number">1</span>: i + <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;()&#x27;</span>:<br>                nums.append(<span class="hljs-built_in">int</span>(<span class="hljs-number">1</span>))<br>            <span class="hljs-keyword">elif</span> s[i - <span class="hljs-number">1</span>: i + <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;)(&#x27;</span>:<br>                ops.append(<span class="hljs-string">&#x27;+&#x27;</span>)<br>            <span class="hljs-keyword">elif</span> s[i - <span class="hljs-number">1</span>: i + <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;((&#x27;</span>:<br>                nums.append(<span class="hljs-built_in">int</span>(<span class="hljs-number">2</span>))<br>                ops.append(<span class="hljs-string">&#x27;*&#x27;</span>)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">while</span> ops.pop() != <span class="hljs-string">&#x27;*&#x27;</span>:<br>                    nums.append(nums.pop() + nums.pop())<br>                nums.append(nums.pop() * nums.pop())<br>        <span class="hljs-keyword">while</span> ops:<br>            ops.pop()<br>            nums.append(nums.pop() + nums.pop())<br>        <span class="hljs-keyword">return</span> nums.pop()<br></code></pre></td></tr></table></figure><h2 id="ï¼ˆä¸€çœ‹é¢˜è§£åˆæ˜¯è¢«è–„çº±ï¼Œæ— è®ºæ˜¯ç¼–ç¨‹æ€ç»´è¿˜æ˜¯æ•°å­¦æ€ç»´è¿™å—è¿˜æ˜¯ä¸å¦‚äººå®¶ï¼ŒæŠŠè¿™ä¸ªæƒ³æˆæ ‘ä¹Ÿæ˜¯å‰å®³ï¼Œç”¨dfså‡ºç­”æ¡ˆã€‚ï¼‰">ï¼ˆä¸€çœ‹é¢˜è§£åˆæ˜¯è¢«è–„çº±ï¼Œæ— è®ºæ˜¯ç¼–ç¨‹æ€ç»´è¿˜æ˜¯æ•°å­¦æ€ç»´è¿™å—è¿˜æ˜¯ä¸å¦‚äººå®¶ï¼ŒæŠŠè¿™ä¸ªæƒ³æˆæ ‘ä¹Ÿæ˜¯å‰å®³ï¼Œç”¨dfså‡ºç­”æ¡ˆã€‚ï¼‰</h2>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-870.ä¼˜åŠ¿æ´—ç‰Œ</title>
    <link href="/2022/10/08/leetcode-870/"/>
    <url>/2022/10/08/leetcode-870/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_870_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>æ€è·¯åŠå®ç°</h1><p>æ ¹æ®é¢˜ç›®æˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°ç”¨è´ªå¿ƒè§£å†³é—®é¢˜ã€‚å³æ¯æ¬¡å–<code>nums1</code>ä¸­æœ€å°çš„æ•°å­—è·Ÿ<code>nums2</code>ä¸­çš„æ¯”è¾ƒã€‚å¯ä»¥å°†<code>nums1</code>æŒ‰å‡åºæ’åºï¼Œç”¨å¦ä¸€ä¸ªæ•°ç»„<code>reslut</code>ä¿å­˜ç»“æœã€‚<br>æœ€å¼€å§‹æ— è„‘å†™çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">advantageCount</span>(<span class="hljs-params">self, nums1: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], nums2: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        nums1.sort()<br>        result: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>] = []<br>        <span class="hljs-keyword">for</span> num2 <span class="hljs-keyword">in</span> nums2:<br>            <span class="hljs-keyword">for</span> i, num1 <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(nums1):<br>                <span class="hljs-keyword">if</span> num1 &gt; num2:<br>                    nums1.remove(num1)<br>                    result.append(num1)<br>                    <span class="hljs-keyword">break</span><br>                <span class="hljs-keyword">elif</span> i == <span class="hljs-built_in">len</span>(nums1) - <span class="hljs-number">1</span>:  <span class="hljs-comment"># æ²¡æœ‰å¤§äºæ•°ç»„2å½“å‰æ•°å­—çš„æ•°å­—äº†</span><br>                    result.append(nums1.pop(<span class="hljs-number">0</span>))<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>è¶…æ—¶ï¼Œå¥½çš„ï¼Œæˆ‘å°±çŸ¥é“ï¼ˆæ€•ä¸æ€•æˆ‘10^5é•¿åº¦çš„æ•°ç»„ï¼‰ã€‚é‡æ–°æƒ³è¿‡åï¼Œç¡®å®æœ‰æ›´å¥½çš„æ–¹æ³•ï¼ŒåŸç†ä¸å˜ï¼Œä¹Ÿæ˜¯è´ªå¿ƒï¼Œä½†æ˜¯å¯¹ä¸¤ä¸ªæ•°ç»„éƒ½è¿›è¡Œæ’åºï¼Œå¹¶â€œæµªè´¹â€ç‚¹ç©ºé—´ï¼Œåˆ›å»ºä¸€äº›è¾…åŠ©æ•°ç»„ã€‚<br>æˆ‘ä»¬å¯¹æ•°ç»„1è¿›è¡Œéå†ï¼Œå¯¹<code>nums2</code>åˆ™æ˜¯åˆ©ç”¨ä¸€ä¸‹åŒæŒ‡é’ˆã€‚å½“<code>nums1</code>çš„æ•°å¤§äº<code>nums2</code>çš„æ•°æ—¶ï¼Œç”±äºæˆ‘ä»¬å·²ç»æ’è¿‡åºï¼Œé‚£ä¹ˆæ­¤æ—¶è‚¯å®šæ»¡è¶³ä¼˜åŠ¿æœ€å¤§åŒ–ï¼Œå› ä¸º<code>nums1</code>ä¹‹åçš„æ•°éƒ½ä¼šæ¯”å½“å‰æ•°å¤§äº†ï¼Œæ‰€ä»¥ç›´æ¥è¿›è¡Œé…å¯¹å°±è¡Œã€‚<br>å¦‚æœå°äºçš„è¯ï¼Œé‚£è¿™ä¸ªæ•°ä¹Ÿå°äº<code>nums2</code>ä¹‹åçš„æ•°ï¼Œæ‰€ä»¥å°±æŠŠè¿™ä¸ªæ•°ä¸¢ç»™<code>nums2</code>ä¸­æœ€å¤§çš„æ•°ï¼Œä¹Ÿå°±æ˜¯å°¾æŒ‡é’ˆæŒ‡å‘çš„æ•°ã€‚<br>å…¶å®éš¾ç‚¹åœ¨äºæ€ä¹ˆä¿æŒåŸæ¥çš„é¡ºåºè¾“å‡ºï¼Œä¹Ÿå°±æ˜¯ä¸‹æ ‡é—®é¢˜ã€‚ç”±äº<code>sort()</code>å‡½æ•°æ¥å—ä¸€ä¸ª<code>key</code>å‚æ•°ï¼Œè€Œè¿™ä¸ªå‚æ•°ä¼šå°†æ¥æ”¶åˆ°çš„æ•°æ®ç”¨äºæ’åºçš„å…³é”®ï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨è¿™ç‚¹æ¥æ’åºä¸‹æ ‡æ•°ç»„ï¼Œä»¥ä¿è¯æœ€åçš„è¾“å‡ºã€‚<br>ç”±äºæˆ‘ä»¬çš„æ•°æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæ‰€ä»¥ä¸å¿…æ‹…å¿ƒé‡å¤è®¿é—®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¹<code>nums2</code>æ•°ç»„è¿›è¡Œä¿®æ”¹ï¼Œå¹¶è¿”å›å®ƒã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">advantageCount</span>(<span class="hljs-params">self, nums1: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], nums2: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        len2 = <span class="hljs-built_in">len</span>(nums2)<br>        index2 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(len2))<br>        index2.sort(key=<span class="hljs-keyword">lambda</span> x: nums2[x])<br>        nums1.sort()<br>        head = <span class="hljs-number">0</span><br>        tail = len2 - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums1:  <span class="hljs-comment"># éå†æ•°ç»„1</span><br>            <span class="hljs-keyword">if</span> num &gt; nums2[index2[head]]:<br>                nums2[index2[head]] = num<br>                head += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                nums2[index2[tail]] = num<br>                tail -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> nums2<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-450.åˆ é™¤äºŒå‰æœç´¢æ ‘ä¸­çš„èŠ‚ç‚¹</title>
    <link href="/2022/10/07/leetcode-450/"/>
    <url>/2022/10/07/leetcode-450/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_450_1.png" alt="ç¬¬ä¸€å¼ å›¾"><br><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_450_2.png" alt="ç¬¬äºŒå¼ å›¾"></p><h1>æ€è·¯å’Œå®ç°</h1><p>äºŒå‰æœç´¢æ ‘ï¼Œå³äºŒå‰æŸ¥æ‰¾æ ‘ï¼ŒBinary Search Treeï¼Œç®€ç§°BSTã€‚åœ¨BSTä¸­ï¼Œç»™å®šèŠ‚ç‚¹å·¦å­æ ‘é‡Œçš„èŠ‚ç‚¹ä¼šå°äºç»™å®šèŠ‚ç‚¹ï¼Œè€Œå³å­æ ‘é‡Œçš„èŠ‚ç‚¹ä¼šå¤§äºç»™å®šèŠ‚ç‚¹ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨æ»¡è¶³çº¦æŸçš„æƒ…å†µä¸‹è¿›è¡Œåˆ é™¤ï¼Œå°±éœ€è¦ç‰¹åˆ«çš„ç­–ç•¥ï¼Œä»¥ä¸‹ç»™å‡ºæˆ‘çš„ç­–ç•¥çš„æè¿°ï¼šï¼ˆP.Sï¼šçœ‹é¢˜ç›®çš„ç¤ºä¾‹æœ‰ä¸¤ç§ç­”æ¡ˆï¼Œé‚£ä¹ˆä½ ä¹Ÿåº”è¯¥çŸ¥é“ç­–ç•¥ä¸æ­¢ä¸€ç§ï¼‰</p><blockquote><p>è¿­ä»£æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œä»¥åŠå®ƒçš„çˆ¶èŠ‚ç‚¹<br>å¦‚æœè¢«åˆ é™¤çš„èŠ‚ç‚¹æœ‰å·¦å³å­æ ‘ï¼Œé‚£ä¹ˆåº”è¯¥ç”¨è¢«åˆ é™¤èŠ‚ç‚¹çš„å·¦å­æ ‘çš„æœ€å¤§å…ƒç´ èŠ‚ç‚¹æ¥æ›¿ä»£è¿™ä¸ªè¢«åˆ é™¤èŠ‚ç‚¹</p><blockquote><p>æ ¹æ®BSTçš„çº¦æŸï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“è¢«åˆ é™¤èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸­çš„æœ€å¤§å…ƒç´ èŠ‚ç‚¹åº”è¯¥æ˜¯è¯¥å­æ ‘æœ€å³è¾¹çš„èŠ‚ç‚¹ï¼Œè¿­ä»£æ‰¾å‡ºè¿™ä¸ªèŠ‚ç‚¹å’Œå®ƒçš„çˆ¶èŠ‚ç‚¹<br>å¦‚æœè¿™ä¸ªæœ€å¤§å…ƒç´ èŠ‚ç‚¹å°±æ˜¯è¢«åˆ é™¤èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆéœ€è¦æŠŠè¯¥å·¦å­èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æŒ‚åœ¨å®ƒçš„çˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸Š<br>å¦‚æœè¿™ä¸ªæœ€å¤§å…ƒç´ èŠ‚ç‚¹ä¸æ˜¯è¢«åˆ é™¤èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¦æŠŠè¿™ä¸ªæœ€å¤§å…ƒç´ èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æŒ‡å‘è¯¥æœ€å¤§å…ƒç´ èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹<br>ä¸Šè¿°æ“ä½œå®Œæˆåï¼Œå°†è¯¥æœ€å¤§å…ƒç´ èŠ‚ç‚¹å·¦å³å­æ ‘çš„å¼•ç”¨æ”¹ä¸ºåˆ é™¤èŠ‚ç‚¹å·¦å³å­æ ‘çš„å¼•ç”¨<br>å¦‚æœè¢«åˆ é™¤çš„èŠ‚ç‚¹åªæœ‰å·¦å­æ ‘æˆ–è€…å³å­æ ‘ï¼Œé‚£ä¹ˆåªéœ€è¦æŠŠè¢«åˆ é™¤èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡å‘è¢«åˆ é™¤èŠ‚ç‚¹çš„å¼•ç”¨æŒ‡å‘è¿™ä¸ªè¢«åˆ é™¤èŠ‚ç‚¹çš„å·¦å­æ ‘æˆ–å³å­æ ‘å³å¯<br>å¦‚æœè¢«åˆ é™¤çš„èŠ‚ç‚¹æ²¡æœ‰å·¦å³å­æ ‘ï¼ŒæŠŠå®ƒçš„çˆ¶èŠ‚ç‚¹æŒ‡å‘å®ƒçš„å¼•ç”¨æ”¹ä¸ºNoneå³å¯<br>æœ€å¼€å§‹çš„å®ç°ï¼š</p></blockquote></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Definition for a binary tree node.</span><br><span class="hljs-comment"># class TreeNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, left=None, right=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.left = left</span><br><span class="hljs-comment">#         self.right = right</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deleteNode</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode], key: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[TreeNode]:<br>        current, parent = root, <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">while</span> current <span class="hljs-keyword">and</span> current.val != key:  <span class="hljs-comment"># æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œä»¥åŠå®ƒçš„çˆ¶èŠ‚ç‚¹</span><br>            parent = current<br>            current = current.left <span class="hljs-keyword">if</span> current.val &gt; key <span class="hljs-keyword">else</span> current.right<br>        <span class="hljs-keyword">if</span> current <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:  <span class="hljs-comment"># ä¸å­˜åœ¨è¯¥èŠ‚ç‚¹</span><br>            <span class="hljs-keyword">return</span> root<br>        <span class="hljs-keyword">elif</span> current.left <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> current.right <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:  <span class="hljs-comment"># å¦‚æœè¢«åˆ é™¤èŠ‚ç‚¹æ‹¥æœ‰å·¦å³å­èŠ‚ç‚¹ï¼Œæ‰¾åˆ°å·¦å­æ ‘ä¸­çš„æœ€å¤§èŠ‚ç‚¹current</span><br>            successor, successor_parent = current.left, current<br>            <span class="hljs-keyword">while</span> successor.right:  <span class="hljs-comment"># éå†åˆ°æœ€å³åï¼Œå°±æ‰¾åˆ°äº†æœ€å¤§èŠ‚ç‚¹</span><br>                successor_parent = successor<br>                successor = successor.right<br>            <span class="hljs-keyword">if</span> successor_parent.val == current.val:  <span class="hljs-comment"># å¦‚æœè¿™ä¸ªæœ€å¤§å…ƒç´ èŠ‚ç‚¹å°±æ˜¯è¢«åˆ é™¤èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆéœ€è¦æŠŠè¯¥å·¦å­èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æŒ‚åœ¨å®ƒçˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ä¸Š</span><br>                successor_parent.left = successor.left<br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># å¦‚æœè¿™ä¸ªæœ€å¤§å…ƒç´ èŠ‚ç‚¹ä¸æ˜¯è¢«åˆ é™¤èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¦æŠŠè¿™ä¸ªæœ€å¤§å…ƒç´ èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æŒ‡å‘è¯¥æœ€å¤§å…ƒç´ èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹</span><br>                successor_parent.right = successor.left<br>            successor.left = current.left<br>            successor.right = current.right<br>            current = successor<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">if</span> current.left <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                current = current.right<br>            <span class="hljs-keyword">elif</span> current.right <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                current = current.left<br>            <span class="hljs-keyword">else</span>:<br>                current = <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">if</span> parent <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">return</span> current<br>        <span class="hljs-keyword">elif</span> parent.left <span class="hljs-keyword">and</span> parent.left.val == key:<br>            parent.left = current<br>        <span class="hljs-keyword">else</span>:<br>            parent.right = current<br>        <span class="hljs-keyword">return</span> root<br></code></pre></td></tr></table></figure><p>ä¼˜åŒ–åï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deleteNode</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode], key: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[TreeNode]:<br>        current, parent = root, <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">while</span> current <span class="hljs-keyword">and</span> current.val != key:<br>            parent = current<br>            current = current.left <span class="hljs-keyword">if</span> current.val &gt; key <span class="hljs-keyword">else</span> current.right<br>        <span class="hljs-keyword">if</span> current <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">return</span> root<br>        <span class="hljs-keyword">if</span> current.left <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> current.right <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            current = <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">elif</span> current.left <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            current = current.right<br>        <span class="hljs-keyword">elif</span> current.right <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            current = current.left<br>        <span class="hljs-keyword">else</span>:<br>            successor, successor_parent = current.left, current<br>            <span class="hljs-keyword">while</span> successor.right:<br>                successor_parent = successor<br>                successor = successor.right<br>            <span class="hljs-keyword">if</span> successor_parent.val == current.val:<br>                successor_parent.left = successor.left<br>            <span class="hljs-keyword">else</span>:<br>                successor_parent.right = successor.left<br>            successor.left = current.left<br>            successor.right = current.right<br>            current = successor<br>        <span class="hljs-keyword">if</span> parent <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">return</span> current<br>        <span class="hljs-keyword">elif</span> parent.left <span class="hljs-keyword">and</span> parent.left.val == key:<br>            parent.left = current<br>        <span class="hljs-keyword">else</span>:<br>            parent.right = current<br>        <span class="hljs-keyword">return</span> root<br></code></pre></td></tr></table></figure><h1>é¢˜å¤–è¯</h1><p>åŸºç¡€ä¸ç‰¢åœ°åŠ¨å±±æ‘‡ã€‚å±å®æ˜¯æŠŠæˆ‘å¹²ç¢äº†ï¼Œæ ‘å’Œå›¾æŒæ¡å¾—ä¾ç„¶ä¸è¡Œï¼Œè¿˜å¾—æ‰¾æ—¶é—´è¡¥ä¹ ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
      <tag>äºŒå‰æœç´¢æ ‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-1800.æœ€å¤§å‡åºå­æ•°ç»„å’Œ</title>
    <link href="/2022/10/07/leetcode-1800/"/>
    <url>/2022/10/07/leetcode-1800/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_1800_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>æ€è·¯å’Œå®ç°</h1><p>å…¶å®å°±æ˜¯éå†ä¸€éé¢˜ç›®æ‰€ç»™æ•°ç»„ï¼Œä½¿ç”¨ä¸€ä¸ª<code>max_sum</code>ä¿å­˜å½“å‰æœ€å¤§å’Œï¼Œ<code>tmp_sum</code>ä¿å­˜å½“å‰å­æ•°ç»„å’Œï¼Œå°†å½“å‰å…ƒç´ å’Œä¸‹ä¸ªå…ƒç´ ï¼ˆè‹¥å­˜åœ¨ï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå¤§äºä¸‹ä¸ªå…ƒç´ ï¼Œè¯´æ˜è¯¥å‡åºå­æ•°ç»„ç»“æŸï¼Œå¹¶å’Œå½“å‰æœ€å¤§å‡åºå­æ•°ç»„å…ƒç´ å’Œè¿›è¡Œæ¯”è¾ƒï¼Œå¦åˆ™è®¡å…¥å½“å‰å­æ•°ç»„å’Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maxAscendingSum</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        max_sum: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>  <span class="hljs-comment"># å½“å‰æœ€å¤§å’Œ</span><br>        tmp_sum: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span>  <span class="hljs-comment"># å½“å‰å­æ•°ç»„å’Œ</span><br>        <span class="hljs-keyword">for</span> i, num <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(nums):<br>            <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; <span class="hljs-built_in">len</span>(nums) <span class="hljs-keyword">and</span> num &gt;= nums[i + <span class="hljs-number">1</span>]) <span class="hljs-keyword">or</span> i + <span class="hljs-number">1</span> &gt;= <span class="hljs-built_in">len</span>(nums):  <span class="hljs-comment"># å½“å‰å…ƒç´ å¤§äºä¸‹ä¸ªå…ƒç´ ï¼Œæˆ–æ²¡æœ‰ä¸‹ä¸ªå…ƒç´ ï¼Œè¯¥å‡åºå­æ•°ç»„ç»“æŸ</span><br>                tmp_sum += num<br>                max_sum = <span class="hljs-built_in">max</span>(max_sum, tmp_sum)<br>                tmp_sum = <span class="hljs-number">0</span>  <span class="hljs-comment"># é‡ç½®ä¸´æ—¶å­æ•°ç»„å’Œ</span><br>            <span class="hljs-keyword">elif</span> i + <span class="hljs-number">1</span> &lt; <span class="hljs-built_in">len</span>(nums):  <span class="hljs-comment"># å½“å‰å…ƒç´ å°äºä¸‹ä¸ªå…ƒç´ ï¼Œåé¢çš„æ¡ä»¶å¯çœç•¥ä¸å†™</span><br>                tmp_sum += num<br>        <span class="hljs-keyword">return</span> max_sum<br></code></pre></td></tr></table></figure><p>ï¼ˆçœ‹å®Œå®˜æ–¹é¢˜è§£åï¼šå¯„ï¼ä»¥åè¦æ”¹æ‰æˆ‘å–œæ¬¢å¾€åçœ‹çš„æ€æƒ³äº†ï¼ï¼‰<br>ï¼ˆæ²¡ç¢°è¿‡åŠ¨æ€è§„åˆ’çš„æˆ‘ï¼šï¼Ÿè¿™æ˜¯ä»€ä¹ˆ.JPGï¼‰</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-927.ä¸‰ç­‰åˆ†</title>
    <link href="/2022/10/06/leetcode-927/"/>
    <url>/2022/10/06/leetcode-927/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_927_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>å®ç°</h1><p>ä»Šå¤©ä¸€çœ‹é¢˜ç›®ï¼Œåäº†å®¶äººä»¬ï¼Œæ€ä¹ˆæ˜¯çº¯æ•°å­¦é¢˜å•Šï¼ˆæ‚²ï¼‰ï¼Œè¿™ä¸‹ä¸ä¼šäº†ã€‚<br>é‚£æ—¢ç„¶æ˜¯æ•°å­¦é¢˜ï¼Œé‚£å°±è¦ä»”ç»†åˆ†æé¢˜ç›®äº†ã€‚<br>é¦–å…ˆï¼Œé¢˜ç›®æ˜¯å°†æ•°ç»„åˆ†ä¸º3ä¸ªéç©ºçš„éƒ¨åˆ†ï¼Œæ‰€æœ‰è¿™äº›éƒ¨åˆ†è¡¨ç¤ºç›¸åŒçš„äºŒè¿›åˆ¶å€¼ï¼Œæ•°ç»„åªå­˜åœ¨0å’Œ1ä¸¤ä¸ªè¡¨ç¤ºäºŒè¿›åˆ¶çš„æ•°å­—ã€‚<br>åˆ†æä¸‹ç¤ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬åº”è¯¥æŠŠé‡ç‚¹æ”¾åœ¨1è¿™ä¸ªæ•°å­—ä¸Šï¼Œå¹¶ä¸”åˆ†æƒ…å†µè®¨è®ºï¼š</p><ol><li>å¦‚æœå¯ä»¥åšåˆ°ï¼Œé‚£ä¹ˆæ•°ç»„å…¶ä¸­çš„1çš„ä¸ªæ•°åº”è¯¥èƒ½è¢«3æ•´é™¤ï¼Œå¹¶ä¸”å¾—åˆ°çš„3ä¸ªéƒ¨åˆ†ä¸­ï¼Œ1çš„ä¸ªæ•°åº”ä¸€è‡´ã€‚</li><li>ç‰¹æ®Šæƒ…å†µï¼Œæ²¡æœ‰ä¸€ä¸ª1ï¼Œå³æ•°ç»„å…¨æ˜¯0çš„æƒ…å†µï¼Œæˆ‘ä»¬åªè¦éšæ„ç»™å‡ºä¸€ä¸ªåˆç†ç­”æ¡ˆå³å¯ï¼Œå¦‚[0,2]ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬çŸ¥é“æ•°ç»„ä¸­å¯èƒ½å­˜åœ¨è§£åï¼Œè¦æ€ä¹ˆå¾—åˆ°è¿™ä¸ªè§£å‘¢ï¼Ÿå…¶å®å°±æ˜¯é€ä¸€æ¯”è¾ƒã€‚è™½ç„¶æ•°ç»„ä¸­å­˜åœ¨å‰å¯¼0ï¼Œä½†æ˜¯æˆ‘ä»¬å®Œå…¨å¯ä»¥é¿å¼€å®ƒï¼Œå› ä¸ºæˆ‘ä»¬æŠŠé‡ç‚¹æ”¾åœ¨äº†1ä¸Šã€‚æ— è®ºæœ‰å‡ ä¸ªå‰å¯¼0ï¼Œæˆ‘ä»¬åªè¦ä»æ¯ä¸ªæ•°å­—çš„ç¬¬ä¸€ä¸ª1å¼€å§‹æ¯”è¾ƒå°±ä¸ä¼šå—å‰å¯¼0å½±å“ã€‚<br>çŸ¥é“äº†ä»æ¯ä¸ªéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ª1å¼€å§‹æ¯”è¾ƒåï¼Œæˆ‘ä»¬çš„é‡ç‚¹å°±è½¬å˜ä¸ºäº†æ€ä¹ˆæ‰¾åˆ°æ¯ä¸ªéƒ¨åˆ†ç¬¬ä¸€ä¸ª1åœ¨æ•°ç»„ä¸­çš„ä½ç½®ã€‚å‰é¢æåˆ°ï¼Œå¦‚æœå­˜åœ¨è§£ï¼Œé‚£ä¹ˆæ¯ä¸ªéƒ¨åˆ†çš„1çš„ä¸ªæ•°æ˜¯ä¸€è‡´çš„ã€‚æˆ‘ä»¬å¯ä»¥éå†æ•°ç»„ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªè®¡æ•°å™¨æ¥å¸®åŠ©ç¡®å®šæ¯ä¸ªéƒ¨åˆ†çš„1çš„ä½ç½®ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</li></ol><blockquote><p>å‡è®¾ç»™å‡ºæ•°ç»„[1,1,0,0,1,1,0,1,1]ï¼Œæˆ‘ä»¬å¯ä»¥å¾—çŸ¥å…¶ä¸­1çš„ä¸ªæ•°ä¸º6ï¼Œé‚£ä¹ˆæ¯ä¸ªéƒ¨åˆ†åŒ…å«çš„1çš„ä¸ªæ•°åº”è¯¥ä¸ºï¼š6/3 == 2ã€‚<br>éå†æ•°ç»„ï¼Œcntå¼€å§‹è®¾ä¸º0ï¼Œå¦‚æœé‡åˆ°äº†1ï¼Œé‚£ä¹ˆè¿›è¡Œåˆ¤æ–­ï¼Œcntä¸º0ï¼Œé‚£ä¹ˆå½“å‰ä½ç½®å°±æ˜¯ç¬¬ä¸€éƒ¨åˆ†ç¬¬ä¸€ä¸ª1çš„ä½ç½®ï¼Œå¦‚æœcntä¸º2ï¼Œé‚£ä¹ˆå°±æ˜¯ç¬¬äºŒä¸ªéƒ¨åˆ†ç¬¬ä¸€ä¸ª1çš„ä½ç½®ï¼Œå¦‚æœcntä¸º4ï¼Œé‚£ä¹ˆå°±æ˜¯ç¬¬ä¸‰éƒ¨åˆ†ç¬¬ä¸€ä¸ª1çš„ä½ç½®ï¼Œæœ€åcnt++ã€‚<br>ç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†æ¯ä¸ªéƒ¨åˆ†ç¬¬ä¸€ä¸ª1çš„ä½ç½®ï¼Œæ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯è¿›è¡Œæ¯”è¾ƒäº†ã€‚åŒæ ·æ˜¯éå†æ•°ç»„ï¼Œä¸€ç›´æ¯”åˆ°æ•°ç»„è¶Šç•Œéƒ½ä¸€è‡´çš„è¯ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†è§£ã€‚å¦åˆ™æ— è§£ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">threeEqualParts</span>(<span class="hljs-params">self, arr: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        nums = arr.count(<span class="hljs-number">1</span>)  <span class="hljs-comment"># ç»Ÿè®¡1å‡ºç°çš„æ¬¡æ•°</span><br>        <span class="hljs-keyword">if</span> nums == <span class="hljs-number">0</span>:  <span class="hljs-comment"># æ•°ç»„ä¸­å…¨0ï¼Œè¿”å›ä¸€ä¸ªåˆç†ç­”æ¡ˆå³å¯</span><br>            <span class="hljs-keyword">return</span> [<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]<br>        <span class="hljs-keyword">elif</span> nums % <span class="hljs-number">3</span> != <span class="hljs-number">0</span>:  <span class="hljs-comment"># 1çš„ä¸ªæ•°æ— æ³•è¢«3æ•´é™¤ï¼Œè¿”å›æ— è§£</span><br>            <span class="hljs-keyword">return</span> [-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>]<br>        cnt = index1 = index2 = index3 = <span class="hljs-number">0</span>  <span class="hljs-comment"># è¾…åŠ©å˜é‡</span><br>        ones_cnt = nums // <span class="hljs-number">3</span>  <span class="hljs-comment"># æ¯ä¸ªéƒ¨åˆ†1çš„ä¸ªæ•°</span><br>        <span class="hljs-keyword">for</span> index, item <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(arr):<br>            <span class="hljs-keyword">if</span> item:  <span class="hljs-comment"># å¦‚æœitemæ˜¯1</span><br>                <span class="hljs-keyword">if</span> cnt == <span class="hljs-number">0</span>:<br>                    index1 = index  <span class="hljs-comment"># ç¬¬ä¸€éƒ¨åˆ†ç¬¬ä¸€ä¸ª1çš„ä½ç½®</span><br>                <span class="hljs-keyword">elif</span> cnt == ones_cnt:<br>                    index2 = index  <span class="hljs-comment"># ç¬¬äºŒéƒ¨åˆ†ç¬¬ä¸€ä¸ª1çš„ä½ç½®</span><br>                <span class="hljs-keyword">elif</span> cnt == <span class="hljs-number">2</span> * ones_cnt:<br>                    index3 = index  <span class="hljs-comment"># ç¬¬ä¸‰éƒ¨åˆ†ç¬¬ä¸€ä¸ª1çš„ä½ç½®</span><br>                cnt += <span class="hljs-number">1</span>  <span class="hljs-comment"># æ‰¾åˆ°çš„1çš„ä¸ªæ•°å¢åŠ </span><br>        <span class="hljs-keyword">while</span> index3 + <span class="hljs-number">1</span> &lt; <span class="hljs-built_in">len</span>(arr):<br>            <span class="hljs-keyword">if</span> arr[index1 + <span class="hljs-number">1</span>] != arr[index2 + <span class="hljs-number">1</span>]  <span class="hljs-keyword">or</span> arr[index1 + <span class="hljs-number">1</span>] != arr[index3 + <span class="hljs-number">1</span>]:  <span class="hljs-comment"># åŒ¹é…å¤±è´¥ï¼Œè¿”å›æ— è§£</span><br>                <span class="hljs-keyword">return</span> [-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>]<br>            index1 += <span class="hljs-number">1</span><br>            index2 += <span class="hljs-number">1</span><br>            index3 += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> [index1, index2 + <span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-811.å­åŸŸåè®¿é—®è®¡æ•°</title>
    <link href="/2022/10/05/leetcode-811/"/>
    <url>/2022/10/05/leetcode-811/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_811_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>å®ç°</h1><p>æˆ‘æ˜¯è¿™ä¹ˆæƒ³çš„ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²éƒ½ä½¿ç”¨ä¸¤æ¬¡<code>spilt()</code>æ–¹æ³•è¿›è¡Œå­—ç¬¦ä¸²çš„æå–ï¼Œç¬¬ä¸€æ¬¡åˆ†éš”ç¬¦ä¸º<code>&quot; &quot;</code>ï¼Œç¬¬äºŒæ¬¡åˆ™ä¸º<code>&quot;.&quot;</code>ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æå–å‡ºæ¥çš„å°±æ˜¯è®¿é—®æ¬¡æ•°å’Œè®¿é—®åŸŸåï¼Œç¬¬äºŒæ¬¡åˆ™æ˜¯æå–å­åŸŸåå’Œçˆ¶åŸŸåã€‚<br>ç„¶åæŠŠæ‰€æœ‰ä¸œè¥¿éƒ½å¡è¿›å“ˆå¸Œè¡¨ï¼ˆå­—å…¸ï¼‰é‡Œï¼Œ<code>Key</code>ä¸ºåŸŸåï¼Œ<code>Value</code>ä¸ºè®¿é—®æ¬¡æ•°ã€‚å¦‚æœå“ˆå¸Œè¡¨å­˜åœ¨è¯¥åŸŸåå°±ç›´æ¥åŠ è®¿é—®æ¬¡æ•°ï¼Œå¦åˆ™å°±åˆ›å»ºä¸€ä¸ªæ–°é”®å€¼å¯¹å¹¶åŠ ä¸Šè®¿é—®æ¬¡æ•°ã€‚<br>ç¨‹åºåº”è¯¥æ˜¯äºŒé‡å¾ªç¯ï¼Œè¦éå†ä¸€æ¬¡ä¼ å…¥çš„å­—ç¬¦ä¸²æ•°ç»„ï¼Œè¿˜è¦éå†ç¬¬äºŒæ¬¡ä½¿ç”¨<code>spilt()</code>å¾—åˆ°çš„åŸŸåã€‚<br>å…³äºè¾“å‡ºæ ¼å¼ï¼ŒåŒæ ·çš„ç”¨ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¿å­˜ç»“æœï¼Œéå†å­—å…¸ï¼Œå­—ç¬¦ä¸²æ ¼å¼ä¸ºï¼š<code>Value + &quot; &quot; + Key</code>ã€‚<br>ç„¶åæˆ‘çš„ç¬¬ä¸€éå®ç°ï¼ˆä»£ç æœªä¼˜åŒ–ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">subdomainVisits</span>(<span class="hljs-params">self, cpdomains: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:<br>        result: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-built_in">list</span>()<br>        a_dict = <span class="hljs-built_in">dict</span>()<br>        <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> cpdomains:  <span class="hljs-comment"># éå†ç»™å®šæ•°ç»„</span><br>            tmp = s.split(<span class="hljs-string">&quot; &quot;</span>)<br>            count = <span class="hljs-built_in">int</span>(tmp[<span class="hljs-number">0</span>])<br>            domains = tmp[<span class="hljs-number">1</span>].split(<span class="hljs-string">&quot;.&quot;</span>)<br>            <span class="hljs-keyword">for</span> i, domain <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(domains):  <span class="hljs-comment"># éå†åŸŸå</span><br>                <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(domains)):  <span class="hljs-comment"># æ‹¼æ¥åŸŸå</span><br>                    domain = domain + <span class="hljs-string">&quot;.&quot;</span> + domains[j]<br>                <span class="hljs-keyword">if</span> domain <span class="hljs-keyword">in</span> a_dict:<br>                    a_dict[domain] += count<br>                <span class="hljs-keyword">else</span>:<br>                    a_dict[domain] = count<br>        <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> a_dict.items():<br>            result.append(<span class="hljs-built_in">str</span>(v) + <span class="hljs-string">&quot; &quot;</span> + k)<br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure><p>å¥½ï¼Œå†™å®Œå‘ç°æˆ‘æ€ä¹ˆç”¨äº†ä¸‰é‡å¾ªç¯ï¼Œå“¦ï¼ŒåŸæ¥æ˜¯è‡ªå·±å…‰è®°ç€æŠŠåŸŸåæ‹†å¼€æ²¡è®°ç€æŠŠåŸŸåæ‹¼èµ·æ¥æ‰è¡Œäº†ã€‚<br>ç„¶åæ˜¯å®˜æ–¹é¢˜è§£ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">subdomainVisits</span>(<span class="hljs-params">self, cpdomains: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:<br>        cnt = Counter()<br>        <span class="hljs-keyword">for</span> domain <span class="hljs-keyword">in</span> cpdomains:<br>            c, s = domain.split()<br>            c = <span class="hljs-built_in">int</span>(c)<br>            cnt[s] += c<br>            <span class="hljs-keyword">while</span> <span class="hljs-string">&#x27;.&#x27;</span> <span class="hljs-keyword">in</span> s:<br>                s = s[s.index(<span class="hljs-string">&#x27;.&#x27;</span>) + <span class="hljs-number">1</span>:]<br>                cnt[s] += c<br>        <span class="hljs-keyword">return</span> [<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;c&#125;</span> <span class="hljs-subst">&#123;s&#125;</span>&quot;</span> <span class="hljs-keyword">for</span> s, c <span class="hljs-keyword">in</span> cnt.items()]<br></code></pre></td></tr></table></figure><p>æˆ‘è‰ï¼Œå¥½å—¯å¿…ï¼Œä»–ç”¨çš„æ˜¯<code>Counter</code>ï¼Œç›´æ¥åœ¨çŸ¥é“æ ¼å¼çš„æƒ…å†µä¸‹åˆ©ç”¨<code>spilt</code>è¿”å›ä¸¤ä¸ªå€¼å°±å®Œäº‹äº†ï¼Œä»–ç”¨<code>while</code>å¾ªç¯æ£€æŸ¥<code>'.'</code>åœ¨ä¸åœ¨åŸŸåå­—ç¬¦ä¸²é‡Œï¼Œè¿”å›è¯­å¥æ›´æ˜¯ä¸Šåˆ—è¡¨è§£æå¼ï¼Œæˆ‘è‰ï¼Œå¤ªå—¯å¿…äº†ï¼Œè–„çº±æˆ‘è¿™ç§åƒåœ¾ä»£ç å¥½å§ã€‚ã€‚ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-2.ä¸¤æ•°ç›¸åŠ </title>
    <link href="/2022/10/04/leetcode-2/"/>
    <url>/2022/10/04/leetcode-2/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_2_1.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>å®ç°</h1><p>ä»€ä¹ˆé¢å¤–è¦æ±‚éƒ½æ²¡æœ‰ï¼Œä¹Ÿæ²¡è®©ä½ æŠŠæ•°å­—æ­£åºè¾“å‡ºæ‹¼èµ·æ¥ï¼Œé‚£å°±ç›´æ¥ç®€å•éå†å–½</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addTwoNumbers</span>(<span class="hljs-params">self, l1: <span class="hljs-type">Optional</span>[ListNode], l2: <span class="hljs-type">Optional</span>[ListNode]</span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        head: ListNode = ListNode()<br>        scout: ListNode = head<br>        c_flag: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> l1 <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> l2 <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:  <span class="hljs-comment"># éå†l1å’Œl2</span><br>            tmp: ListNode = ListNode()<br>            num1 = l1.val <span class="hljs-keyword">if</span> l1 <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>            num2 = l2.val <span class="hljs-keyword">if</span> l2 <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>            <span class="hljs-keyword">if</span> num1 + num2 + c_flag &gt;= <span class="hljs-number">10</span>:  <span class="hljs-comment"># äº§ç”Ÿè¿›ä½ï¼Œè¦æŠŠè¿›ä½æ ‡å¿—è®¾ç½®æˆ1</span><br>                tmp.val = num1 + num2 + c_flag - <span class="hljs-number">10</span><br>                c_flag = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># æ²¡æœ‰è¿›ä½ï¼ŒæŠŠè¿›ä½æ ‡å¿—è®¾ç½®æˆ0</span><br>                tmp.val = num1 + num2 + c_flag<br>                c_flag = <span class="hljs-number">0</span><br>            scout.<span class="hljs-built_in">next</span> = tmp<br>            scout = tmp<br>            l1 = <span class="hljs-literal">None</span> <span class="hljs-keyword">if</span> l1 <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> l1.<span class="hljs-built_in">next</span>  <span class="hljs-comment"># l1å’Œl2è‹¥æ˜¯è¿˜æœ‰åç»­ï¼Œé‚£å°±å–åç»­ï¼Œå¦‚æœæ²¡æœ‰å°±è¦è®¾ç½®æˆNone</span><br>            l2 = <span class="hljs-literal">None</span> <span class="hljs-keyword">if</span> l2 <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> l2.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">if</span> c_flag == <span class="hljs-number">1</span>:  <span class="hljs-comment"># ä¸è¦å¿˜äº†éå†ç»“æŸåï¼Œè¿›ä½æ ‡å¿—å¦‚æœæ˜¯1çš„è¯ï¼Œè¿˜è¦åŠ ä¸ªæœ€é«˜ä½</span><br>            scout.<span class="hljs-built_in">next</span> = ListNode(<span class="hljs-number">1</span>, <span class="hljs-literal">None</span>)<br><br>        <span class="hljs-keyword">return</span> head.<span class="hljs-built_in">next</span><br></code></pre></td></tr></table></figure><p>åƒä¸‡åˆ«å¿˜è®°éå†ç»“æŸè¿˜è¦æ£€æŸ¥è¿›ä½æ ‡å¿—å•Šå®¶äººä»¬ï¼Œç¬¬ä¸€æ¬¡äº¤æˆ‘ç›´æ¥æ¼äº†ä¸€ä¸ª1æ²¡è¾“å‡ºï¼Œæ‰§è¡Œç¤ºä¾‹é‚£é‡Œçœ‹é”™äº†æŠŠé¢„æœŸç»“æœçœ‹æˆæˆ‘çš„è¾“å‡ºæˆ‘è¿˜ä»¥ä¸ºæ²¡é”™TvT</p><blockquote><p>æ‰§è¡Œç”¨æ—¶ï¼š56 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†87.89%çš„ç”¨æˆ·<br>å†…å­˜æ¶ˆè€—ï¼š15.1 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†26.41%çš„ç”¨æˆ·<br><s>æ‰“ä¸è¿‡ï¼Œå‘Šè¾.jpg</s></p></blockquote><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-921.ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ </title>
    <link href="/2022/10/04/leetcode-921/"/>
    <url>/2022/10/04/leetcode-921/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p><img src="http://imagehost.map1e-g.cn/Leetcode/leetcode_921_1.png" alt="ç¬¬ä¸€å¼ å›¾"><br>è¿™ä¸ªé¢˜ç›®æè¿°æˆ‘åªèƒ½è¯´å‘ƒå‘ƒï¼Œå…¶å®å°±æ˜¯æ‹¬å·åŒ¹é…æˆç«‹é—®é¢˜ã€‚å†ä¸¢ä¸ªå®ä¾‹å°±å¾ˆæ˜ç™½äº†ï¼š</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs avrasm"><span class="hljs-symbol">Input:</span> s = <span class="hljs-string">&quot;()))((&quot;</span><br><span class="hljs-symbol">Output:</span> <span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><h1>å®ç°</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minAddToMakeValid</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        flag = <span class="hljs-number">0</span><br>        result = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> bracket <span class="hljs-keyword">in</span> s[::-<span class="hljs-number">1</span>]:<br>            <span class="hljs-keyword">if</span> bracket == <span class="hljs-string">&#x27;(&#x27;</span> <span class="hljs-keyword">and</span> flag &gt; <span class="hljs-number">0</span>:<br>                flag -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> bracket == <span class="hljs-string">&#x27;(&#x27;</span>:<br>                result += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                flag += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> result + flag<br></code></pre></td></tr></table></figure><blockquote><p>æ‰§è¡Œç”¨æ—¶ï¼š44 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†17.39%çš„ç”¨æˆ·<br>å†…å­˜æ¶ˆè€—ï¼š14.9 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†78.09%çš„ç”¨æˆ·<br>åªèƒ½è¯´ä¸æ˜¯å¾ˆç†æƒ³æ~<br>å…¸å‹çš„<s>(ç®€å•)</s>è´ªå¿ƒï¼Œä¸Šé¢ä»£ç æˆ‘è¿˜æŠŠå­—ç¬¦ä¸²åè¿‡æ¥äº†ï¼Œå…¶å®å¹¶ä¸éœ€è¦ï¼Œä½†æ˜¯<s>æˆ‘æ¯”è¾ƒç¬¨</s>ã€‚</p></blockquote><h1>å°å£°å˜€å’•</h1><p>æˆ‘è¶£å®¶äººä»¬ï¼Œå°‘ä¸€ä¸ªåˆ‡ç‰‡æ“ä½œç›´æ¥ï¼š</p><blockquote><p>æ‰§è¡Œç”¨æ—¶ï¼š36 ms, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†74.09%çš„ç”¨æˆ·<br>å†…å­˜æ¶ˆè€—ï¼š14.8 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†çš„ç”¨æˆ·<br>æˆ‘æ˜¯çç å•Š<br><s>å¯æ¶æˆ‘ç”šè‡³çœ‹è§äº†ä¸€ä¸ªåˆ©ç”¨<code>replace</code>é€ƒè¯¾çš„æ–¹æ³•ï¼Œè¿™ä¹ˆåšçœŸçš„æ˜¯å¤ªå¯æ¶äº†ï¼</s></p></blockquote><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxå­¦ä¹ ç¬”è®°1</title>
    <link href="/2022/10/04/linux-learning-1/"/>
    <url>/2022/10/04/linux-learning-1/</url>
    
    <content type="html"><![CDATA[<h1>æƒ³è¯´çš„è¯</h1><p>æœ¬ç³»åˆ—æ–‡ç« å¯èƒ½ä¸ä¼šæ˜¯ä½ æ‰€æœŸå¾…çš„æ–‡ç« ï¼Œåœ¨é˜…è¯»çš„æ—¶å€™ä½ å¯èƒ½ä¼šè§‰å¾—è¯¥æ–‡ç« çš„é—®é¢˜åŒ…æ‹¬ä½†ä¸é™äºï¼šæŠ½è±¡ã€é”™è¯¯ã€è·³è·ƒï¼Œæ˜¯å› ä¸ºæˆ‘åœ¨å†™è¯¥ç³»åˆ—æ–‡ç« çš„æ—¶å€™å¹¶æ²¡æœ‰åƒä¹‹å‰å…¶ä»–ç³»åˆ—æ–‡ç« é‚£æ ·åšã€‚<br>è¯¥ç³»åˆ—æ–‡ç« æ›´å¤šçš„æ˜¯æˆ‘å¯¹ä¹¦ä¸­çŸ¥è¯†çš„å¤§æ¦‚æ¦‚æ‹¬ã€‚<br>é˜…è¯»è¯¥ç³»åˆ—æ–‡ç« å¯èƒ½ä¼šéœ€è¦ä¸€å®šç¼–ç¨‹åŸºç¡€ã€‚<br>æ•¬è¯·è°…è§£ã€‚</p><h1>ç¬¬ä¸€ç«  å…¥é—¨</h1><h2 id="å‘½ä»¤"><code>./</code>å‘½ä»¤</h2><p>ä¾‹å­ï¼š<code>./hello</code><br>ç‰¹åˆ«æŒ‡ç¤ºshellå»æ‰§è¡Œå½“å‰ç›®å½•ä¸‹ç»™å®šçš„åç§°çš„ç¨‹åº</p><h2 id="gccå‘½ä»¤"><code>gcc</code>å‘½ä»¤</h2><p><code>-I + ä½ç½®</code><br>ä¾‹å­ï¼š<code>gcc -I/usr/openwin/include fred.c</code><br>æŸ¥æ‰¾åŒ…å«ä¿å­˜åœ¨å­ç›®å½•æˆ–éæ ‡å‡†ä½ç½®ä¸­çš„å¤´æ–‡ä»¶</p><h2 id="å‘½ä»¤çš„ç®€å†™">å‘½ä»¤çš„ç®€å†™</h2><p><code>gcc -o fred fred.c /usr/lib/libm.a</code>å¯ä»¥å†™æˆ<code>gcc -o fred fred.c -lm</code><br>l == lib, m == å‡½æ•°åº“å,å³ï¼š<code>-l + å‡½æ•°åº“å</code></p><h2 id="L-ä½ç½®"><code>-L + ä½ç½®</code></h2><p>ä¾‹å­ï¼š<code>gcc -o x11fred -L/usr/openwin/lib x11fred.c -lX11</code><br>ä¸ºç¼–è¯‘å™¨å¢åŠ åº“çš„æœç´¢è·¯å¾„</p><h2 id="c"><code>-c</code></h2><p>ä½œç”¨æ˜¯é˜»æ­¢ç¼–è¯‘å™¨åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ç¨‹åº(ä¸€èˆ¬æƒ…å†µä¸‹è¾“å‡ºä¸€ä¸ª<code>.o</code>æ–‡ä»¶</p><h2 id="arç¨‹åº"><code>ar</code>ç¨‹åº</h2><p>ä¾‹å­ï¼š<code>ar crv libfoo.a bill.o fred.o</code><br>å°†è‹¥å¹²å•ç‹¬çš„æ–‡ä»¶å½’å¹¶åˆ°ä¸€ä¸ªå¤§çš„æ–‡ä»¶ä¸­ä»¥åˆ›å»ºå½’æ¡£æ–‡ä»¶æˆ–é›†åˆ</p><h2 id="grepå‘½ä»¤"><code>grep</code>å‘½ä»¤</h2><p>æœç´¢åŒ…å«æŸäº›ç‰¹å®šå®šä¹‰å’Œå‡½æ•°åŸå‹çš„å¤´æ–‡ä»¶<br>ä¾‹å­ï¼š<code>grep EXIT_ *.h</code><br>åœ¨å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ä»¥<code>.h</code>ç»“å°¾çš„æ–‡ä»¶ä¸­æœç´¢å­—ç¬¦ä¸²<code>EXIT_</code>ã€‚</p><h2 id="nmå‘½ä»¤"><code>nm</code>å‘½ä»¤</h2><p>æŸ¥çœ‹å“ªäº›å‡½æ•°è¢«åŒ…å«åœ¨ç›®æ ‡æ–‡ä»¶ã€å‡½æ•°åº“æˆ–å¯æ‰§è¡Œæ–‡ä»¶é‡Œã€‚</p><h2 id="Linuxå’ŒWindowsç¯å¢ƒä¸‹çš„æ–‡ä»¶æ ¼å¼åŒºåˆ†">Linuxå’ŒWindowsç¯å¢ƒä¸‹çš„æ–‡ä»¶æ ¼å¼åŒºåˆ†</h2><p>ç¬¬ä¸€è¡Œä¸ºåœ¨Linuxç¯å¢ƒä¸‹å¯¹åº”çš„æ–‡ä»¶æ ¼å¼ï¼Œç¬¬äºŒè¡Œåˆ™æ˜¯åœ¨Windowsç¯å¢ƒä¸‹äº§ç”Ÿçš„æ–‡ä»¶æ ¼å¼ã€‚</p><table><thead><tr><th style="text-align:center">ç›®æ ‡æ¨¡å—</th><th style="text-align:center">é™æ€å‡½æ•°åº“</th><th style="text-align:center">ç¨‹åº</th></tr></thead><tbody><tr><td style="text-align:center">func.o</td><td style="text-align:center">lib.a</td><td style="text-align:center">program</td></tr><tr><td style="text-align:center">FUNC.OBJ</td><td style="text-align:center">LIB.LIB</td><td style="text-align:center">PROGRAM.EXE</td></tr></tbody></table><h2 id="manå‘½ä»¤"><code>man</code>å‘½ä»¤</h2><p>ä¾‹å­ï¼š<code>man gcc</code><br>è®¿é—®åœ¨çº¿æ‰‹å†Œé¡µï¼ŒæŒ‰ç©ºæ ¼é”®è¯»ä¸‹ä¸€é¡µï¼ŒæŒ‰<code>Enter/Return</code>é”®è¯»ä¸‹ä¸€è¡Œï¼ŒæŒ‰<code>q</code>é€€å‡ºã€‚</p><h2 id="infoå‘½ä»¤"><code>info</code>å‘½ä»¤</h2><p>GNUè½¯ä»¶ä½¿ç”¨çš„åœ¨çº¿æ–‡æ¡£ç³»ç»Ÿï¼ŒæŒ‰ä¸‹<code>Ctrl+H</code>ä»¥è·å¾—å¸®åŠ©ä¿¡æ¯ã€‚</p><h1>ç¬¬äºŒç«  Shellç¨‹åºè®¾è®¡</h1><h2 id="2-1-é‡å®šå‘è¾“å‡º">2.1 é‡å®šå‘è¾“å‡º</h2><p>æ–‡ä»¶æè¿°ç¬¦0ä»£è¡¨ä¸€ä¸ªç¨‹åºçš„æ ‡å‡†è¾“å…¥ï¼Œæ–‡ä»¶æè¿°ç¬¦1ä»£è¡¨æ ‡å‡†è¾“å‡ºï¼Œ2ä»£è¡¨æ ‡å‡†é”™è¯¯è¾“å‡ºã€‚</p><h3 id="æ“ä½œç¬¦"><code>&gt;</code>æ“ä½œç¬¦</h3><p>ä¾‹å­ï¼š<code>ls -l &gt; lsoutput.txt</code><br>æŠŠå‘½ä»¤çš„è¾“å‡ºä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚å¦‚æœæ–‡ä»¶å·²å­˜åœ¨åˆ™è¦†ç›–ï¼Œå¯ä½¿ç”¨å‘½ä»¤<code>set -o noclobber</code>æˆ–<code>set -C</code>è®¾ç½®<code>noclobber</code>é€‰é¡¹ï¼Œä»è€Œé˜»æ­¢é‡å®šå‘æ“ä½œå¯¹ä¸€ä¸ªå·²æœ‰æ–‡ä»¶çš„è¦†ç›–ã€‚å¯ä»¥ä½¿ç”¨<code>set +o noclobber</code>å‘½ä»¤å–æ¶ˆè¯¥é€‰é¡¹ã€‚</p><h3 id="æ“ä½œç¬¦-2"><code>&gt;&gt;</code>æ“ä½œç¬¦</h3><p>ä¾‹å­ï¼š<code>ps &gt;&gt; lsoutput.txt</code><br>æŠŠå‘½ä»¤çš„è¾“å‡ºé™„åŠ åˆ°æŒ‡å®šæ–‡ä»¶çš„å°¾éƒ¨ã€‚</p><h3 id="2"><code>2&gt;</code></h3><p>ä¾‹å­ï¼š<code>kill -HUP 1234 &gt;killout.txt 2&gt;killerr.txt</code><br>å¯¹æ ‡å‡†é”™è¯¯è¾“å‡ºè¿›è¡Œé‡å®šå‘ã€‚å½“éœ€è¦ä¸¢å¼ƒé”™è¯¯ä¿¡æ¯å¹¶é˜»æ­¢å®ƒæ˜¾ç¤ºåœ¨å±å¹•ä¸Šæ—¶ï¼Œè¿™ä¸ªæ–¹æ³•å¾ˆæœ‰ç”¨(æ¯”å¦‚ä¸€äº›é”™è¯¯æ— ä¼¤å¤§é›…ï¼Œä¸éœ€è¦å¼¹æ¡†æç¤ºï¼Œä½†æ˜¯åº”è¯¥æŠŠå®ƒå†™è¿›å»log)ã€‚<br>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡ºåˆ†åˆ«è¢«é‡å®šå‘åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­äº†ã€‚<br><code>kill -1 1234 &gt;killouterr.txt 2&gt;&amp;1</code><br>ä¸¤ç»„è¾“å‡ºéƒ½è¢«é‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­äº†ã€‚ <code>&gt;&amp;</code>æ“ä½œç¬¦å¯ä»¥ç»“åˆä¸¤ä¸ªè¾“å‡ºã€‚</p><h3 id="dev-null"><code>&gt;/dev/null</code></h3><p>ä¾‹å­ï¼š<code>kill -l 1234 &gt;/dev/null 2&gt;&amp;1</code><br>ä¸¢å¼ƒè¾“å‡ºã€‚</p><h3 id="æ“ä½œç¬¦-3"><code>|</code>æ“ä½œç¬¦</h3><p>ä¾‹å­ï¼š<code>ps &gt; psout.txt</code><br>ä½ å¯ä»¥ç”¨ç®¡é“æ“ä½œç¬¦<code>|</code>æ¥è¿æ¥è¿›ç¨‹ã€‚<br>æ¯”å¦‚<code>sort psout.txt &gt; pssort.out</code>å¯ä»¥å†™æˆï¼š<code>ps | sort &gt; pssort.out</code></p><h2 id="2-2-ç¼–å†™ç¬¬ä¸€ä¸ªè„šæœ¬">2.2 ç¼–å†™ç¬¬ä¸€ä¸ªè„šæœ¬</h2><p>å‡è®¾ç°åœ¨æˆ‘ä»¬å·²ç»ç¼–å†™å¥½äº†ä¸€ä¸ªè„šæœ¬æ–‡ä»¶<code>first</code>ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š<code>/bin/sh first</code><br>çœ‹ä¸Šå»å¾ˆéº»çƒ¦ï¼Œå¯ä»¥ç”¨<code>chmod</code>å‘½ä»¤æ¥æ”¹å˜è¿™ä¸ªæ–‡ä»¶çš„æ¨¡å¼ï¼š<code>chmod +x first</code><br>ç„¶åå°±å¯ä»¥ä½¿ç”¨<code>first</code>(é…ç½®è¿‡ç¯å¢ƒå˜é‡PATH)æˆ–è€…<code>./first</code>(æ¨è)æ‰§è¡Œäº†ã€‚</p><h2 id="2-3-shellçš„è¯­æ³•">2.3 shellçš„è¯­æ³•</h2><h3 id="2-3-1-å˜é‡">2.3.1 å˜é‡</h3><p>åˆ›å»ºå˜é‡ï¼š<code>x=1</code>(åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å˜é‡éƒ½è¢«çœ‹ä½œå­—ç¬¦ä¸²å¹¶ä»¥å­—ç¬¦ä¸²æ¥å­˜å‚¨ã€‚shellå’Œä¸€äº›å·¥å…·ç¨‹åºä¼šåœ¨éœ€è¦æ—¶æŠŠæ•°å€¼å‹å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹åº”çš„æ•°å€¼ä»¥å¯¹å®ƒä»¬è¿›è¡Œæ“ä½œã€‚)<br>è®¿é—®å˜é‡ï¼šé€šè¿‡åœ¨å˜é‡åå‰åŠ ä¸€ä¸ª<code>$</code>ç¬¦å·æ¥è®¿é—®å®ƒçš„å†…å®¹ã€‚<br>ä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">salutation=Hello</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-variable">$salutation</span></span><br>Hello<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œå¦‚æœå­—ç¬¦ä¸²é‡ŒåŒ…å«ç©ºæ ¼ï¼Œå°±å¿…é¡»ç”¨å¼•å·æŠŠå®ƒä»¬æ‹¬èµ·æ¥ã€‚æ­¤å¤–ï¼Œç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼ã€‚</p><h4 id="readå‘½ä»¤">readå‘½ä»¤</h4><p>ä¾‹å­ï¼š<code>read salutation</code><br>å°†ç”¨æˆ·çš„è¾“å…¥èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ã€‚</p><h4 id="å¼•å·çš„ä½¿ç”¨">å¼•å·çš„ä½¿ç”¨</h4><p>å˜é‡åœ¨å¼•å·ä¸­çš„è¡Œä¸ºå–å†³äºä½ æ‰€ä½¿ç”¨çš„å¼•å·ç±»å‹ã€‚å¦‚æœæŠŠ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>å˜é‡è¡¨è¾¾å¼æ”¾åœ¨åŒå¼•å·ä¸­ï¼Œç¨‹åºæ‰§è¡Œåˆ°è¿™ä¸€è¡Œæ—¶å°±ä¼šæŠŠå˜é‡æ›¿æ¢ä¸ºå®ƒçš„å€¼ï¼›å¦‚æœæ”¾åœ¨å•å¼•å·ä¸­ï¼Œå°±ä¸ä¼šæ›¿æ¢ã€‚åœ¨</mtext><mi mathvariant="normal">â€˜</mi></mrow><annotation encoding="application/x-tex">å˜é‡è¡¨è¾¾å¼æ”¾åœ¨åŒå¼•å·ä¸­ï¼Œç¨‹åºæ‰§è¡Œåˆ°è¿™ä¸€è¡Œæ—¶å°±ä¼šæŠŠå˜é‡æ›¿æ¢ä¸ºå®ƒçš„å€¼ï¼›å¦‚æœæ”¾åœ¨å•å¼•å·ä¸­ï¼Œå°±ä¸ä¼šæ›¿æ¢ã€‚åœ¨`</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord cjk_fallback">å˜é‡è¡¨è¾¾å¼æ”¾åœ¨åŒå¼•å·ä¸­ï¼Œç¨‹åºæ‰§è¡Œåˆ°è¿™ä¸€è¡Œæ—¶å°±ä¼šæŠŠå˜é‡æ›¿æ¢ä¸ºå®ƒçš„å€¼ï¼›å¦‚æœæ”¾åœ¨å•å¼•å·ä¸­ï¼Œå°±ä¸ä¼šæ›¿æ¢ã€‚åœ¨</span><span class="mord">â€˜</span></span></span></span><code>å‰é¢åŠ ä¸Šä¸€ä¸ª</code>`å­—ç¬¦ä¼šå–æ¶ˆ<code>$</code>çš„ç‰¹æ®Šå«ä¹‰ã€‚</p><h4 id="ç¯å¢ƒå˜é‡">ç¯å¢ƒå˜é‡</h4><p>å½“ä¸€ä¸ªshellè„šæœ¬ç¨‹åºå¼€å§‹æ‰§è¡Œæ—¶ï¼Œä¸€äº›å˜é‡ä¼šæ ¹æ®ç¯å¢ƒè®¾ç½®ä¸­çš„å€¼è¿›è¡Œåˆå§‹åŒ–ã€‚ä¸‹é¢åˆ—ä¸¾ä¸€äº›ä¸»è¦çš„å˜é‡ï¼š</p><table><thead><tr><th style="text-align:center">ç¯å¢ƒå˜é‡</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center"><code>$HOME</code></td><td style="text-align:center">å½“å‰ç”¨æˆ·çš„å®¶ç›®å½•</td></tr><tr><td style="text-align:center"><code>$PATH</code></td><td style="text-align:center">ä»¥å†’å·åˆ†éš”çš„ç”¨æ¥æœç´¢å‘½ä»¤çš„ç›®å½•åˆ—è¡¨</td></tr><tr><td style="text-align:center"><code>$PS1</code></td><td style="text-align:center">å‘½ä»¤æç¤ºç¬¦ï¼Œé€šå¸¸æ˜¯<code>$</code>å­—ç¬¦ï¼Œä½†åœ¨bashä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€äº›æ›´å¤æ‚çš„å€¼ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²<code>[\u@\h\W]$</code>å°±æ˜¯ä¸€ä¸ªæµè¡Œçš„é»˜è®¤å€¼ï¼Œå®ƒç»™å‡ºç”¨æˆ·åã€æœºå™¨åå’Œå½“å‰ç›®å½•åï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬ä¸€ä¸ª<code>$</code>æç¤ºç¬¦</td></tr><tr><td style="text-align:center"><code>$PS2</code></td><td style="text-align:center">äºŒçº§æç¤ºç¬¦ï¼Œç”¨æ¥æç¤ºåç»­çš„è¾“å…¥ï¼Œé€šå¸¸æ˜¯<code>&gt;</code>å­—ç¬¦</td></tr><tr><td style="text-align:center"><code>$IFS</code></td><td style="text-align:center">è¾“å…¥åŸŸåˆ†éš”ç¬¦ã€‚å½“shellè¯»å–è¾“å…¥æ—¶ï¼Œå®ƒç»™å‡ºç”¨æ¥åˆ†éš”å•è¯çš„ä¸€ç»„å­—ç¬¦ï¼Œå®ƒä»¬é€šå¸¸æ˜¯ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦</td></tr><tr><td style="text-align:center"><code>$0</code></td><td style="text-align:center">shellè„šæœ¬çš„åå­—</td></tr><tr><td style="text-align:center"><code>$#</code></td><td style="text-align:center">ä¼ é€’ç»™è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td></tr><tr><td style="text-align:center"><code>$$</code></td><td style="text-align:center">shellè„šæœ¬çš„è¿›ç¨‹å·ï¼Œè„šæœ¬ç¨‹åºé€šå¸¸ä¼šç”¨å®ƒæ¥ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ä¸´æ—¶æ–‡ä»¶å¦‚<code>/tmp/tmpfile_$$</code></td></tr></tbody></table><h4 id="å‚æ•°å˜é‡">å‚æ•°å˜é‡</h4><p>å¦‚æœè„šæœ¬ç¨‹åºåœ¨è°ƒç”¨æ—¶å¸¦æœ‰å‚æ•°ï¼Œä¸€äº›é¢å¤–çš„å˜é‡å°±ä¼šè¢«åˆ›å»ºã€‚</p><blockquote><p>å³ä½¿æ²¡æœ‰ä¼ é€’ä»»ä½•å‚æ•°ï¼Œç¯å¢ƒå˜é‡<code>$#</code>ä¹Ÿä¾ç„¶å­˜åœ¨ï¼Œåªä¸è¿‡å®ƒçš„å€¼æ—¶0ç½¢äº†ã€‚<br>ä¾‹å­ï¼š<code>$ ./try_var foo bar baz</code><br>|å‚æ•°å˜é‡|è¯´æ˜|<br>|:----:|:----:|<br>|<code>$1, $2, ...</code>|è„šæœ¬ç¨‹åºçš„å‚æ•°|<br>|<code>$*</code>|åœ¨ä¸€ä¸ªå˜é‡ä¸­åˆ—å‡ºæ‰€æœ‰çš„å‚æ•°ï¼Œå„ä¸ªå‚æ•°ä¹‹é—´ç”¨ç¯å¢ƒå˜é‡<code>IFS</code>ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦åˆ†éš”å¼€ã€‚å¦‚æœ<code>IFS</code>è¢«ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆ<code>$#</code>å°†å‘½ä»¤è¡Œåˆ†å‰²ä¸ºå‚æ•°çš„æ–¹å¼å°±å°†éšä¹‹æ”¹å˜|<br>|<code>$@</code>|å®ƒæ˜¯<code>$*</code>çš„ä¸€ç§å˜ä½“ï¼Œå®ƒä¸ä½¿ç”¨<code>IFS</code>ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥å³ä½¿<code>IFS</code>ä¸ºç©ºï¼Œå‚æ•°ä¹Ÿä¸ä¼šæŒ¤åœ¨ä¸€èµ·|</p></blockquote><h3 id="2-3-2-æ¡ä»¶">2.3.2 æ¡ä»¶</h3><h4 id="testæˆ–-å‘½ä»¤"><code>test</code>æˆ–<code>[</code>å‘½ä»¤</h4><p>ä¾‹å­ï¼šæ£€æŸ¥ä¸€ä¸ªæ–‡ä»¶æ˜¯å¦å­˜åœ¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Shell">if test -f fred.c<br>then<br>...<br>else<br>...<br>fi<br></code></pre></td></tr></table></figure><p>æˆ–è€…å†™æˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Shell">if [ -f fred.c ]<br>then<br>...<br>else<br>...<br>fi<br></code></pre></td></tr></table></figure><p>æ³¨æ„è¦åœ¨[ç¬¦å·å’Œè¢«æ£€æŸ¥çš„æ¡ä»¶ä¹‹é—´ç•™å‡ºç©ºæ ¼ã€‚<br>å¯ä»¥æŠŠ<code>if</code>å’Œ<code>then</code>æ”¾åœ¨åŒä¸€è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Shell">if [ -f fred.c ]; then  <br>...<br>fi<br></code></pre></td></tr></table></figure><p><code>test</code>å‘½ä»¤å¯ä»¥ä½¿ç”¨çš„æ¡ä»¶ç±»å‹å¯ä»¥å½’ä¸ºä¸‰ç±»ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒã€ç®—æ•°æ¯”è¾ƒå’Œä¸æ–‡ä»¶æœ‰å…³çš„æ¡ä»¶æµ‹è¯•ã€‚</p><h3 id="2-3-3æ§åˆ¶ç»“æ„">2.3.3æ§åˆ¶ç»“æ„</h3><h4 id="ifâ€¦elifâ€¦elseè¯­å¥">ifâ€¦elifâ€¦elseè¯­å¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Shell">if condition<br>then<br>    statements<br>elif condition<br>then<br>    statements<br>else<br>    statements<br>fi<br></code></pre></td></tr></table></figure><h4 id="forè¯­å¥">forè¯­å¥</h4><p>æˆ‘ä»¬å¯ä»¥ç”¨forç»“æ„æ¥å¾ªç¯å¤„ç†ä¸€ç»„å€¼ï¼Œè¿™ç»„å€¼å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²çš„é›†åˆã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Shell">for variable in values<br>do<br>    statements<br>done<br></code></pre></td></tr></table></figure><p>ä¾‹å­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Shell">for foo in bar fud 43<br>do<br>    echo $foo<br>done<br>exit 0<br></code></pre></td></tr></table></figure><h4 id="whileè¯­å¥">whileè¯­å¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Shell">while condition<br>do<br>    statements<br>done<br></code></pre></td></tr></table></figure><h4 id="untilè¯­å¥">untilè¯­å¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Shell">until condition<br>do<br>    statements<br>done<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Shell</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-13.ä¸¤æ•°ä¹‹å’Œ</title>
    <link href="/2022/10/01/leetcode-1/"/>
    <url>/2022/10/01/leetcode-1/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p>ï¼ˆå¦‚æœçœ‹ä¸åˆ°çš„è¯å°±å»åŠ›æ‰£å§ï¼‰<br><img src="https://s1.ax1x.com/2022/10/01/xK6wo6.png" alt="ç¬¬ä¸€å¼ å›¾"></p><h1>å®ç°</h1><h2 id="æš´åŠ›æšä¸¾">æš´åŠ›æšä¸¾</h2><p>ä¸ç”¨åŠ¨è„‘å­ï¼Œç›´æ¥éå†ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">twoSum</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(nums), <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i, <span class="hljs-built_in">len</span>(nums), <span class="hljs-number">1</span>):<br>                <span class="hljs-keyword">if</span> nums[i] + nums[j] == target:<br>                    <span class="hljs-keyword">return</span> [i, j]<br></code></pre></td></tr></table></figure><h2 id="å­—å…¸æŸ¥æ‰¾">å­—å…¸æŸ¥æ‰¾</h2><p>åœ¨å­—å…¸é‡Œè¾¹æŸ¥æ‰¾å€¼ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢é‡å¤éå†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">twoSum</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        a_dict = <span class="hljs-built_in">dict</span>()<br>        <span class="hljs-keyword">for</span> i, num <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(nums):<br>            <span class="hljs-keyword">if</span> target - num <span class="hljs-keyword">in</span> a_dict:  <span class="hljs-comment"># inæ˜¯åœ¨å­—å…¸ä¸­å­˜ä¸å­˜åœ¨å¯¹åº”key</span><br>                <span class="hljs-keyword">return</span> [a_dict[target - num], i]<br>            a_dict[nums[i]] = i<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŠ›æ‰£-13.ç½—é©¬æ•°å­—è½¬æ•´æ•°</title>
    <link href="/2022/09/30/leetcode-13/"/>
    <url>/2022/09/30/leetcode-13/</url>
    
    <content type="html"><![CDATA[<h1>é¢˜ç›®æè¿°</h1><p>ï¼ˆå¦‚æœçœ‹ä¸åˆ°çš„è¯å°±å»åŠ›æ‰£å§ï¼‰<br><img src="https://s1.ax1x.com/2022/10/01/xK6BFK.png" alt="ç¬¬ä¸€å¼ å›¾"><br><img src="https://s1.ax1x.com/2022/10/01/xK6ddx.png" alt="ç¬¬äºŒå¼ å›¾"></p><h1>å®ç°</h1><p>å…¶å®è‡ªå·±å¹¶æ²¡æœ‰æƒ³åˆ°å¥½çš„å®ç°ï¼Œç´¢æ€§å°±ç›´æ¥æš´åŠ›éå†ç„¶ååˆ†æƒ…å†µè®¨è®ºäº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">romanToInt</span><span class="hljs-params">(String s)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">char</span> tmp;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">cursor</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; cursor &lt; s.length(); cursor++)&#123;<br>            tmp = s.charAt(cursor);<br>            <span class="hljs-keyword">if</span> (tmp == <span class="hljs-string">&#x27;M&#x27;</span>)&#123;<br>                result += <span class="hljs-number">1000</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp == <span class="hljs-string">&#x27;D&#x27;</span>)&#123;<br>                result += <span class="hljs-number">500</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp == <span class="hljs-string">&#x27;C&#x27;</span>)&#123;<br>                <span class="hljs-keyword">if</span> (cursor &lt; s.length() - <span class="hljs-number">1</span>)&#123;<br>                    <span class="hljs-keyword">if</span>(s.charAt(cursor + <span class="hljs-number">1</span>) == <span class="hljs-string">&#x27;M&#x27;</span>)&#123;<br>                        result += <span class="hljs-number">900</span>;<br>                        cursor++;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s.charAt(cursor + <span class="hljs-number">1</span>) == <span class="hljs-string">&#x27;D&#x27;</span>)&#123;<br>                        result += <span class="hljs-number">400</span>;<br>                        cursor++;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span>&#123;<br>                        result += <span class="hljs-number">100</span>;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    result += <span class="hljs-number">100</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp == <span class="hljs-string">&#x27;L&#x27;</span>)&#123;<br>                result += <span class="hljs-number">50</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp == <span class="hljs-string">&#x27;X&#x27;</span>)&#123;<br>                <span class="hljs-keyword">if</span> (cursor &lt; s.length() - <span class="hljs-number">1</span>)&#123;<br>                    <span class="hljs-keyword">if</span>(s.charAt(cursor + <span class="hljs-number">1</span>) == <span class="hljs-string">&#x27;C&#x27;</span>)&#123;<br>                        result += <span class="hljs-number">90</span>;<br>                        cursor++;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s.charAt(cursor + <span class="hljs-number">1</span>) == <span class="hljs-string">&#x27;L&#x27;</span>)&#123;<br>                        result += <span class="hljs-number">40</span>;<br>                        cursor++;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span>&#123;<br>                        result += <span class="hljs-number">10</span>;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    result += <span class="hljs-number">10</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp == <span class="hljs-string">&#x27;V&#x27;</span>)&#123;<br>                result += <span class="hljs-number">5</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">if</span> (cursor &lt; s.length() - <span class="hljs-number">1</span>)&#123;<br>                    <span class="hljs-keyword">if</span>(s.charAt(cursor + <span class="hljs-number">1</span>) == <span class="hljs-string">&#x27;X&#x27;</span>)&#123;<br>                        result += <span class="hljs-number">9</span>;<br>                        cursor++;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s.charAt(cursor + <span class="hljs-number">1</span>) == <span class="hljs-string">&#x27;V&#x27;</span>)&#123;<br>                        result += <span class="hljs-number">4</span>;<br>                        cursor++;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span>&#123;<br>                        result += <span class="hljs-number">1</span>;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    result += <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> result;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¤ªä¹…æ²¡å†™äº†ï¼Œå†™å¾—å¤ªä¹…äº†ï¼Œå†™çš„æŒºæ€¥çš„ï¼Œå°±æƒ³ç€æ€ä¹ˆå†™å‡ºæ¥å…¶ä»–éƒ½æ²¡ç®¡äº†ï¼Œçœ‹ä¸Šå»æŒºç¬¨é‡çš„ï¼ˆ<br>æˆ‘å°±æ²¡å¤šæƒ³ï¼Œè½¬å°±è½¬å‘—ï¼Œé‚£æˆ‘å°±å—¯éå†ä¸€éå­—ç¬¦ä¸²ï¼Œç‰¹æ®Šæƒ…å†µæ‹¿å‡ºæ¥ç‰¹æ®Šè®¨è®ºå°±å¥½äº†ã€‚ä¸€å¼€å§‹æ˜¯å¾€å‰çœ‹çš„ï¼Œå‘ç°ä¸å¯¹åŠ²ï¼Œå¾€å‰çœ‹ç»“æœä¸å¯¹ï¼Œåªå¥½å¾€åçœ‹é¡ºä¾¿å¤šåŠ ä¸€æ¡æ¡ä»¶é˜²æ­¢ç´¢å¼•å‡ºç•Œï¼ˆå¥½ç¬¨å•Šå¥½ç¬¨å•Šå¥½ç¬¨å•Šï¼‰<br>è¡Œå§ï¼Œæ¯•ç«Ÿæˆ‘ç°åœ¨æ°´å¹³æ„Ÿè§‰è·Ÿåˆšå­¦ç¼–ç¨‹çš„æ²¡ä»€ä¹ˆå·®åˆ«ï¼Œåªèƒ½è¯´æ…¢æ…¢æ¥äº†ï¼ˆå€’</p><hr>]]></content>
    
    
    <categories>
      
      <category>Solution</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Leetcode</tag>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonéšç¬”-5</title>
    <link href="/2022/09/22/python-essay-5/"/>
    <url>/2022/09/22/python-essay-5/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>æ–‡ç« æœªå®Œæˆ</p>          </div><h1><code>__future__</code>æ¨¡å—</h1><p>è¯´ç™½äº†å°±æ˜¯æŠŠæ–°ç‰ˆæœ¬çš„ç‰¹æ€§å¯¼å…¥åˆ°å½“å‰Pythonç‰ˆæœ¬ã€‚<br>ç„¶åç¨‹åºé‡Œæ˜¯è¿™ä¸ªä¸œè¥¿ï¼š<code>from __future__ import annotations</code><br>é¢ï¼Œè¿™æ¡è¯­å¥å…¶å®æä¸æ˜¯å¾ˆæ‡‚ï¼Œå‚è€ƒäº†ä¸‹åˆ«äººçš„åšæ–‡ï¼Œå¤§æ¦‚æœ‰è¿™ä¹ˆä¸¤ç§è§£é‡Šå¾—å¥½çš„ï¼š</p><blockquote><p>åŠ å…¥ä»¥ä¸‹è¯­å¥ï¼Œè§£é‡Šå™¨å°†ä¸å†æ„é€ è¿™äº›å¤åˆç±»å‹ã€‚<br><code>from __future__ import annotations</code><br>ä¸€æ—¦è§£é‡Šå™¨è§£æè„šæœ¬è¯­æ³•æ ‘åï¼Œå®ƒä¼šè¯†åˆ«ç±»å‹æç¤ºå¹¶ç»•è¿‡è¯„ä¼°å®ƒï¼Œå°†å…¶ä¿ç•™ä¸ºåŸå§‹å­—ç¬¦ä¸²ã€‚è¿™ç§æœºåˆ¶ä½¿å¾—ç±»å‹æç¤ºå‘ç”Ÿåœ¨éœ€è¦å®ƒä»¬çš„åœ°æ–¹ï¼šç”±linteræ¥è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚ åœ¨Python 4ä¸­ï¼Œè¿™ç§æœºåˆ¶å°†æˆä¸ºé»˜è®¤è¡Œä¸ºã€‚<br>åŸæ–‡é“¾æ¥ï¼š<a href="https://sikasjc.github.io/2018/07/14/type-hint-in-python/">å…¨é¢ç†è§£Pythonä¸­çš„ç±»å‹æç¤ºï¼ˆType Hintsï¼‰</a><br>è¿˜æœ‰ä¸€ä¸ªæ˜¯ä»£ç ä¾‹å­:(åŸæ–‡é“¾æ¥ï¼š<a href="https://www.jtr109.com/posts/python-self-typing-annotation/">Python Class å®šä¹‰æ—¶å£°æ˜å½“å‰ Class ç±»å‹</a>)</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self: Foo, bar: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        self.bar = bar<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    Foo(<span class="hljs-string">&#x27;bar&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸Šé¢çš„ä»£ç æ˜¯ä¼šæŠ¥é”™çš„ï¼ŒåŸå› å°±åœ¨äº<code>self: Foo</code>ã€‚å› ä¸ºåœ¨ç±»<code>Foo</code>å®šä¹‰å‰å°±å·²ç»è¢«è‡ªå·±çš„æ–¹æ³•<code>__init__</code>ä½¿ç”¨äº†ï¼Œè§£é‡Šå™¨æ— æ³•ç†è§£ï¼ŒæŠ¥å‡º<code>NameError: name 'Foo' is not defined</code>é”™è¯¯ã€‚<br>è¿™ä¸ªæ—¶å€™è¿™æ¡è¯­å¥å°±æœ‰ç”¨äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> annotations<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Foo</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self: Foo, bar: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        self.bar = bar<br></code></pre></td></tr></table></figure><h1><code>typing</code>æ¨¡å—â€”â€”ç±»å‹æ³¨è§£æ”¯æŒ</h1><p>è¿™ä¸ªæ¨¡å—æä¾›å¯¹ç±»å‹æç¤ºçš„è¿è¡Œæ—¶æ”¯æŒã€‚ä¸‹è¾¹è¯¦ç»†ä»‹ç»ä¸€ä¸‹ç¨‹åºé‡Œè¾¹çš„ä»typingå¯¼å…¥çš„å„ç§ä¸œè¥¿ï¼š</p><h2 id="TypeVar">TypeVar</h2><p>ç±»å‹å˜é‡çš„ç¼©å†™ã€‚ç±»å‹å˜é‡ä¸»è¦æ˜¯ä¸ºé™æ€ç±»å‹æ£€æŸ¥å™¨æä¾›æ”¯æŒï¼Œç”¨äºæ³›å‹ç±»å‹ä¸æ³›å‹å‡½æ•°å®šä¹‰çš„å‚æ•°ã€‚æœ‰å…³æ³›å‹ç±»å‹ï¼Œè¯¦è§<code>Generic</code>ã€‚<br>å…¶å®å°±æ˜¯å®šä¹‰ä¸€ä¸ªæ³›å‹å˜é‡ï¼Œç„¶åä½ å°±èƒ½æŠŠè¿™ä¸ªæ³›å‹å˜é‡ç”¨åœ¨æ³›å‹ç±»å‹æˆ–è€…æ³›å‹å‡½æ•°å®šä¹‰çš„å‚æ•°ä¸­äº†ã€‚ç›´æ¥ä¸Šä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python">T = TypeVar(<span class="hljs-string">&#x27;T&#x27;</span>)  <span class="hljs-comment"># Can be anything</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">repeat</span>(<span class="hljs-params">x: T, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Sequence</span>[T]:  <span class="hljs-comment"># è¿™é‡Œçš„ Sequence[T] å°±æ˜¯æŠŠæ³›å‹å˜é‡ç”¨åœ¨æ³›å‹ç±»å‹ä¸­ï¼Œx: T å°±æ˜¯æŠŠæ³›å‹å˜é‡ç”¨åœ¨æ³›å‹å‡½æ•°å®šä¹‰çš„å‚æ•°ä¸­ã€‚</span><br>    <span class="hljs-string">&quot;&quot;&quot;Return a list containing n references to x.&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> [x]*n<br></code></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥å¯¹ç±»å‹å˜é‡è¿›è¡Œ<strong>ç»‘å®š(bound)</strong>ï¼Œæˆ–è€…<strong>çº¦æŸ</strong>ç±»å‹å˜é‡ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python">S = TypeVar(<span class="hljs-string">&#x27;S&#x27;</span>, bound=<span class="hljs-built_in">str</span>)  <span class="hljs-comment"># Can be any subtype of str</span><br>A = TypeVar(<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-built_in">str</span>, <span class="hljs-built_in">bytes</span>)  <span class="hljs-comment"># Must be exactly str or bytes</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œç±»å‹å˜é‡ä¸èƒ½æ—¢æ˜¯è¢«ç»‘å®šçš„åˆæ˜¯è¢«çº¦æŸçš„ã€‚</p><h2 id="Generic">Generic</h2><p>ç”¨äºæ³›å‹ç±»å‹çš„æŠ½è±¡åŸºç±»ã€‚<br><strong>æ³›å‹ç±»å‹ä¸€èˆ¬é€šè¿‡ç»§æ‰¿å«ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹å˜é‡çš„ç±»å®ä¾‹è¿›è¡Œå£°æ˜</strong>ã€‚å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„ä¾‹å­æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Mapping</span>(<span class="hljs-type">Generic</span>[KT, VT]):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getitem__</span>(<span class="hljs-params">self, key: KT</span>) -&gt; VT:<br>        ...<br>        <span class="hljs-comment"># Etc.</span><br><br>X = TypeVar(<span class="hljs-string">&#x27;X&#x27;</span>)<br>Y = TypeVar(<span class="hljs-string">&#x27;Y&#x27;</span>)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">lookup_name</span>(<span class="hljs-params">mapping: Mapping[X, Y], key: X, default: Y</span>) -&gt; Y:<br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-keyword">return</span> mapping[key]<br>    <span class="hljs-keyword">except</span> KeyError:<br>        <span class="hljs-keyword">return</span> default<br></code></pre></td></tr></table></figure><p>è¿™é‡Œè¿˜ç»™å‡ºäº†å¦ä¸€ç¯‡<a href="https://zhuanlan.zhihu.com/p/486772116">æ–‡ç« </a>ä¸­çš„ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> TypeVar, <span class="hljs-type">Union</span>, <span class="hljs-type">Generic</span>, <span class="hljs-type">List</span><br><br><span class="hljs-comment"># é€šè¿‡TypeVaré™å®šä¸ºæ•´æ•°å‹çš„åˆ—è¡¨å’Œæµ®ç‚¹æ•°çš„åˆ—è¡¨</span><br>T = TypeVar(<span class="hljs-string">&quot;T&quot;</span>, bound=<span class="hljs-type">Union</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">float</span>])<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyList</span>(<span class="hljs-type">Generic</span>[T]):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, size: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        self.size = size<br>        self.<span class="hljs-built_in">list</span>: <span class="hljs-type">List</span>[T] = []<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">append</span>(<span class="hljs-params">self, e: T</span>):<br>        self.<span class="hljs-built_in">list</span>.append(e)<br>        <span class="hljs-built_in">print</span>(self.<span class="hljs-built_in">list</span>)<br><br><span class="hljs-comment"># é€‚ç”¨äºæ•´æ•°å‹</span><br>intList = MyList[<span class="hljs-built_in">int</span>](<span class="hljs-number">3</span>)    <span class="hljs-comment"># é€šè¿‡[int]è¿›è¡Œç±»å‹æç¤ºï¼</span><br>intList.append(<span class="hljs-number">101</span>)<br><br><span class="hljs-comment"># ä¹Ÿé€‚ç”¨äºæµ®ç‚¹æ•°</span><br>floatList = MyList[<span class="hljs-built_in">float</span>](<span class="hljs-number">3</span>)<br>floatList.append(<span class="hljs-number">1.1</span>)<br><br><span class="hljs-comment"># ä½†ä¸é€‚ç”¨äºå­—ç¬¦ä¸²ï¼Œä»¥ä¸‹ä»£ç é€šè¿‡mypyæ£€æŸ¥ä¼šæŠ¥é”™ï¼</span><br>strList = MyList[<span class="hljs-built_in">str</span>](<span class="hljs-number">3</span>)<br>strList.append(<span class="hljs-string">&quot;test&quot;</span>)<br></code></pre></td></tr></table></figure><p>æˆ–è®¸å¯ä»¥ç†è§£ä¸ºï¼Œå¦‚æœä½ å®šä¹‰çš„ä¸€ä¸ªç±»ä¸­ä½¿ç”¨äº†æŸç§ç±»å‹å˜é‡ï¼Œé‚£ä¹ˆä½ å¯ä»¥é€šè¿‡<code>Generic</code>æ¥å¯¹ä½ çš„ç±»å£°æ˜ã€‚ï¼ˆå¦‚æœä½ åˆ›å»ºçš„ç±»ä¸­æƒ³è¦ä½¿ç”¨æŸç§ç±»å‹å˜é‡ï¼Œå¦‚Tï¼Œé‚£ä¹ˆä½ å°±é€šè¿‡ç»§æ‰¿<code>Generic[T]</code>ç±»æ¥ä½¿ç”¨ã€‚ï¼‰</p><h2 id="Protocol">Protocol</h2><p>å®˜æ–¹æ–‡æ¡£æ˜¯è¿™ä¹ˆæè¿°çš„ï¼šåè®®ç±»çš„åŸºç±»ã€‚å‘ƒï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä»€ä¹ˆæ˜¯åè®®ç±»å•Šã€‚ã€‚ã€‚æ‰€ä»¥æˆ‘ç›´æ¥ä½¿ç”¨æœç´¢å¼•æ“ï¼Œæ‰¾åˆ°äº†ç‚¹é›¶é›¶æ•£æ•£çš„ä¸œè¥¿ã€‚<br>åœ¨Pythonä¸­ï¼Œåè®®å°±æ˜¯ä¸€ä¸ªæˆ–ä¸€ç»„æ–¹æ³•ï¼ˆæ¥å£ï¼‰ï¼Œé‚£åè®®ç±»å¾ˆæ˜æ˜¾å°±æ˜¯åŒ…å«åè®®çš„ç±»ï¼Œå°±æ˜¯åœ¨è¿™ä¸ªç±»é‡Œè¾¹æ”¾ä¸€äº›ä¸å®ç°çš„æ–¹æ³•ï¼Œæ˜¯ä¸æ˜¯åƒé‚£å•¥ï¼ŒæŠ½è±¡åŸºç±»å•Šï¼Ÿ<br>æ¯”å¦‚ä¸‹é¢çš„ä»£ç ï¼Œ<code>__eq__</code>å’Œ<code>__lt__</code>ä¸å°±passäº†å—ï¼Œè¿™ä¿©å°±èƒ½çœ‹æˆåè®®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># ... è¡¨ç¤ºå‡½æ•°æ²¡æœ‰å®ç°ä»»ä½•ä»£ç ï¼Œè·Ÿ pass çš„ä½œç”¨ç±»ä¼¼</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Comparable</span>(<span class="hljs-title class_ inherited__">Protocol</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__eq__</span>(<span class="hljs-params">self, other: <span class="hljs-type">Any</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        ...<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__lt__</span>(<span class="hljs-params">self: C, other: C</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        ...<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__gt__</span>(<span class="hljs-params">self: C, other: C</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">not</span> self &lt; other) <span class="hljs-keyword">and</span> self != other<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__le__</span>(<span class="hljs-params">self: C, other: C</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">return</span> self &lt; other <span class="hljs-keyword">or</span> self == other<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__ge__</span>(<span class="hljs-params">self: C, other: C</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">not</span> self &lt; other<br></code></pre></td></tr></table></figure><p>ç„¶åå®˜æ–¹æ–‡æ¡£æ¥ç€è¯´äº†ï¼šè¿™äº›ç±»ä¸»è¦ä¸é™æ€ç±»å‹æ£€æŸ¥å™¨æ­é…ä½¿ç”¨ï¼Œç”¨æ¥è¯†åˆ«ç»“æ„å­ç±»å‹ï¼ˆé™æ€é¸­å­ç±»å‹ï¼‰ã€‚å•Šï¼Œå¥½çš„ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“å•¥æ˜¯é¸­å­ç±»å‹ï¼Œæ‰€ä»¥æˆ‘åˆå»æ‰¾æœç´¢å¼•æ“å¸®å¿™äº†ï¼Œç„¶åæˆ‘æ‰¾åˆ°è¿™ä¹ˆä¸€ç¯‡æ–‡ç« ï¼š<a href="https://cloud.tencent.com/developer/article/1484390#3.2">ä½ çŸ¥é“ä»€ä¹ˆæ˜¯Pythoné‡Œçš„é¸­å­ç±»å‹å’ŒçŒ´å­è¡¥ä¸å—ï¼Ÿ</a><br>æ–‡ç« é‡Œæ˜¯è¿™ä¹ˆè¯´çš„ï¼š</p><blockquote><p>é¸­å­ç±»å‹æ˜¯å¯¹Pythonä¸­æ•°æ®ç±»å‹æœ¬è´¨ä¸Šæ˜¯ç”±å±æ€§å’Œè¡Œä¸ºæ¥å®šä¹‰çš„ä¸€ç§è§£è¯»ã€‚<br>Pythonæ˜¯ä¸€ç§åŠ¨æ€è¯­è¨€ï¼Œä¸åƒJavaå’ŒC++è¿™ç§å¼ºç±»å‹è¯­è¨€ï¼ŒPythoné‡Œå®é™…ä¸Šæ²¡æœ‰ä¸¥æ ¼çš„ç±»å‹æ£€æŸ¥ã€‚<br>åªè¦æŸä¸ªå¯¹è±¡å…·æœ‰é¸­å­çš„æ–¹æ³•ï¼Œå¯ä»¥åƒé¸­å­é‚£æ ·èµ°è·¯å’Œå˜å˜å«ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥è¢«å…¶å®ƒå‡½æ•°å½“åšé¸­å­ä¸€æ ·è°ƒç”¨ã€‚<br>å•¥æ„æ€å‘¢ï¼Œä¸¾ä¸ªæ —å­ï¼š<br>å‡è®¾æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ª<code>Duck</code>ç±»ï¼Œä¸€ä¸ª<code>Goose</code>ç±»ï¼Œä¸¤ä¸ªç±»éƒ½å®ç°äº†åŒæ ·çš„æ–¹æ³•<code>bark()</code><br>ç„¶åæˆ‘ä»¬è‡ªå®šä¹‰äº†ä¸€ä¸ªå‡½æ•°<code>test</code>ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ª<code>Duck</code>å¯¹è±¡ï¼Œå¹¶è°ƒç”¨è¯¥å¯¹è±¡çš„<code>bark()</code>æ–¹æ³•ã€‚åœ¨å…¶å®ƒè¯­è¨€ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šä¼ å…¥å½¢å‚<code>duck</code>çš„ç±»å‹ï¼Œå¾—è¿™ä¹ˆå†™<code>test(Duck duck)</code>ï¼Œä½†æ˜¯åœ¨Pythonä¸­ä¸éœ€è¦ï¼Œç›´æ¥è¿™ä¹ˆå†™ï¼š<code>test(duck)</code><br>ä½†ç”±äºPythonæ˜¯åŠ¨æ€è¯­è¨€ï¼Œæ²¡æœ‰ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼Œè¿™å°±å¯¼è‡´ä½ æŠŠä¸€ä¸ª<code>Goose</code>ç±»çš„å¯¹è±¡å¡è¿›å»ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œå› ä¸º<code>Goose</code>ç±»ä¹Ÿå®ç°äº†<code>bark()</code>æ–¹æ³•ã€‚<br>å¸è½½å†æ¥çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„ä¾‹å­ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Proto</span>(<span class="hljs-title class_ inherited__">Protocol</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">meth</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ...<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">meth</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">func</span>(<span class="hljs-params">x: Proto</span>) -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-keyword">return</span> x.meth()<br><br>func(C())  <span class="hljs-comment"># Passes static type check</span><br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„<code>Proto</code>ç±»å³æ˜¯åè®®ç±»ï¼Œé‡Œé¢åªæœ‰ä¸€ä¸ªåè®®ï¼ˆæ–¹æ³•ï¼‰<code>meth()</code>ï¼Œè€Œå¦ä¸€ä¸ªåˆ™æ˜¯<code>C</code>ï¼Œå®ƒå®ç°äº†åè®®<code>meth()</code>ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥çœ‹ä½œæ˜¯é¸­å­ç±»å‹ã€‚<br>è¿™é‡Œçš„<code>func()</code>å‡½æ•°ç”¨äº†ç±»å‹æ£€æŸ¥ï¼Œè™½ç„¶æŒ‡å®šäº†å‚æ•°<code>x</code>çš„ç±»å‹æ˜¯<code>Proto</code>ï¼Œä½†æ˜¯ç”±äº<code>Proto</code>ç»§æ‰¿äº†<code>Protocol</code>ï¼Œæ‰€ä»¥ä¼ å…¥é¸­å­ç±»å‹<code>C</code>çš„æ—¶å€™ï¼Œè·³è¿‡äº†é™æ€ç±»å‹æ£€æŸ¥ã€‚</p><div class="note note-info">            <p>Protocol ç±»å¯ä»¥æ˜¯æ³›å‹ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GenProto</span>(Protocol[T]):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">meth</span>(<span class="hljs-params">self</span>) -&gt; T:<br>        ...<br></code></pre></td></tr></table></figure>          </div><h2 id="Callable">Callable</h2><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ–æ³¢é‚£å¥‘æ•°åˆ—</title>
    <link href="/2022/09/14/fibonacci_1/"/>
    <url>/2022/09/14/fibonacci_1/</url>
    
    <content type="html"><![CDATA[<h1>ä»€ä¹ˆæ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼Ÿ</h1><p>ç›¸ä¿¡å¯¹äºå„ä½ç¨‹åºå‘˜æ¥è¯´ï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—æ˜¯ä¸ªæ— æ¯”ç†Ÿæ‚‰çš„ä¸œè¥¿äº†ï¼ˆé€’ å½’ å¯ è’™ï¼‰ï¼Œä¸éœ€è¦ä»€ä¹ˆå¤šä½™çš„ä»‹ç»ã€‚ä¸è¿‡å‡ºäºè®©æ–‡ç« å˜å¾—æ›´å‹å¥½äº›ï¼Œè¿˜æ˜¯ç®€å•æä¸€ä¸‹å§ã€‚<br>å…¶å®åœ¨æ•°å­¦ä¸Šï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—å°±æ˜¯ä»¥é€’å½’çš„å½¢å¼å®šä¹‰çš„ï¼š</p><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>F</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn><mspace linebreak="newline"></mspace><msub><mi>F</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn><mspace linebreak="newline"></mspace><msub><mi>F</mi><mi>n</mi></msub><mo>=</mo><msub><mi>F</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>F</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>2</mn></mrow></msub><mtext>ï¼ˆ</mtext><mi>n</mi><mo>â‰¥</mo><mn>2</mn><mtext>ï¼‰</mtext></mrow><annotation encoding="application/x-tex">F_0=0 \\F_1=1 \\F_n=F_{n-1}+F_{n-2}ï¼ˆn \ge 2ï¼‰</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">2</span><span class="mord cjk_fallback">ï¼‰</span></span></span></span></span></p><p>ç”¨æ–‡å­—æ¥è¯´ï¼Œå°±æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ç”±0å’Œ1å¼€å§‹ï¼Œä¹‹åçš„æ–æ³¢é‚£å¥‘æ•°å°±æ˜¯ç”±ä¹‹å‰çš„ä¸¤æ•°ç›¸åŠ è€Œå¾—å‡ºã€‚</p><h1>æœ€å…ˆæƒ³åˆ°çš„å®ç°ï¼</h1><p>å…¶å®çœ‹å®Œä¸Šé¢çš„ä¸‰ä¸ªå…¬å¼ï¼Œå¾ˆå¿«å°±èƒ½æŠŠå¯¹åº”çš„æ±‚æ–æ³¢é‚£å¥‘æ•°çš„å‡½æ•°å†™å‡ºæ¥äº†ã€‚æœ€ç»å…¸ï¼ˆåº”è¯¥å§ï¼‰çš„å†™æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fib0</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br><span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">2</span>:<br><span class="hljs-keyword">return</span> n<br><span class="hljs-keyword">return</span> fib0(n - <span class="hljs-number">1</span>) + fib0(n - <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p>è™½ç„¶è¿™ç§å†™æ³•æ˜¯æ ¹æ®æ•°å­¦å…¬å¼ç›´æ¥è½¬æ¢è¿‡æ¥çš„ï¼Œååˆ†ç®€å•æš´åŠ›ï¼Œä½†æ˜¯å®ƒçš„è¿ç®—æ—¶é—´æ˜¯éšnè€ŒæŒ‡æ•°ä¸Šå‡çš„ï¼</p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs dns"><span class="hljs-number">55</span><br>è®¡ç®—ç¬¬<span class="hljs-number">10</span>ä¸ªæ–æ³¢é‚£å¥‘æ•°æ‰€éœ€æ—¶é—´ï¼š<span class="hljs-number">0</span>.<span class="hljs-number">3194000000000009m</span>s<br><span class="hljs-number">6765</span><br>è®¡ç®—ç¬¬<span class="hljs-number">20</span>ä¸ªæ–æ³¢é‚£å¥‘æ•°æ‰€éœ€æ—¶é—´ï¼š<span class="hljs-number">1</span>.<span class="hljs-number">1687000000000016m</span>s<br><span class="hljs-number">832040</span><br>è®¡ç®—ç¬¬<span class="hljs-number">30</span>ä¸ªæ–æ³¢é‚£å¥‘æ•°æ‰€éœ€æ—¶é—´ï¼š<span class="hljs-number">108</span>.<span class="hljs-number">93619999999999m</span>s<br><span class="hljs-number">102334155</span><br>è®¡ç®—ç¬¬<span class="hljs-number">40</span>ä¸ªæ–æ³¢é‚£å¥‘æ•°æ‰€éœ€æ—¶é—´ï¼š<span class="hljs-number">12987</span>.<span class="hljs-number">193299999999m</span>s<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œä»30åˆ°40ï¼Œè®¡ç®—æ—¶é—´ç›´æ¥ç¿»äº†100å€ï¼æ›´ä¸è¦è¯´è¿è¡Œ<code>fib0(50)</code>äº†ï¼Œå¯èƒ½æ ¹æœ¬ç­‰ä¸åˆ°è¿è¡Œç»“æœã€‚ã€‚ã€‚</p><h1>æƒ³åŠæ³•è¿›è¡Œä¼˜åŒ–</h1><p>é‚£å¦‚æœæˆ‘ä»¬æœ‰é¢å¤–éœ€æ±‚è¦æ±‚å¦‚æ­¤ä¹‹â€œå¤§â€çš„æ–æ³¢é‚£å¥‘æ•°ï¼Œè¦æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™é‡Œç»™å‡ºä¸¤ç§åŠæ³•ï¼šåˆ©ç”¨ç»“æœç¼“å­˜ã€å°†é€’å½’æ”¹ä¸ºè¿­ä»£ã€‚</p><h2 id="ç®€ç›´ä¸è¦å¤ªå¥½ç”¨çš„ç»“æœç¼“å­˜">ç®€ç›´ä¸è¦å¤ªå¥½ç”¨çš„ç»“æœç¼“å­˜</h2><p>ç»“æœç¼“å­˜æ˜¯ä¸€ç§ç¼“å­˜æŠ€æœ¯ï¼Œå³åœ¨æ¯æ¬¡è®¡ç®—ä»»åŠ¡å®Œæˆåå°±æŠŠç»“æœä¿å­˜èµ·æ¥ï¼Œè¿™æ ·åœ¨ä¸‹æ¬¡éœ€è¦æ—¶å³å¯ç›´æ¥æ£€ç´¢å‡ºç»“æœï¼Œé¿å…äº†é‡å¤è®¡ç®—ã€‚</p><h3 id="ä½¿ç”¨å­—å…¸è¿›è¡Œç»“æœç¼“å­˜">ä½¿ç”¨å­—å…¸è¿›è¡Œç»“æœç¼“å­˜</h3><p>æˆ‘ä»¬å¯ä»¥å°†æ¯æ¬¡è®¡ç®—å¾—åˆ°çš„æ–æ³¢é‚£å¥‘æ•°å­˜å…¥å­—å…¸ä¸­ï¼Œéœ€è¦çš„æ—¶å€™å†æŠŠå®ƒå–å‡ºæ¥ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…é‡å¤è¿ç®—ï¼Œæé«˜è¿è¡Œæ•ˆç‡äº†ã€‚<br>ä¸‹é¢ç»™å‡ºäº†åœ¨Pythonä¸­åˆ©ç”¨<code>Dict</code>å®ç°ç»“æœç¼“å­˜å’Œåœ¨Javaä¸­ä½¿ç”¨<code>Map</code>å®ç°ç»“æœç¼“å­˜çš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Dict</span><br><br>memo: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>] = &#123;<span class="hljs-number">0</span>: <span class="hljs-number">0</span>, <span class="hljs-number">1</span>: <span class="hljs-number">1</span>&#125;<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">fib1</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-keyword">if</span> n <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> memo:<br>        memo[n] = fib1(n - <span class="hljs-number">1</span>) + fib1(n - <span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">return</span> memo[n]<br><br><span class="hljs-comment"># output</span><br><span class="hljs-number">354224848179261915075</span><br>è®¡ç®—ç¬¬<span class="hljs-number">100</span>ä¸ªæ–æ³¢é‚£å¥‘æ•°æ‰€éœ€æ—¶é—´ï¼š<span class="hljs-number">0.3382000000000003</span>ms<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CalculateFib</span> &#123;<br>    <span class="hljs-keyword">static</span> Map&lt;Integer, Integer&gt; m = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;Integer, Integer&gt;();<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fib</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span> &#123;<br>        <span class="hljs-keyword">if</span> (m.get(n) == <span class="hljs-literal">null</span>) &#123;<br>            m.put(n, fib(n - <span class="hljs-number">1</span>) + fib(n - <span class="hljs-number">2</span>));<br>        &#125;<br>        <span class="hljs-keyword">return</span> m.get(n);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        m.put(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>        m.put(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        System.out.println(CalculateFib.fib(<span class="hljs-number">20</span>));<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// output</span><br><span class="hljs-number">102334155</span><br>Spend time:<span class="hljs-number">134100.</span>0ns<br></code></pre></td></tr></table></figure><p>æ¯”è¾ƒä¸€ä¸‹ç°åœ¨çš„æ•ˆç‡å’Œä¹‹å‰çš„æ•ˆç‡ï¼Œæ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯æœ‰äº†é£ä¸€èˆ¬çš„æå‡ï¼Ÿä¸è¿‡ï¼Œä½¿ç”¨å­—å…¸å¹¶ä¸æ˜¯Pythonæœ€æ–¹ä¾¿çš„ç»“æœç¼“å­˜æ–¹æ³•ï¼Œå› ä¸ºåœ¨Pythoné‡Œæœ‰ä¸€ä¸ªå†…ç½®çš„è£…é¥°å™¨ï¼Œå¯ä»¥è‡ªåŠ¨ä¸ºä»»ä½•å‡½æ•°ç¼“å­˜ç»“æœã€‚</p><h3 id="è‡ªåŠ¨åŒ–çš„ç»“æœç¼“å­˜">è‡ªåŠ¨åŒ–çš„ç»“æœç¼“å­˜</h3><p><code>@functools.lru_cache(maxsize=128, typed=False)</code>æ˜¯ä¸€ä¸ªä¸ºå‡½æ•°æä¾›ç¼“å­˜åŠŸèƒ½çš„è£…é¥°å™¨ï¼Œç¼“å­˜ maxsize ç»„ä¼ å…¥å‚æ•°ï¼Œåœ¨ä¸‹æ¬¡ä»¥ç›¸åŒå‚æ•°è°ƒç”¨æ—¶ç›´æ¥è¿”å›ä¸Šä¸€æ¬¡çš„ç»“æœã€‚<br>å¦‚æœ maxsize è®¾ä¸º Noneï¼ŒLRU ç‰¹æ€§å°†è¢«ç¦ç”¨ä¸”ç¼“å­˜å¯æ— é™å¢é•¿ã€‚<br>å¦‚æœ typed è¢«è®¾ç½®ä¸º true ï¼Œä¸åŒç±»å‹çš„å‡½æ•°å‚æ•°å°†è¢«åˆ†åˆ«ç¼“å­˜ã€‚ å¦‚æœ typed ä¸º false ï¼Œå®ç°é€šå¸¸ä¼šå°†å®ƒä»¬è§†ä¸ºç­‰ä»·çš„è°ƒç”¨ï¼Œåªç¼“å­˜ä¸€ä¸ªç»“æœã€‚(æœ‰äº›ç±»å‹ï¼Œå¦‚ str å’Œ int ï¼Œå³ä½¿ typed ä¸º false ï¼Œä¹Ÿå¯èƒ½è¢«åˆ†å¼€ç¼“å­˜ï¼‰ã€‚<br>æˆ‘ä»¬åªéœ€è¦åœ¨æœ€å¼€å§‹å®ç°çš„<code>fib0()</code>å‡½æ•°ä¸ŠåŠ ä¸Šè£…é¥°å™¨å³å¯ï¼Œéå¸¸ç®€å•å‹å¥½ï¼Œä¸æ˜¯å—ï¼Ÿ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> lru_cache<br><span class="hljs-meta">@lru_cache(<span class="hljs-params">maxsize=<span class="hljs-literal">None</span></span>)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">fib0</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br><span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">2</span>:<br><span class="hljs-keyword">return</span> n<br><span class="hljs-keyword">return</span> fib0(n - <span class="hljs-number">1</span>) + fib0(n - <span class="hljs-number">2</span>)<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯å…¶å®ï¼Œå°±ç®—åˆ©ç”¨ç»“æœç¼“å­˜ï¼Œå› ä¸ºè¿˜æ˜¯åˆ©ç”¨é€’å½’çš„åŸå› ï¼Œå›æº¯å­˜åœ¨ä¸Šé™ï¼Œè¿˜æ˜¯æ— æ³•è®¡ç®—ä¸€äº›å¤§æ•°ï¼Œæ¯”å¦‚<code>fib(1000)</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python">Traceback (most recent call last):<br>RecursionError: maximum recursion depth exceeded<br></code></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±æ”¹ç”¨<strong>è¿­ä»£æ³•</strong>æ¥æ±‚æ–æ³¢é‚£å¥‘æ•°äº†ã€‚</p><h2 id="è¿­ä»£æ³•">è¿­ä»£æ³•</h2><p>é€’å½’è§£å†³æ–¹æ¡ˆæ˜¯åå‘æ±‚è§£ï¼Œè€Œè¿­ä»£åˆ™æ˜¯æ­£å‘æ±‚è§£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¸å†æ˜¯ä»nå¾€å‰æ±‚è§£ï¼Œè€Œæ˜¯ä»0å¼€å§‹æ¨å¯¼å‡ºnã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fib2</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> n<br>    last: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br>    <span class="hljs-built_in">next</span>: <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<br>        last, <span class="hljs-built_in">next</span> = <span class="hljs-built_in">next</span>, last + <span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">next</span><br><br><span class="hljs-comment"># output</span><br><span class="hljs-number">139423224561697880139724382870407283950070256587697307264108962948325571622863290691557658876222521294125</span><br>è®¡ç®—ç¬¬<span class="hljs-number">500</span>ä¸ªæ–æ³¢é‚£å¥‘æ•°æ‰€éœ€æ—¶é—´ï¼š<span class="hljs-number">0.30870000000000203</span>ms<br></code></pre></td></tr></table></figure><p>å› ä¸ºåˆ©ç”¨äº†è¿­ä»£æ³•çš„åŸå› ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šå°†è¿™ä¸ªå‡½æ•°å†™æˆç”Ÿæˆå™¨ï¼Œè¿™æ ·å°±å¯ä»¥è¾“å‡ºåˆ°nçš„æ¯ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> Generator<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">fib3</span>(<span class="hljs-params">n: <span class="hljs-built_in">int</span></span>) -&gt; Generator[<span class="hljs-built_in">int</span>, <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span>]:<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">if</span> n &gt; <span class="hljs-number">0</span>: <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span><br>    last: <span class="hljs-built_in">int</span> = <span class="hljs-number">0</span><br>    <span class="hljs-built_in">next</span>: <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n):<br>        last, <span class="hljs-built_in">next</span> = <span class="hljs-built_in">next</span>, last + <span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">next</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> fib3(<span class="hljs-number">50</span>):<br><span class="hljs-built_in">print</span>(i)<br></code></pre></td></tr></table></figure><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Algorithm</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Java</tag>
      
      <tag>Algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå­¦ä¹ ç¬”è®°â€”â€”å¾ªç¯ä¸è¿­ä»£</title>
    <link href="/2022/07/19/python-learning-5/"/>
    <url>/2022/07/19/python-learning-5/</url>
    
    <content type="html"><![CDATA[<h1>å‰è¨€</h1><p>ç”±äºæˆ‘å®åœ¨æƒ³ä¸å‡ºå†™ä»€ä¹ˆå‰è¨€å¥½ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘é€‰æ‹©ç›´æˆªäº†å½“åœ°æ¦‚æ‹¬å†…å®¹ï¼(<br>åœ¨æœ¬ç¯‡ä¸­ï¼Œä½ å¯ä»¥å­¦åˆ°ï¼šæ€ä¹ˆ<s>æ¼‚äº®åœ°</s>å†™Pythonä¸­çš„å¾ªç¯ï¼Œ<s>è½»æ¾åœ°</s>è®¤è¯†Pythonä¸­çš„è¿­ä»£å™¨å’Œç”Ÿæˆå™¨ã€‚</p><h1>æ­£æ–‡</h1><h2 id="Pythonä¸­çš„å¾ªç¯">Pythonä¸­çš„å¾ªç¯</h2><h3 id="è®¤è¯†Pythonä¸­çš„å¾ªç¯">è®¤è¯†Pythonä¸­çš„å¾ªç¯</h3><p>å¦‚æœæ˜¯åˆšæ¥è§¦Pythonï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¯¹Pythonä¸­å¾ªç¯çš„å†™æ³•æ„Ÿåˆ°å¥‡æ€ªï¼Œå› ä¸ºPythonä¸­çš„å¾ªç¯å¹¶ä¸åƒå…¶ä»–è¯­è¨€é‚£æ ·å†™ã€‚å…ˆæ¥æ¯”è¾ƒä¸€ä¸‹æˆ‘ä»¬ç†Ÿæ‚‰çš„å¾ªç¯å’ŒPythonçš„å¾ªç¯ã€‚<br>å°±ä»¥Javaè¯­è¨€ä¸ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Java"># Javaè¯­è¨€ä¸¾ä¾‹å¾ªç¯<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> a; i &lt; n; i += s)&#123;<br><span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åå†æ¥çœ‹çœ‹Pythonçš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Pythonè¯­è¨€çš„å¾ªç¯ï¼Œaä¸ºèµ·å§‹å€¼ï¼Œnä¸ºç»ˆæ­¢å€¼ï¼Œsä¸ºæ­¥é•¿ã€‚</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(a, n, s)<br></code></pre></td></tr></table></figure><p>å…¶ä»–è¯­è¨€è½¬æ¢æˆPythonä¸­çš„å¾ªç¯ï¼Œå°±æ˜¯ç”¨<code>range()</code>å‡½æ•°ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå¯é€‰å‚æ•°ï¼Œåœ¨ä¸Šè¾¹ç¨‹åºæ®µä¸­ä¹Ÿè¯´æ˜äº†ä¸‰ä¸ªå‚æ•°ä»£è¡¨ä»€ä¹ˆã€‚<br>å“¦ï¼Œå½“ç„¶ï¼Œè­¬å¦‚Javaå’ŒC#è¿™æ ·çš„è¯­è¨€ä¹Ÿæä¾›foreachå¾ªç¯ï¼Œå¯ä»¥è¯´Pythonä¸­çš„åŸºæœ¬å¾ªç¯å°±æ˜¯æ¯”è¾ƒæ¥è¿‘äºforeachå¾ªç¯çš„ï¼Œç›´æ¥åœ¨å®¹å™¨æˆ–åºåˆ—ä¸­è¿­ä»£å…ƒç´ ï¼Œæ— éœ€é€šè¿‡ç´¢å¼•æŸ¥æ‰¾ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python">items = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>]<br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:<br><span class="hljs-built_in">print</span>(item)<br><br><span class="hljs-comment"># è¾“å‡ºå¦‚ä¸‹ï¼š</span><br>a<br>b<br>c<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥å¦‚æœæ˜¯åˆšåˆšæ¥è§¦Pythonå¯èƒ½è¿˜éœ€è¦ä¸€æ®µæ—¶é—´æ¥é€‚åº”å¾ªç¯çš„å†™æ³•ï¼Œç†Ÿæ‚‰åä¾¿ä¼šè§‰å¾—â€œè¯¶ï¼Œè¿™æ ·å†™å¾ªç¯è¿˜æŒºä¸é”™æŒºæ–¹ä¾¿çš„å“¦ï¼â€<br>å½“ç„¶è¿™é‡Œè¦æçš„ä¸ä»…ä»…æ˜¯è¿™ç‚¹ä¸œè¥¿ï¼Œæˆ‘è¿˜ä¼šä»‹ç»ä¸€ä¸‹<code>range()</code>å‡½æ•°ã€è§£æå¼ã€ä»¥åŠä¸€äº›å¾ªç¯å†™æ³•ã€‚</p><div class="note note-warning">            <p><strong>åœ¨Pythonå¾ªç¯ä¸­éœ€è¦æ³¨æ„çš„å‡ ç‚¹ï¼</strong><br>1ã€ å¾ªç¯ä¸­ä¸å†è·Ÿè¸ªå®¹å™¨çš„å¤§å°ï¼Œä¹Ÿä¸ä½¿ç”¨è¿è¡Œæ—¶ç´¢å¼•æ¥è®¿é—®å…ƒç´ ã€‚<br>2ã€ å®¹å™¨æœ¬èº«ç°åœ¨è´Ÿè´£åˆ†å‘å°†è¦å¤„ç†çš„å…ƒç´ ã€‚å¦‚æœå®¹å™¨æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆæ‰€å¾—åˆ°çš„å…ƒç´ åºåˆ—ä¹Ÿæ˜¯æœ‰åºçš„ã€‚å¦‚æœå®¹å™¨æ˜¯æ— åºçš„ï¼Œé‚£ä¹ˆå°†ä»¥éšæœºé¡ºåºè¿”å›å…¶å…ƒç´ ï¼Œä½†å¾ªç¯ä»ç„¶ä¼šéå†æ‰€æœ‰å…ƒç´ ã€‚</p>          </div><h3 id="Pythonä¸­çš„å¾ªç¯çš„ä¸€äº›ç¥å¿…å†™æ³•">Pythonä¸­çš„å¾ªç¯çš„ä¸€äº›ç¥å¿…å†™æ³•</h3><p><s>å¥½å§å…¶å®å¹¶ä¸ç¥å¿…åªæ˜¯æƒ³å–ä¸ªæœ‰æ„æ€çš„æ ‡é¢˜</s><br>æˆ‘ä»¬çŸ¥é“ï¼ŒPythonçš„å¾ªç¯å¯ä»¥å–ç´¢å¼•ï¼Œæˆ–è€…ç›´æ¥å–å®¹å™¨ä¸­çš„å…ƒç´ ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™æˆ‘ä»¬æ—¢éœ€è¦ç´¢å¼•ï¼Œä¹Ÿéœ€è¦å…ƒç´ ï¼Œèƒ½ä¸èƒ½åšåˆ°å‘¢ï¼Ÿå…¶å®æ˜¯å¯ä»¥çš„ï¼Œåˆ©ç”¨å†…ç½®çš„<code>enumerate()</code>å³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> i, item <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(items):<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;i&#125;</span>: <span class="hljs-subst">&#123;item&#125;</span>&#x27;</span>)<br><br><span class="hljs-number">0</span>: a<br><span class="hljs-number">1</span>: b<br><span class="hljs-number">2</span>: c<br></code></pre></td></tr></table></figure><blockquote><p>Pythonä¸­çš„è¿­ä»£å™¨å¯ä»¥è¿ç»­è¿”å›å¤šä¸ªå€¼ã€‚è¿­ä»£å™¨å¯ä»¥è¿”å›å«æœ‰ä»»æ„ä¸ªå…ƒç´ çš„å…ƒç»„ï¼Œç„¶ååœ¨forè¯­å¥å†…è§£åŒ…ã€‚</p></blockquote><h3 id="Pythonä¸­çš„è§£æå¼">Pythonä¸­çš„è§£æå¼</h3><p>åˆ—è¡¨è§£æå¼æ˜¯Pythonçš„ä¸€ä¸ªç‰¹æ€§ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§è¯­æ³•ç³–<s>ï¼ˆæˆ–è€…æ˜¯ç¥å¿…å†™æ³•ï¼‰</s>ã€‚å®ƒå¯ä»¥ç®€åŒ–ï¼ˆå‰ææ˜¯èƒ½å¤Ÿç†è§£ï¼‰å¹¶ä½¿å¾ªç¯æ›´åŠ ç´§å‡‘ï¼Œä¸¾ä¸ªæ —å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># å¦‚æœè¦å†™ä¸€ä¸ªå¹³æ–¹åˆ—è¡¨ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¿™ä¹ˆåšï¼š</span><br>squares = []<br>    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>        squares.append(x * x)<br><br><span class="hljs-comment"># å¦‚æœä½¿ç”¨åˆ—è¡¨è§£æå¼ï¼Œå°±ä¼šå˜å¾—ååˆ†ç®€æ´ç´§å‡‘ï¼š</span><br>    squares = [x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)]<br></code></pre></td></tr></table></figure><p>ä¸Šè¾¹å¯ä»¥è¯´æ˜¯æœ€åŸºæœ¬çš„åˆ—è¡¨è§£æå¼æ„å»ºåˆ—è¡¨äº†ï¼Œåˆ—è¡¨è§£æå¼èƒ½åšåˆ°çš„è¿˜ä¸æ­¢è¿™æ ·ï¼Œå®ƒè¿˜èƒ½ä½¿ç”¨æ¡ä»¶æ¥è¿‡æ»¤å…ƒç´ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">even_squares = [x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç æ®µä¸­ï¼Œæ„å»ºäº†ä¸€ä¸ªä»0åˆ°9æ‰€æœ‰å¶æ•°æ•´æ•°çš„å¹³æ–¹ç»„æˆçš„åˆ—è¡¨ã€‚<br>å½’çº³ä¸€ä¸‹ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹åˆ—è¡¨è§£æå¼æ¨¡æ¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># ä¸€èˆ¬å¾ªç¯ï¼š</span><br>values = []<br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> collection:<br><span class="hljs-keyword">if</span> condition:<br>values.append(expression)<br><br><span class="hljs-comment"># ä½¿ç”¨åˆ—è¡¨è§£æå¼çš„å¾ªç¯ï¼š</span><br>values = [expression <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> collection <span class="hljs-keyword">if</span> condition]<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯åˆ—è¡¨è§£æå¼çš„æ‰€æœ‰å†…å®¹å•¦ï¼Œä¸è¿‡æ—¢ç„¶æœ‰åˆ—è¡¨è§£æå¼ï¼Œé‚£Pythonä¸­æ˜¯å¦è¿˜æœ‰<strong>å­—å…¸è§£æå¼</strong>å‘¢ï¼Ÿ<br>ä½ å¥½ï¼Œæœ‰çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>&#123; x: x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)&#125;<br>&#123;<span class="hljs-number">0</span>: <span class="hljs-number">0</span>, <span class="hljs-number">1</span>: <span class="hljs-number">1</span>, <span class="hljs-number">2</span>: <span class="hljs-number">4</span>, <span class="hljs-number">3</span>: <span class="hljs-number">9</span>, <span class="hljs-number">4</span>: <span class="hljs-number">16</span>&#125;<br></code></pre></td></tr></table></figure><p>ä¸ä»…æ˜¯å­—å…¸è§£æå¼ï¼Œè¿˜æœ‰<strong>é›†åˆè§£æå¼</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>&#123; x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(-<span class="hljs-number">9</span>, <span class="hljs-number">10</span>) &#125;<br>&#123;<span class="hljs-number">64</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">36</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">16</span>, <span class="hljs-number">81</span>, <span class="hljs-number">49</span>, <span class="hljs-number">25</span>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>é›†åˆæ˜¯æ— éœ€ç±»å‹ï¼Œæ‰€ä»¥åœ¨å°†å…ƒç´ åŠ åˆ°setå®¹å™¨æ—¶é¡ºåºæ˜¯éšæœºçš„ã€‚</p></blockquote><div class="note note-info">            <p>â€œä¸è¿‡Pythonè§£æå¼ä¸­æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼šåœ¨ç†Ÿæ‚‰äº†è§£æå¼ä¹‹åï¼Œå¾ˆå®¹æ˜“å°±ä¼šç¼–å†™å‡ºéš¾ä»¥é˜…è¯»çš„ä»£ç ã€‚â€<br>â€œåœ¨ç»å†äº†è®¸å¤šçƒ¦æ¼ä¹‹åï¼Œæˆ‘ç»™è§£æå¼è®¾å®šçš„é™åˆ¶æ˜¯åªèƒ½åµŒå¥—ä¸€å±‚ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¤šå±‚åµŒå¥—æœ€å¥½ç›´æ¥ä½¿ç”¨forå¾ªç¯ï¼Œè¿™æ ·ä»£ç æ›´åŠ æ˜“è¯»ä¸”å®¹æ˜“ç»´æŠ¤ã€‚â€</p>          </div><h3 id="Pythonä¸­çš„åˆ—è¡¨åˆ‡ç‰‡åŠå…¶æŠ€å·§">Pythonä¸­çš„åˆ—è¡¨åˆ‡ç‰‡åŠå…¶æŠ€å·§</h3><p>Pythonçš„åˆ—è¡¨å¯¹è±¡æœ‰æ–¹ä¾¿çš„åˆ‡ç‰‡ç‰¹æ€§ã€‚<strong>åˆ‡ç‰‡</strong>å¯è¢«è§†ä¸ºæ–¹æ‹¬å·ç´¢å¼•è¯­æ³•çš„æ‰©å±•ï¼Œé€šå¸¸ç”¨äºè®¿é—®æœ‰åºé›†åˆä¸­æŸä¸€èŒƒå›´çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œå°†ä¸€ä¸ªå¤§å‹åˆ—è¡¨å¯¹è±¡åˆ†æˆå‡ ä¸ªè¾ƒå°çš„å­åˆ—è¡¨ã€‚<br>æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆçœ‹åˆ‡ç‰‡è¯­æ³•ï¼š<code>a_list[start:stop:step]</code>ï¼Œå…¶ä¸­<strong>start</strong>ä¸ºèµ·å§‹ç´¢å¼•ï¼Œ<strong>stop</strong>ä¸ºç»ˆæ­¢ç´¢å¼•ï¼Œ<strong>step</strong>ä¸ºæ­¥é•¿ï¼ˆä¹Ÿå«<strong>stride</strong>ï¼Œæ­¥å¹…ï¼‰ã€‚ä¸è¿‡è¦è®°ä½ä¸€ç‚¹ï¼Œåˆ‡ç‰‡è®¡ç®—æ–¹æ³•æ˜¯ç®—å¤´ä¸ç®—å°¾ï¼Œä¹Ÿå°±æ˜¯åˆ‡ç‰‡é‡Œé¢åŒ…å«çš„å…ƒç´ æ˜¯<strong>startåˆ°stop-1</strong>ã€‚<br>äº†è§£äº†è¯­æ³•ï¼Œå°±å¯ä»¥æ¥çœ‹çœ‹å®ƒçš„ä¸€äº›åº”ç”¨æŠ€å·§äº†ã€‚é¦–å…ˆæ˜¯ç”¨åˆ‡ç‰‡è¯­æ³•åˆ›å»ºä¸€ä¸ªåŸå§‹åˆ—è¡¨çš„é€†åºå‰¯æœ¬ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list[::-<span class="hljs-number">1</span>]<br>[<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><p>ç¨å¾®åˆ†æä¸€ä¸‹ï¼Œåœ¨<code>[::-1]</code>è¿™é‡Œï¼Œ :: è®©Pythonæä¾›äº†å®Œæ•´çš„åˆ—è¡¨ï¼Œè€Œå°†æ­¥é•¿è®¾ç½®ä¸º-1åˆ™è®©Pythonä»ååˆ°å‰æ¥éå†æ‰€æœ‰å…ƒç´ ã€‚</p><blockquote><p>è¿™ä¹ˆåšå…¶å®å’Œ<code>list.reverse()</code>æˆ–æ˜¯<code>reverse()</code>æ˜¯ä¸€æ ·çš„<br>è¿™é‡Œè¿˜æœ‰å¦ä¸€ä¸ªåˆ—è¡¨åˆ‡ç‰‡æŠ€å·§ï¼šä½¿ç”¨ : æ“ä½œç¬¦æ¸…ç©ºåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼ŒåŒæ—¶ä¸ä¼šç ´ååˆ—è¡¨å¯¹è±¡æœ¬èº«ã€‚<br>è¿™é€‚ç”¨äºåœ¨ç¨‹åºä¸­æœ‰å…¶ä»–å¼•ç”¨æŒ‡å‘è¿™ä¸ªåˆ—è¡¨æ—¶æ¸…ç©ºåˆ—è¡¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œé€šå¸¸ä¸èƒ½ç”¨æ–°çš„åˆ—è¡¨å¯¹è±¡æ›¿æ¢å·²æœ‰åˆ—è¡¨æ¥æ¸…ç©ºåˆ—è¡¨ï¼Œæ›¿æ¢åˆ—è¡¨ä¸ä¼šæ›´æ–°åŸåˆ—è¡¨çš„å¼•ç”¨ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> a_list[:]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[]<br></code></pre></td></tr></table></figure><blockquote><p>åœ¨Python3ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨<code>a_list.clear()</code>å®ŒæˆåŒæ ·çš„å·¥ä½œï¼Œè€Œä¸”è¿™ç§æ–¹å¼åœ¨æŸäº›æƒ…å†µä¸‹å¯è¯»æ€§æ›´å¥½ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è¿˜èƒ½åˆ©ç”¨è¿™ä¸ªæŠ€å·§ï¼Œç”¨åˆ‡ç‰‡æ¥åœ¨ä¸åˆ›å»ºæ–°åˆ—è¡¨å¯¹è±¡çš„æƒ…å†µä¸‹æ›¿æ¢åˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>b_list = a_list<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list[:] = [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>b_list<br>[<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>b_list <span class="hljs-keyword">is</span> a_list<br><span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><p>åˆ©ç”¨ : æ“ä½œç¬¦è¿˜å¯ä»¥åˆ›å»ºç°æœ‰åˆ—è¡¨çš„æµ…å‰¯æœ¬ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>copied_list = a_list[:]<br><span class="hljs-meta">&gt;&gt;&gt; </span>copied_list<br>[<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>copied_list <span class="hljs-keyword">is</span> a_list<br><span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><div class="note note-warning">            <p>åˆ›å»ºæµ…å‰¯æœ¬æ„å‘³ç€åªå¤åˆ¶å…ƒç´ çš„ç»“æ„ï¼Œè€Œä¸å¤åˆ¶å…ƒç´ æœ¬èº«ã€‚ä¸¤ä¸ªåˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ç›¸åŒçš„å®ä¾‹ã€‚<br>å¦‚æœéœ€è¦å¤åˆ¶æ‰€æœ‰å†…å®¹ï¼ˆåŒ…æ‹¬å…ƒç´ ï¼‰ï¼Œåˆ™éœ€è¦åˆ›å»ºåˆ—è¡¨çš„æ·±å‰¯æœ¬ã€‚åˆ›å»ºæ·±å‰¯æœ¬å¯ä»¥ä½¿ç”¨Pythonå†…ç½®çš„copyæ¨¡å—ã€‚</p>          </div><h2 id="è¿­ä»£å™¨">è¿­ä»£å™¨</h2><h3 id="ä»€ä¹ˆæ˜¯è¿­ä»£å™¨ï¼Ÿ">ä»€ä¹ˆæ˜¯è¿­ä»£å™¨ï¼Ÿ</h3><blockquote><p>â€œè¿­ä»£å™¨ï¼ˆiteratorï¼‰ï¼Œæ˜¯ç¡®ä½¿ç”¨æˆ·å¯åœ¨å®¹å™¨å¯¹è±¡ï¼ˆcontainerï¼Œä¾‹å¦‚é“¾è¡¨æˆ–æ•°ç»„ï¼‰ä¸Šéè®¿çš„å¯¹è±¡ï¼Œè®¾è®¡äººå‘˜ä½¿ç”¨æ­¤æ¥å£æ— éœ€å…³å¿ƒå®¹å™¨å¯¹è±¡çš„å†…å­˜åˆ†é…çš„å®ç°ç»†èŠ‚ã€‚å…¶è¡Œä¸ºå¾ˆåƒæ•°æ®åº“æŠ€æœ¯ä¸­çš„å…‰æ ‡ï¼ˆcursorï¼‰ã€‚â€â€”â€”ç»´åŸºç™¾ç§‘<br>ä¸¾ä¸ªä¾‹å­ï¼Œåˆ—è¡¨å°±å±äºè¿­ä»£å™¨ï¼Œå› æ­¤åˆ—è¡¨èƒ½ç”¨äºfor-inå¾ªç¯ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python">numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> numbers:<br>    <span class="hljs-built_in">print</span>(num)<br></code></pre></td></tr></table></figure><p>åœ¨Pythonä¸­ï¼Œåªè¦å¯¹è±¡æ”¯æŒ<code>__iter__</code>å’Œ<code>__next__</code>åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼ˆæˆ–è€…è¯´æ”¯æŒè¿­ä»£å™¨åè®®ï¼‰ï¼Œé‚£ä¹ˆå°±èƒ½ä½¿ç”¨for-inå¾ªç¯ã€‚æ­£æ˜¯ç”±äºè¿™ä¸ªç‰¹ç‚¹ï¼Œä½¿å¾—æˆ‘ä»¬åœ¨éœ€è¦éå†ä¸€ä¸ªå¯¹è±¡ä¸­çš„æŸäº›å†…å®¹æ—¶èƒ½é€šè¿‡ä½¿ç”¨è¿­ä»£å™¨è€Œå˜å¾—ååˆ†æ–¹ä¾¿ã€‚<br>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªæ”¯æŒè¿­ä»£å™¨åè®®çš„ç±»ï¼Œä»è€Œå¯¹è¿™ä¸ªç±»åˆ›å»ºçš„å®ä¾‹ä½¿ç”¨for-inå¾ªç¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Repeater</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value</span>):<br>        self.value = value<br>            <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.value<br></code></pre></td></tr></table></figure><p>è¿™é‡Œç¼–å†™äº†ä¸€ä¸ªRepeaterç±»ï¼Œè¯¥ç±»åœ¨è¿­ä»£æ—¶ç±»çš„å®ä¾‹ä¼šé‡å¤è¿”å›åŒä¸€ä¸ªå€¼ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>repeater = Repeater(<span class="hljs-string">&#x27;Hello&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> repeater:<br><span class="hljs-built_in">print</span>(item)<br>    <br>Hello<br>Hello<br>...<br>Hello<br>Hello<br></code></pre></td></tr></table></figure><p>å…¶å®åˆ°è¿™è¿­ä»£å™¨å°±å¯ä»¥ç®—ä»‹ç»å®Œäº†ã€‚çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ç›¸ä¿¡æœ‰äº›äººå¯ä»¥ç†è§£ï¼Œä½†æ˜¯æœ‰äº›äººä¼šè§‰å¾—æŒºæŠ½è±¡çš„ï¼ˆå› ä¸ºæˆ‘å°±è§‰å¾—ï¼‰ï¼Œä¹Ÿæ²¡ææ˜ç™½åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆå·¥ä½œåŸç†ï¼Œæ€ä¹ˆiterè¿”å›ä¸ªselfå•Šï¼Œnextè¿”å›ä¸ªvalueä»€ä¹ˆçš„ï¼Œæ‰€ä»¥ä¸‹é¢ä¼šä»¥ä¹¦ä¸Šçš„å¦ä¸€ç§æ–¹å¼å†æ¬¡è§£è¯»è¿­ä»£å™¨ã€‚</p><blockquote><p>è¿˜æ˜¯ç”¨åˆ°ä¸Šé¢çš„Repeaterç±»ä¸ºä¾‹å­ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬æŠŠå®ƒæ‹†åˆ†ä¸ºä¸¤ä¸ªç±»ï¼ˆRepeaterã€RepeaterIteratorï¼‰æ¥åˆ†åˆ«å®ç°è¿­ä»£å™¨åè®®ä¸­çš„ä¸¤ä¸ªæ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Repeater</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value</span>):<br>        self.value = value<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> RepeaterIterator(self)<br>    <br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">RepeaterIterator</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, source</span>):<br>        self.source = source<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.source.value<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬è¦å…³æ³¨çš„æ˜¯ä¸Šé¢çš„<code>__iter__</code>å’Œ<code>__next__</code>ä¸¤ä¸ªæ–¹æ³•ä»¥åŠRepeaterIteratorç±»ã€‚<br>é¦–å…ˆæ˜¯<code>__iter__</code>ã€‚<code>__iter__</code>åˆ›å»ºå¹¶è¿”å›äº†RepeaterIteratorå¯¹è±¡ï¼Œä»æ„æ€ä¸Šçœ‹ï¼Œä¹Ÿèƒ½è¯´åˆ›å»ºäº†ä¸€ä¸ªRepeaterç±»çš„è¿­ä»£å™¨å¯¹è±¡ã€‚<br>ç„¶åå°±æ˜¯RepeaterIteratorç±»ï¼Œæˆ‘ä»¬è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š<br>ï¼ˆ1ï¼‰åœ¨<code>__init__</code>æ–¹æ³•ä¸­ï¼Œæ¯ä¸ªRepeaterIteratorå®ä¾‹éƒ½é“¾æ¥åˆ°åˆ›å»ºå®ƒçš„Repeaterå¯¹è±¡ã€‚è¿™æ ·å¯ä»¥æŒæœ‰è¿­ä»£çš„â€œæºâ€ï¼ˆsourceï¼‰å¯¹è±¡ã€‚<br>ï¼ˆ2ï¼‰åœ¨<code>RepeaterIterator.__next__</code>ä¸­ï¼Œå›åˆ°â€œæºâ€Repeaterå®ä¾‹å¹¶è¿”å›ä¸å…¶å…³è”çš„å€¼ã€‚<br>å¦‚æ­¤ä¸€æ¥ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥åœ¨for-inä¸­ä½¿ç”¨Repeaterå®ä¾‹ã€‚é‚£ä¹ˆfor-inå¾ªç¯åˆæ˜¯æ€ä¹ˆå·¥ä½œçš„å‘¢ï¼Ÿçœ‹ä¸‹é¢ä¸€æ®µä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python">repeater = Repeater(<span class="hljs-string">&#x27;Hello&#x27;</span>)<br>iterator = repeator.__iter__()<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    item = iterator.__next__()<br>    <span class="hljs-built_in">print</span>(item)<br></code></pre></td></tr></table></figure><p>é¦–å…ˆè®©repeaterå¯¹è±¡å‡†å¤‡è¿­ä»£ï¼Œå³è°ƒç”¨<code>__iter__</code>æ–¹æ³•æ¥è¿”å›å®é™…çš„è¿­ä»£å™¨å¯¹è±¡ã€‚<br>ç„¶åå¾ªç¯åå¤è°ƒç”¨è¿­ä»£å™¨å¯¹è±¡çš„<code>__next__</code>æ–¹æ³•ï¼Œä»ä¸­è·å–å€¼ã€‚<br>å¦‚æœæœ‰æ•°æ®åº“ç›¸å…³çŸ¥è¯†ï¼Œä½ è¿˜ä¼šå‘ç°è¿­ä»£å™¨å’Œæ¸¸æ ‡çš„ç›¸ä¼¼ä¹‹å¤„ï¼šé¦–å…ˆåˆå§‹åŒ–æ¸¸æ ‡å¹¶å‡†å¤‡è¯»å–ï¼Œç„¶åä»ä¸­é€ä¸ªå–å‡ºæ•°æ®å­˜å…¥å±€éƒ¨å˜é‡ä¸­ã€‚<br>æ— è®ºæ˜¯å…ƒç´ åˆ—è¡¨ã€å­—å…¸ï¼Œè¿˜æ˜¯Repeaterç±»æä¾›çš„æ— é™åºåˆ—ï¼Œæˆ–æ˜¯å…¶ä»–åºåˆ—ç±»å‹ï¼Œå¯¹äºè¿­ä»£å™¨æ¥è¯´åªæ˜¯å®ç°ç»†èŠ‚ä¸åŒã€‚è¿­ä»£å™¨èƒ½ä»¥ç›¸åŒçš„æ–¹å¼éå†è¿™äº›å¯¹è±¡ä¸­çš„å…ƒç´ ã€‚</p></blockquote><h3 id="åœ¨Pythonè§£é‡Šå™¨ä¼šè¯ä¸­æ¨¡æ‹Ÿå¾ªç¯ä½¿ç”¨è¿­ä»£å™¨åè®®çš„æ–¹å¼">åœ¨Pythonè§£é‡Šå™¨ä¼šè¯ä¸­æ¨¡æ‹Ÿå¾ªç¯ä½¿ç”¨è¿­ä»£å™¨åè®®çš„æ–¹å¼</h3><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>repeater = Repeater(<span class="hljs-string">&#x27;Hello&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>iterator = <span class="hljs-built_in">iter</span>(repeater)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br><span class="hljs-string">&#x27;Hello&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br><span class="hljs-string">&#x27;Hello&#x27;</span><br>...<br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œä½œä¸ºæ›¿ä»£ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Pythonå†…ç½®å‡½æ•°<code>iter()</code>å’Œ<code>next()</code>ã€‚<br>è¿™äº›å†…ç½®å‡½æ•°åœ¨å†…éƒ¨ä¼šè°ƒç”¨ç›¸åŒçš„åŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œä¸ºè¿­ä»£å™¨åè®®æä¾›ä¸€ä¸ªç®€æ´çš„å°è£…ï¼ˆfacadeï¼‰ã€‚</p><h3 id="æœ‰é™è¿­ä»£">æœ‰é™è¿­ä»£</h3><p>æ—¢ç„¶å¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿè¿­ä»£è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä¸å¦¨æ¥å­¦ä¹ ä¸€ä¸‹å…¶ä»–å®ç°äº†è¿­ä»£å™¨åè®®çš„å¯¹è±¡æ˜¯æ€ä¹ˆåœä¸‹è¿­ä»£çš„ã€‚<br>å°±ç”¨å¼€å¤´é‚£ä¸ªåˆ—è¡¨ä½œä¸ºä¾‹å­ï¼Œè®©æˆ‘ä»¬æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹å®ƒçš„è¿­ä»£è¿‡ç¨‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>iterator = <span class="hljs-built_in">iter</span>(numbers)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br><span class="hljs-number">2</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br><span class="hljs-number">3</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br>StopIteration<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br>StopIteration<br>...<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨éå†å®Œåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ åï¼Œç»§ç»­è°ƒç”¨<code>next()</code>å‡½æ•°å°†ä¼šæŠ›å‡ºStopIterationå¼‚å¸¸ã€‚<br>æ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„æ”¯æŒè¿­ä»£å™¨åè®®çš„ç±»ä¸­ï¼Œé€šè¿‡æŠ›å‡ºStopIterationå¼‚å¸¸æ¥åœæ­¢è¿­ä»£ã€‚<br>ä¸‹é¢æ˜¯ä¹¦ä¸Šçš„ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BoundedRepeater</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, value, max_repeats</span>):<br>        self.value = value<br>        self.max_repeats = max_repeats<br>        self.count = <span class="hljs-number">0</span><br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__iter__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__next__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> self.count &gt;= self.max_repeats:<br>            <span class="hljs-keyword">raise</span> StopIteration<br>        self.count += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> self.value<br></code></pre></td></tr></table></figure><h2 id="ç”Ÿæˆå™¨">ç”Ÿæˆå™¨</h2><h3 id="ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨">ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨</h3><p>ç”Ÿæˆå™¨è¯´ç™½äº†å§ï¼Œå°±æ˜¯ç®€åŒ–ç‰ˆçš„è¿­ä»£å™¨ã€‚å®ƒä¸æ˜¯åŸºäºç±»çš„è¿­ä»£å™¨ï¼Œè€Œæ˜¯åŸºäºå‡½æ•°çš„è¿­ä»£å™¨ï¼Œå› æ­¤ä¹Ÿä¸éœ€è¦å®ç°ä¸¤ä¸ªåŒä¸‹åˆ’çº¿æ–¹æ³•ï¼Œè€Œä¸”åœ¨ç”Ÿæˆå™¨ä¸­ä¸æ˜¯ä½¿ç”¨returnè¯­å¥ï¼Œè€Œæ˜¯ä½¿ç”¨yieldè¯­å¥å°†æ•°æ®ä¼ å›ç»™è°ƒç”¨è€…ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">repeater</span>(<span class="hljs-params">value</span>):<br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br><span class="hljs-keyword">yield</span> value<br></code></pre></td></tr></table></figure><p>è¿™æ ·ä¸€ä¸ªç®€å•çš„æ— é™ç”Ÿæˆå™¨å°±å†™å¥½äº†ï¼Œå¾ˆç®€å•å¯¹å§ï¼è™½ç„¶å®ƒåƒæ™®é€šå‡½æ•°ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œè°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°å¹¶ä¸ä¼šè¿è¡Œè¯¥å‡½æ•°ï¼Œè€Œæ˜¯ä»…ä»…åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>repeater(<span class="hljs-string">&#x27;Hey&#x27;</span>)<br>&lt;generator <span class="hljs-built_in">object</span> repeater at <span class="hljs-number">0x00000188C0A32E40</span>&gt;<br></code></pre></td></tr></table></figure><p>åªæœ‰åœ¨ç”Ÿæˆå™¨å¯¹è±¡ä¸Šè°ƒç”¨<code>next()</code>æ—¶æ‰ä¼šæ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ä¸­çš„ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>generator_obj = repeater(<span class="hljs-string">&#x27;Hey&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(generator_obj)<br><span class="hljs-string">&#x27;Hey&#x27;</span><br></code></pre></td></tr></table></figure><blockquote><p>return å’Œ yield çš„åŒºåˆ«<br>1.å½“å‡½æ•°å†…éƒ¨è°ƒç”¨returnè¯­å¥æ—¶ï¼Œæ§åˆ¶æƒä¼šæ°¸ä¹…æ€§åœ°äº¤è¿˜ç»™å‡½æ•°çš„è°ƒç”¨è€…ã€‚åœ¨è°ƒç”¨yieldæ—¶ï¼Œè™½ç„¶æ§åˆ¶æƒä¹Ÿæ˜¯äº¤è¿˜ç»™å‡½æ•°çš„è°ƒç”¨è€…ï¼Œä½†åªæ˜¯æš‚æ—¶çš„ã€‚<br>2.returnè¯­å¥ä¼šä¸¢å¼ƒå‡½æ•°çš„å±€éƒ¨çŠ¶æ€ï¼Œè€Œyieldè¯­å¥ä¼šæš‚åœè¯¥å‡½æ•°å¹¶ä¿ç•™å…¶å±€éƒ¨çŠ¶æ€ã€‚</p></blockquote><h3 id="æœ‰é™ç”Ÿæˆå™¨">æœ‰é™ç”Ÿæˆå™¨</h3><p>åœ¨åŸºäºç±»çš„è¿­ä»£å™¨ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æŠ›å‡ºStopIterationå¼‚å¸¸æ¥è¡¨ç¤ºè¿­ä»£ç»“æŸï¼Œé‚£ä¹ˆåœ¨ç”Ÿæˆå™¨ä¸­å‘¢ï¼Ÿ<br>ç”±äºç”Ÿæˆå™¨ä¸åŸºäºç±»çš„è¿­ä»£å™¨å®Œå…¨å…¼å®¹ï¼Œæ‰€ä»¥èƒŒåä»ç„¶ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚<br>æˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´å¥½çš„æ¥å£ã€‚å¦‚æœæ§åˆ¶æµä»ç”Ÿæˆå™¨å‡½æ•°ä¸­è¿”å›ï¼Œä½†ä¸æ˜¯é€šè¿‡yieldè¯­å¥ï¼Œé‚£ä¹ˆç”Ÿæˆå™¨å°±ä¼šåœæ­¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">repeat_three_times</span>(<span class="hljs-params">value</span>):<br><span class="hljs-keyword">yield</span> value<br><span class="hljs-keyword">yield</span> value<br><span class="hljs-keyword">yield</span> value<br><span class="hljs-meta">&gt;&gt;&gt; </span>iterator = repeat_three_times(<span class="hljs-string">&#x27;Hey there&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br><span class="hljs-string">&#x27;Hey there&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br><span class="hljs-string">&#x27;Hey there&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br>StopIteration<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">next</span>(iterator)<br>StopIteration<br></code></pre></td></tr></table></figure><p>çŸ¥é“äº†è¿™äº›çŸ¥è¯†ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿè½¬åŒ–ä¸€ä¸‹BoundedRepeaterç±»äº†ï¼Œè®©å®ƒå˜æˆä¸€ä¸ªç”Ÿæˆå™¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">bounded_repeater</span>(<span class="hljs-params">value, max_repeats</span>):<br>count = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br><span class="hljs-keyword">if</span> count &gt;= max_repeats:<br><span class="hljs-keyword">return</span><br>count += <span class="hljs-number">1</span><br><span class="hljs-keyword">yield</span> value<br></code></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œè¿˜æœ‰æ›´ç®€ä¾¿çš„ç‰ˆæœ¬ï¼Œåˆ©ç”¨Pythonä¸ºæ¯ä¸ªå‡½æ•°çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªéšå¼<code>return None</code>è¯­å¥çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">bounded_repeater</span>(<span class="hljs-params">value, max_repeats</span>):<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_repeats):<br><span class="hljs-keyword">yield</span> value<br></code></pre></td></tr></table></figure><h3 id="ç”Ÿæˆå™¨è¡¨è¾¾å¼">ç”Ÿæˆå™¨è¡¨è¾¾å¼</h3><p>ç”Ÿæˆå™¨è¡¨è¾¾å¼é€šè¿‡ä¸€è¡Œä»£ç æ¥å®šä¹‰è¿­ä»£å™¨ã€‚çœ‹åˆ°è¿™ä¸ªï¼Œæˆ‘ä»¬å¾ˆå¿«å°±èƒ½è”æƒ³åˆ°åˆ—è¡¨è§£æå¼ã€‚æ˜¯çš„ï¼Œç”Ÿæˆå™¨è¡¨è¾¾å¼çš„ç¡®å’Œåˆ—è¡¨è¡¨è¾¾å¼éå¸¸ç›¸ä¼¼ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>listcomp = [<span class="hljs-string">&#x27;Hello&#x27;</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)]<br><span class="hljs-meta">&gt;&gt;&gt; </span>genexpr = (<span class="hljs-string">&#x27;Hello&#x27;</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>))<br></code></pre></td></tr></table></figure><p>å’Œåˆ—è¡¨è§£æå¼ç›¸åŒï¼Œç”Ÿæˆå™¨è¡¨è¾¾å¼ä¹Ÿå¯ä»¥æ·»åŠ æ¡ä»¶ä»è€Œæ¥è¿‡æ»¤ä¸€äº›å…ƒç´ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>even_squares = (x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">if</span> x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> even_squares:<br>...   <span class="hljs-built_in">print</span>(x)<br><span class="hljs-number">0</span><br><span class="hljs-number">4</span><br><span class="hljs-number">16</span><br><span class="hljs-number">36</span><br><span class="hljs-number">64</span><br></code></pre></td></tr></table></figure><p>å’Œåˆ—è¡¨è§£æå¼ä¸åŒï¼Œç”Ÿæˆå™¨è¡¨è¾¾å¼ä¸ä¼šæ„é€ åˆ—è¡¨å¯¹è±¡ï¼Œè€Œæ˜¯åƒåŸºäºç±»çš„è¿­ä»£å™¨æˆ–ç”Ÿæˆå™¨å‡½æ•°é‚£æ ·â€œå³æ—¶â€ç”Ÿæˆå€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span>listcomp<br>[<span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-string">&#x27;Hello&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>genexpr<br>&lt;generator <span class="hljs-built_in">object</span> &lt;genexpr&gt; at <span class="hljs-number">0x00000188C0A32DD0</span>&gt;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å½’çº³ä¸€ä¸‹ï¼Œå¾—å‡ºä¸€ä¸ªç”Ÿæˆå™¨è¡¨è¾¾å¼çš„æ¨¡æ¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">genexpr = (expression <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> collection <span class="hljs-keyword">if</span> condition)<br></code></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªæ¨¡æ¿ä¹Ÿå¯ä»¥çœ‹æˆä¸‹è¾¹çš„ç”Ÿæˆå™¨å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">generator</span>():<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> collection:<br>        <span class="hljs-keyword">if</span> condition:<br>            <span class="hljs-keyword">yield</span> expression<br></code></pre></td></tr></table></figure></blockquote><div class="note note-warning">            <p>ç”Ÿæˆå™¨è¡¨è¾¾å¼ä¸€ç»ä½¿ç”¨å°±ä¸èƒ½é‡æ–°å¯åŠ¨æˆ–é‡ç”¨ï¼Œæ‰€ä»¥åœ¨æŸäº›æƒ…å†µä¸‹ç”Ÿæˆå™¨å‡½æ•°æˆ–åŸºäºç±»çš„è¿­ä»£å™¨æ›´åŠ åˆé€‚ã€‚</p>          </div><h3 id="å†…è”ç”Ÿæˆå™¨è¡¨è¾¾å¼">å†…è”ç”Ÿæˆå™¨è¡¨è¾¾å¼</h3><p>å› ä¸ºç”Ÿæˆå™¨è¡¨è¾¾å¼ä¹Ÿæ˜¯è¡¨è¾¾å¼ï¼Œæ‰€ä»¥å¯ä»¥ä¸å…¶ä»–è¯­å¥ä¸€èµ·å†…è”ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªè¿­ä»£å™¨å¹¶ç«‹å³åœ¨forå¾ªç¯ä¸­ä½¿ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> (<span class="hljs-string">&#x27;Test&#x27;</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>)):<br><span class="hljs-built_in">print</span>(x)<br></code></pre></td></tr></table></figure><p>å¦å¤–è¿˜æœ‰ä¸€ä¸ªè¯­æ³•æŠ€å·§å¯ä»¥ç¾åŒ–ç”Ÿæˆå™¨è¡¨è¾¾å¼ã€‚å¦‚æœç”Ÿæˆå™¨è¡¨è¾¾å¼æ˜¯ä½œä¸ºå‡½æ•°ä¸­çš„å•ä¸ªå‚æ•°ä½¿ç”¨ï¼Œé‚£ä¹ˆå¯ä»¥åˆ é™¤ç”Ÿæˆå™¨è¡¨è¾¾å¼å¤–å±‚çš„æ‹¬å·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sum</span>((x * <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)))<br><span class="hljs-number">90</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">sum</span>(x * <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>))<br><span class="hljs-number">90</span><br></code></pre></td></tr></table></figure><h2 id="è¿­ä»£å™¨é“¾">è¿­ä»£å™¨é“¾</h2><p>Pythonä¸­çš„è¿­ä»£å™¨è¿˜æœ‰å¦ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼šå¯ä»¥é“¾æ¥å¤šä¸ªè¿­ä»£å™¨ï¼Œä»è€Œç¼–å†™é«˜æ•ˆçš„æ•°æ®å¤„ç†â€œç®¡é“â€ã€‚<br>æ™®é€šå‡½æ•°åªä¼šäº§ç”Ÿä¸€æ¬¡è¿”å›å€¼ï¼Œè€Œç”Ÿæˆå™¨ä¼šå¤šæ¬¡äº§ç”Ÿç»“æœã€‚å¯ä»¥è®¤ä¸ºç”Ÿæˆå™¨åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­èƒ½<strong>äº§ç”Ÿå€¼çš„â€œæµâ€</strong>ã€‚ä¸‹é¢ç”¨ä¾‹å­æ¥è¯´æ˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">integers</span>():<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, <span class="hljs-number">9</span>):<br><span class="hljs-keyword">yield</span> i<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">squared</span>(<span class="hljs-params">seq</span>):<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> seq:<br><span class="hljs-keyword">yield</span> i * i<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">negated</span>(<span class="hljs-params">seq</span>):<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> seq:<br><span class="hljs-keyword">yield</span> -i<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>chain = negated(squared(integers()))<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(chain)<br>[-<span class="hljs-number">1</span>, -<span class="hljs-number">4</span>, -<span class="hljs-number">9</span>, -<span class="hljs-number">16</span>, -<span class="hljs-number">25</span>, -<span class="hljs-number">36</span>, -<span class="hljs-number">49</span>, -<span class="hljs-number">64</span>]<br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œå…ˆæ˜¯ç”±integers()ç”Ÿæˆå™¨äº§ç”Ÿå€¼çš„â€œæµâ€ï¼Œç„¶åé€å…¥squared()ç”Ÿæˆå™¨ï¼Œsquared()ç”Ÿæˆå™¨æ ¹æ®å€¼å†ç”Ÿæˆå€¼ï¼Œå†é€å…¥negated()ç”Ÿæˆå™¨ä¸­ç”Ÿæˆæœ€åçš„å€¼ã€‚</p><blockquote><p>åœ¨ç”Ÿæˆå™¨é“¾ä¸­ï¼Œæ¯æ¬¡åªå¤„ç†ä¸€ä¸ªå…ƒç´ ï¼Œè¿™è¯´æ˜é“¾ä¸­çš„å¤„ç†æ­¥éª¤ä¹‹é—´æ²¡æœ‰ç¼“å†²åŒºã€‚ä¸‹é¢æ˜¯è¯¦ç»†æ­¥éª¤ï¼š</p><ol><li>integersç”Ÿæˆå™¨äº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå¦‚3.</li><li>è¿™ä¸ªå€¼â€œæ¿€æ´»â€squaredç”Ÿæˆå™¨æ¥å¤„ç†ï¼Œå¾—åˆ°3 * 3 = 9ï¼Œå¹¶å°†å…¶ä¼ é€’åˆ°ä¸‹ä¸€é˜¶æ®µã€‚</li><li>ç”±squaredç”Ÿæˆå™¨äº§ç”Ÿçš„å¹³æ–¹æ•°ç«‹å³é€å…¥negatedç”Ÿæˆå™¨ï¼Œå°†å…¶ä¿®æ”¹ä¸º-9å¹¶å†æ¬¡yieldã€‚</li></ol></blockquote><h1>ä¸€äº›æ— å…³çš„è¯</h1><p>æ”¾å‡åçœŸçš„æ˜¯å¤ªæ‡’å•¦ï¼Œä¹Ÿæ˜¯å„ç§ä½œæ¯æ··ä¹±åŠ ä¸Šåœ¨å¤–æ¸¸ç©åˆæˆ–è€…å¹²è„†ç¡è§‰æ‘†çƒ‚ä»¥è‡³äºæ ¹æœ¬æ²¡æ€ä¹ˆå­¦ï¼ˆåœŸä¸‹åº§.jpgï¼‰ã€‚ä¸‹æ¬¡æ›´æ–°ä¹Ÿæ˜¯è¿™æœ¬å¥½ä¹¦çš„æœ€åä¸€ç« å•¦ï¼Œä¸€å®šä¼šåœ¨å¼€å­¦å‰å­¦å®Œçš„ï¼ˆç¡®ä¿¡ï¼‰ï¼Œå°±è¿™æ ·å•¦~</p><hr><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonä¸­çš„æ•°æ®ç»“æ„</title>
    <link href="/2022/07/09/python-learning-4/"/>
    <url>/2022/07/09/python-learning-4/</url>
    
    <content type="html"><![CDATA[<h1>å‰è¨€</h1><p>å…¶å®å¿™ç¢Œçš„æœŸæœ«å‘¨å·²ç»è¿‡å»ä¸€ä¸ªæ˜ŸæœŸå¤šäº†ï¼Œä½†æ˜¯æˆ‘åˆå’¸ğŸŸäº†æ•´æ•´ä¸€ä¸ªæ˜ŸæœŸæ²¡åœ¨å­¦ä¹ æ‰€ä»¥å¯¼è‡´åšå®¢æ–­æ›´äº†å¥½é•¿ä¸€æ®µæ—¶é—´www<br>æ­£å¥½å­¦åˆ°äº†Pythonä¸­çš„æ•°æ®ç»“æ„ï¼Œè€Œæˆ‘ä¹Ÿæœ‰å¤ä¹ æ•°æ®ç»“æ„çš„æ‰“ç®—ï¼Œæ‰€ä»¥å¾ˆå¿«å•Šï¼Œæˆ‘å°±æ¥æ°´ï¼ˆbushiï¼‰åšæ–‡äº†ã€‚<br>Pythonä¸­çš„æ•°æ®ç»“æ„å…¶å®æŒºå¤šçš„ï¼Œè€Œä¸”ä¸åƒå…¶å®ƒè¯­è¨€ä¸€æ ·ï¼Œæ¯”å¦‚Javaä¸­å°±æŠŠåˆ—è¡¨åˆ†ä¸ºLinkedListå’ŒArrayListï¼Œä½†æ˜¯åœ¨Pythonä¸­å°±æ›´â€œæŠ½è±¡â€ã€‚æ‰€ä»¥è¿˜æ˜¯éå¸¸æœ‰å¿…è¦ä¸‹ç›¸å½“ä¸€éƒ¨åˆ†åŠŸå¤«çš„ã€‚</p><h1>æ­£æ–‡</h1><h2 id="æ•°ç»„æ•°æ®ç»“æ„">æ•°ç»„æ•°æ®ç»“æ„</h2><p>ä»æˆ‘ä»¬ç†Ÿæ‚‰è€Œä¸”å¸¸ç”¨çš„è€æœ‹å‹â€”â€”æ•°ç»„å¼€å§‹ä»‹ç»ã€‚åœ¨Pythonä¸­ï¼Œæ•°ç»„å¯ä»¥æ˜¯å›ºå®šå¤§å°çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥åªè£…ä¸€ç§æ•°æ®ç±»å‹ï¼Œä¹Ÿå¯ä»¥è£…å¾ˆå¤šç§ï¼Œè¿™äº›éƒ½ä¼šåœ¨åè¾¹ä¸€ä¸€ä»‹ç»ã€‚ç°åœ¨ï¼Œå…ˆæ¥äº†è§£ä¸€ä¸‹æ•°ç»„çš„åŸç†å’Œç”¨é€”ã€‚</p><blockquote><p>æ•°ç»„ç”±å¤§å°å›ºå®šçš„æ•°æ®è®°å½•ç»„æˆï¼Œæ ¹æ®ç´¢å¼•èƒ½å¿«é€Ÿæ‰¾åˆ°å…¶ä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚<br>å› ä¸ºæ•°ç»„å°†ä¿¡æ¯å­˜å‚¨åœ¨ä¾æ¬¡è¿æ¥çš„å†…å­˜å—ä¸­ï¼Œæ‰€ä»¥å®ƒæ˜¯<strong>è¿ç»­</strong>çš„æ•°æ®ç»“æ„ã€‚</p></blockquote><h3 id="åˆ—è¡¨â€”â€”å¯å˜åŠ¨æ€æ•°ç»„">åˆ—è¡¨â€”â€”å¯å˜åŠ¨æ€æ•°ç»„</h3><p>Pythoné‡Œè¾¹å¸¸ç”¨çš„åˆ—è¡¨ï¼Œå³listï¼Œå°±æ˜¯ä»¥åŠ¨æ€æ•°ç»„å®ç°çš„ã€‚å®ƒå®ç°äº†å¢åˆ æŸ¥æ”¹åŠŸèƒ½ï¼Œè€Œä¸”å¯ä»¥åŒ…å«ä»»ä½•å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯è¯´å¯ä»¥è£…ä¸åŒçš„æ•°æ®ç±»å‹ï¼‰ã€‚</p><blockquote><p>è¿™ä¸ªåŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œä½†ç¼ºç‚¹æ˜¯åŒæ—¶æ”¯æŒå¤šç§æ•°æ®ç±»å‹ä¼šå¯¼è‡´æ•°æ®å­˜å‚¨å¾—ä¸æ˜¯å¾ˆç´§å‡‘ã€‚å› æ­¤æ•´ä¸ªç»“æ„å æ®äº†æ›´å¤šçš„ç©ºé—´ã€‚<br>æœ¬è´¨ä¸Šæ˜¯å› ä¸ºåˆ—è¡¨ä¸­å­˜å‚¨çš„æ˜¯PyObjectæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸åŒçš„å¯¹è±¡ã€‚ç„¶è€Œï¼ˆå…¶å®ƒï¼‰æ•°ç»„æ˜¯ç›´æ¥å­˜æ”¾æ•°æ®æœ¬èº«ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">0</span>]<br><span class="hljs-number">1</span><br><br><span class="hljs-comment"># åˆ—è¡¨çš„__repr__æ–¹æ³•</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><br><span class="hljs-comment"># åˆ—è¡¨æ˜¯å¯å˜çš„ï¼Œä¸”å¯ä»¥å«æœ‰ä»»æ„ç±»å‹çš„æ•°æ®</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;two&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr<br>[<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-number">3</span>]<br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³listçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3.9/library/stdtypes.html#list">List</a></p><h3 id="å…ƒç»„â€”â€”ä¸å¯å˜å®¹å™¨">å…ƒç»„â€”â€”ä¸å¯å˜å®¹å™¨</h3><p>å…ƒç»„ä¹Ÿæ˜¯éå¸¸ç†Ÿæ‚‰çš„ä¸€ä¸ªPythonä¸­çš„åºåˆ—ç±»å‹äº†ã€‚ä¸åˆ—è¡¨ä¸åŒçš„æ˜¯ï¼ŒPythonçš„å…ƒç»„å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œåˆ›å»ºäº†å…ƒç»„ä¹‹åï¼Œæˆ‘ä»¬å°±ä¸èƒ½å¯¹è¿™ä¸ªå…ƒç»„è¿›è¡Œä¿®æ”¹äº†ã€‚æœ‰äº›çœ‹ä¸Šå»æ˜¯ä¿®æ”¹äº†å…ƒç»„çš„è¯­æ³•ï¼Œæœ¬è´¨ä¸Šæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å…ƒç»„ï¼Œè€Œä¸æ˜¯ä¿®æ”¹åŸæ¥çš„å…ƒç»„ã€‚<br>å’Œåˆ—è¡¨ä¸€æ ·ï¼Œå…ƒç»„ä¹Ÿå¯ä»¥åŒ…å«ä»»æ„æ•°æ®ç±»å‹çš„å…ƒç´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>arr = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">0</span>]<br><span class="hljs-number">1</span><br><br><span class="hljs-comment"># å…ƒç»„çš„__repr__æ–¹æ³•</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><br><span class="hljs-comment"># å…ƒç»„æ˜¯ä¸å¯å˜çš„</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;two&#x27;</span><br>TypeError: <span class="hljs-string">&#x27;tuple&#x27;</span> <span class="hljs-built_in">object</span> does <span class="hljs-keyword">not</span> support item assignment<br><br><span class="hljs-comment"># å…ƒç»„å¯ä»¥åŒ…å«ä»»æ„ç±»å‹çš„æ•°æ®(æ³¨æ„ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰ä¿®æ”¹åŸæœ¬çš„å…ƒç»„ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å…ƒç»„)</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr + (<span class="hljs-number">23</span>,)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">23</span>)<br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³tupleçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3.9/library/stdtypes.html#tuple">Tuple</a></p><h3 id="array-arrayâ€”â€”åŸºæœ¬ç±»å‹æ•°ç»„">array.arrayâ€”â€”åŸºæœ¬ç±»å‹æ•°ç»„</h3><p>åˆ©ç”¨array.arrayåˆ›å»ºçš„æ•°ç»„ä¹Ÿæ˜¯å¯å˜çš„ï¼Œä½†æ˜¯å®ƒæ˜¯åªèƒ½åŒ…å«å•ä¸€æ•°æ®ç±»å‹çš„â€œ<a href="https://docs.python.org/3/library/array.html?highlight=array%20array#array.array">ç±»å‹æ•°ç»„</a>â€,å› æ­¤å®ƒä¹Ÿæ¯”åˆ—è¡¨å’Œå…ƒç»„æ›´ä¸ºèŠ‚çœç©ºé—´ã€‚<br>æ­¤å¤–ï¼Œæ•°ç»„ä¸­ä¹Ÿæœ‰è®¸å¤šæ™®é€šåˆ—è¡¨ä¸­å«æœ‰çš„æ–¹æ³•ï¼Œä½¿ç”¨æ–¹å¼ä¹Ÿç›¸åŒã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> array<br><span class="hljs-meta">&gt;&gt;&gt; </span>arr = array.array(<span class="hljs-string">&#x27;f&#x27;</span>, (<span class="hljs-number">1.0</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">2.5</span>))<br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">1</span>]<br><span class="hljs-number">1.5</span><br><br><span class="hljs-comment"># array.arrayçš„__repr__æ–¹æ³•</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr<br>array(<span class="hljs-string">&#x27;f&#x27;</span>, [<span class="hljs-number">1.0</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">2.5</span>])<br><br><span class="hljs-comment"># array.arrayä¸­æ•°æ®ç±»å‹æ˜¯å•ä¸€çš„</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;one&#x27;</span><br>TypeError: must be real number, <span class="hljs-keyword">not</span> <span class="hljs-built_in">str</span><br></code></pre></td></tr></table></figure><h3 id="strâ€”â€”å«æœ‰Unicodeå­—ç¬¦çš„ä¸å¯å˜æ•°ç»„">strâ€”â€”å«æœ‰Unicodeå­—ç¬¦çš„ä¸å¯å˜æ•°ç»„</h3><p>Pythonä¸­çš„strå®é™…ä¸Šæ˜¯ä¸å¯å˜çš„å­—ç¬¦æ•°ç»„ï¼Œè€Œä¸”ï¼Œstrè¿˜æ˜¯ä¸€ç§é€’å½’çš„æ•°æ®ç»“æ„ï¼Œå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯é•¿åº¦ä¸º1çš„strå¯¹è±¡ï¼ˆå¾ˆå¥‡æ€ªå§ï¼Œæˆ‘ä¹Ÿè§‰å¾—ï¼‰ã€‚<br>å¦‚æœéœ€è¦ä¸€ä¸ªå¯å˜å­—ç¬¦ä¸²ï¼ŒPythonå¹¶ä¸èƒ½åƒJavaé‚£æ ·ç›´æ¥æ‹¿å‡ºä¸€ä¸ªStringBufferï¼Œè€Œæ˜¯åªèƒ½åˆ©ç”¨åˆ—è¡¨æ¥ä½œä¸ºå¯å˜å­—ç¬¦ä¸²ã€‚</p><blockquote><p>python3.xä½¿ç”¨strå¯¹è±¡å°†æ–‡æœ¬æ•°æ®å­˜å‚¨ä¸ºä¸å¯å˜çš„Unicodeå­—ç¬¦åºåˆ—ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>arr = <span class="hljs-string">&#x27;hello&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">1</span>]<br><span class="hljs-string">&#x27;e&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr<br><span class="hljs-string">&#x27;hello&#x27;</span><br><br><span class="hljs-comment"># å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;e&#x27;</span><br>TypeError: <span class="hljs-string">&#x27;str&#x27;</span> <span class="hljs-built_in">object</span> does <span class="hljs-keyword">not</span> support item assignment<br><br><span class="hljs-comment"># å­—ç¬¦ä¸²æ˜¯é€’å½’å‹æ•°æ®ç±»å‹</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(<span class="hljs-string">&#x27;hello&#x27;</span>)<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;str&#x27;</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">type</span>(<span class="hljs-string">&#x27;hello&#x27;</span>[<span class="hljs-number">1</span>])<br>&lt;<span class="hljs-keyword">class</span> <span class="hljs-string">&#x27;str&#x27;</span>&gt;<br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³strçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str">Str</a></p><h3 id="bytesâ€”â€”å«æœ‰å•å­—èŠ‚çš„ä¸å¯å˜æ•°ç»„">bytesâ€”â€”å«æœ‰å•å­—èŠ‚çš„ä¸å¯å˜æ•°ç»„</h3><p>byteså¯¹è±¡æ˜¯å•å­—èŠ‚çš„ä¸å¯å˜åºåˆ—ï¼Œå•å­—èŠ‚ä¸º[0, 255]èŒƒå›´å†…çš„æ•´æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>arr = <span class="hljs-built_in">bytes</span>((<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">1</span>]<br><span class="hljs-number">1</span><br><br><span class="hljs-comment"># bytesæœ‰è‡ªå·±çš„è¯­æ³•</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr<br><span class="hljs-string">b&#x27;\x00\x01\x02\x03&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr = <span class="hljs-string">b&#x27;\x00\x11\x22\x33&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr<br><span class="hljs-string">b&#x27;\x00\x01\x02\x03&#x27;</span><br></code></pre></td></tr></table></figure><div class="note note-info">            <p>byteså¯ä»¥è§£åŒ…åˆ°bytearrayä¸­ã€‚</p>          </div><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³bytesçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/stdtypes.html#bytes">Bytes</a></p><h3 id="bytearrayâ€”â€”å«æœ‰å•å­—èŠ‚çš„å¯å˜æ•°ç»„">bytearrayâ€”â€”å«æœ‰å•å­—èŠ‚çš„å¯å˜æ•°ç»„</h3><p>bytearrayç±»å‹æ˜¯å¯å˜æ•´æ•°åºåˆ—ï¼ŒåŒ…å«çš„æ•´æ•°èŒƒå›´å’Œbytesä¸€æ ·ï¼Œä¹Ÿæ˜¯[0, 255]ã€‚<br>bytearrayæ•°å¯ä»¥è½¬æ¢å›ä¸å¯å˜çš„byteså¯¹è±¡ï¼Œä½†æ˜¯è¿™éœ€è¦å¤åˆ¶æ‰€å­˜å‚¨çš„æ•°æ®ï¼Œæ˜¯è€—æ—¶ä¸º**O(n)**çš„æ…¢æ“ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>arr = <span class="hljs-built_in">bytearray</span>((<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br><span class="hljs-meta">&gt;&gt;&gt; </span>arr[<span class="hljs-number">1</span>]<br><span class="hljs-number">1</span><br><br><span class="hljs-comment"># bytearrayçš„__repr__æ–¹æ³•</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>arr<br><span class="hljs-built_in">bytearray</span>(<span class="hljs-string">b&#x27;\x00\x01\x02\x03&#x27;</span>)<br><br><span class="hljs-comment"># bytearrayå¯ä»¥è½¬æ¢å›byteå¯¹è±¡ï¼Œæ­¤è¿‡ç¨‹ä¼šå¤åˆ¶æ•°æ®</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">bytes</span>(arr)<br><span class="hljs-string">b&#x27;\x00\x01\x02\x03&#x27;</span><br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³bytearrayçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/stdtypes.html#bytearray">Bytes Array</a></p><h2 id="å­—å…¸æ•°æ®ç»“æ„">å­—å…¸æ•°æ®ç»“æ„</h2><p>Pythoné‡Œè¾¹ç¬¬äºŒç†Ÿæ‚‰çš„æ•°æ®ç»“æ„åº”è¯¥å°±æ˜¯å­—å…¸äº†ã€‚å­—å…¸å¯ä»¥å­˜å‚¨ä»»æ„æ•°é‡çš„å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æ˜¯ä¸€ä¸ª<strong>å€¼</strong>ï¼Œæ¯ä¸ª<strong>å€¼</strong>éƒ½è¢«å”¯ä¸€çš„å­—å…¸<strong>é”®</strong>æ ‡è¯†ã€‚<br>å­—å…¸é€šå¸¸ä¹Ÿè¢«ç§°ä¸º<strong>æ˜ å°„</strong>ã€<strong>æ•£åˆ—è¡¨</strong>ã€<strong>æŸ¥æ‰¾è¡¨</strong>æˆ–<strong>å…³è”æ•°ç»„</strong>ã€‚<br>åœ¨Pythonä¸­ï¼Œé€šå¸¸å­—å…¸éƒ½æ˜¯ç”±dictå®ç°ï¼Œä¸è¿‡å½“dictä¸èƒ½æ»¡è¶³æŸäº›éœ€æ±‚çš„æ—¶å€™ï¼ŒPythonè¿˜æä¾›äº†ä¸€äº›ç‰¹æ®Šå­—å…¸ï¼ˆå°½ç®¡ç‰¹æ®Šï¼Œä½†ä»–ä»¬éƒ½åŸºäºå†…ç½®çš„å­—å…¸ç±»dictï¼‰ä»¥ä¾›ä½¿ç”¨ã€‚</p><h3 id="dictâ€”â€”é¦–é€‰å­—å…¸å®ç°">dictâ€”â€”é¦–é€‰å­—å…¸å®ç°</h3><p>Pythonä¸­æœ€ç¨³å¥çš„å­—å…¸å®ç°å°±æ˜¯dictã€‚ä¸ºæ–¹ä¾¿ä½¿ç”¨ï¼ŒPythonè¿˜æä¾›äº†ä¸€äº›æœ‰ç”¨çš„â€œè¯­æ³•ç³–â€æ¥å¤„ç†ç¨‹åºä¸­çš„å­—å…¸ã€‚ä¾‹å¦‚ï¼Œç”¨èŠ±æ‹¬å·å­—å…¸è¡¨è¾¾å¼è¯­æ³•å’Œå­—å…¸è§£æå¼èƒ½å¤Ÿæ–¹ä¾¿åœ°åˆ›å»ºæ–°çš„å­—å…¸å¯¹è±¡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">number = &#123;<br>    <span class="hljs-string">&#x27;one&#x27;</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-string">&#x27;two&#x27;</span>: <span class="hljs-number">2</span>,<br>    <span class="hljs-string">&#x27;three&#x27;</span>: <span class="hljs-number">3</span>,<br>&#125;<br>squares = &#123;x: x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>)&#125;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>number[<span class="hljs-string">&#x27;two&#x27;</span>]<br><span class="hljs-number">2</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>squares<br>&#123;<span class="hljs-number">0</span>: <span class="hljs-number">0</span>, <span class="hljs-number">1</span>: <span class="hljs-number">1</span>, <span class="hljs-number">2</span>: <span class="hljs-number">4</span>, <span class="hljs-number">3</span>: <span class="hljs-number">9</span>, <span class="hljs-number">4</span>: <span class="hljs-number">16</span>, <span class="hljs-number">5</span>: <span class="hljs-number">25</span>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>Pythonçš„å­—å…¸ç”±<a href="https://docs.python.org/3/glossary.html#term-hashable">å¯æ•£åˆ—ç±»å‹</a>çš„é”®æ¥ç´¢å¼•ã€‚ å¯æ•£åˆ—å¯¹è±¡å…·æœ‰åœ¨å…¶ç”Ÿå‘½å‘¨æœŸä¸­æ°¸è¿œä¸ä¼šæ”¹å˜çš„æ•£åˆ—å€¼ï¼ˆå‚è§<code>__hash__</code>ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥ä¸å…¶ä»–å¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼ˆå‚è§<code>__eq__</code>ï¼‰ã€‚å¦å¤–ï¼Œç›¸ç­‰çš„å¯æ•£åˆ—å¯¹è±¡ï¼Œå…¶æ•£åˆ—å€¼å¿…ç„¶ç›¸åŒã€‚<br>åƒå­—ç¬¦ä¸²å’Œæ•°è¿™æ ·çš„ä¸å¯å˜ç±»å‹æ˜¯å¯æ•£åˆ—çš„ï¼Œå®ƒä»¬å¯ä»¥å¾ˆå¥½åœ°ç”¨ä½œå­—å…¸é”®ã€‚å…ƒç»„å¯¹è±¡ä¹Ÿå¯ä»¥ç”¨ä½œå­—å…¸é”®ï¼Œä½†è¿™äº›å…ƒç»„æœ¬èº«å¿…é¡»åªåŒ…å«å¯æ•£åˆ—ç±»å‹ã€‚<br>æƒ³äº†è§£æ›´å¤šæœ‰å…³dictçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/stdtypes.html#mapping-types-dict">Mapping Types â€” dict</a></p></blockquote><h3 id="collections-OrderDictâ€”â€”èƒ½è®°ä½é”®çš„æ’å…¥é¡ºåº">collections.OrderDictâ€”â€”èƒ½è®°ä½é”®çš„æ’å…¥é¡ºåº</h3><p>collections.OrderDictæ˜¯ç‰¹åˆ«çš„dictå­ç±»ï¼Œè¯¥ç±»å‹ä¼šè®°å½•æ·»åŠ åˆ°å…¶ä¸­çš„é”®çš„æ’å…¥é¡ºåºã€‚</p><div class="note note-info">            <p>åœ¨Python3.7ä»¥åï¼Œæ ‡å‡†çš„å­—å…¸å®ç°ä¼šä¿ç•™é”®çš„æ’å…¥é¡ºåºè¿™ä¸€ç‰¹æ€§è¢«å›ºå®šä¸‹æ¥äº†ï¼Œå½“ç„¶ï¼Œè¿™åªæ˜¯CPythonå®ç°çš„ä¸€ä¸ªå‰¯ä½œç”¨ï¼Œå¦‚æœåœ¨è‡ªå·±çš„å·¥ä½œä¸­å¾ˆéœ€è¦ç”¨åˆ°é”®é¡ºåºï¼Œæœ€å¥½æ˜ç¡®ä½¿ç”¨OrderedDictç±»ã€‚</p>          </div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> collections<br><span class="hljs-meta">&gt;&gt;&gt; </span>d = collections.OrderedDict(one = <span class="hljs-number">1</span>, two = <span class="hljs-number">2</span>, three = <span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>d<br>OrderedDict([(<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-number">2</span>), (<span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-number">3</span>)])<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>d[<span class="hljs-string">&#x27;four&#x27;</span>] = <span class="hljs-number">4</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>d<br>OrderedDict([(<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-number">2</span>), (<span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-number">3</span>), (<span class="hljs-string">&#x27;four&#x27;</span>, <span class="hljs-number">4</span>)])<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>d.keys()<br>odict_keys([<span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>, <span class="hljs-string">&#x27;three&#x27;</span>, <span class="hljs-string">&#x27;four&#x27;</span>])<br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³collections.OrderedDictçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/collections.html?highlight=collections%20ordereddict#collections.OrderedDict">collections.OrderedDict</a></p><h3 id="collections-defaultdictâ€”â€”ä¸ºç¼ºå¤±çš„é”®è¿”å›é»˜è®¤å€¼">collections.defaultdictâ€”â€”ä¸ºç¼ºå¤±çš„é”®è¿”å›é»˜è®¤å€¼</h3><p>defaultdictæ˜¯å¦ä¸€ä¸ªdictå­ç±»ï¼Œå…¶æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡ï¼ŒæŸ¥æ‰¾æ—¶å¦‚æœæ‰¾ä¸åˆ°ç»™å®šçš„é”®ï¼Œå°±è¿”å›è¿™ä¸ªå¯è°ƒç”¨å¯¹è±¡ã€‚</p><blockquote><p>ä¸ä½¿ç”¨<code>get()</code>æ–¹æ³•æˆ–åœ¨æ™®é€šå­—å…¸ä¸­æ•è·KeyErrorå¼‚å¸¸ç›¸æ¯”ï¼Œè¿™ç§æ–¹å¼çš„ä»£ç è¾ƒå°‘ï¼Œå¹¶èƒ½æ¸…æ™°åœ°è¡¨è¾¾å‡ºç¨‹åºå‘˜çš„æ„å›¾ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict<br><span class="hljs-meta">&gt;&gt;&gt; </span>d = defaultdict(<span class="hljs-built_in">list</span>)<br><br><span class="hljs-comment"># è®¿é—®ç¼ºå¤±çš„é”®å°±ä¼šç”¨é»˜è®¤å·¥å‚æ–¹æ³•åˆ›å»ºå®ƒå¹¶åˆå§‹åŒ–</span><br><span class="hljs-comment"># åœ¨æœ¬ä¾‹ä¸­å·¥å‚æ–¹æ³•ä¸ºlist()</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>d[<span class="hljs-string">&#x27;none&#x27;</span>].append(<span class="hljs-number">1</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>d[<span class="hljs-string">&#x27;none&#x27;</span>].append(<span class="hljs-number">2</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>d[<span class="hljs-string">&#x27;none&#x27;</span>].append(<span class="hljs-number">3</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>d[<span class="hljs-string">&#x27;none&#x27;</span>]<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨è®¿é—®ç¼ºå¤±çš„é”®æ—¶ï¼Œå¯¹è±¡ d è‡ªåŠ¨è°ƒç”¨äº†list()æ–¹æ³•ä¸ºæ–°é”®çš„å€¼åˆ›å»ºåˆ—è¡¨å¹¶è¿”å›è¿™ä¸ªåˆ—è¡¨ã€‚<br>æƒ³äº†è§£æ›´å¤šæœ‰å…³collections.defaultdictçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/collections.html?highlight=collections%20defaultdict#collections.defaultdict">collections.defaultdict</a></p><h3 id="collections-ChainMapâ€”â€”æœç´¢å¤šä¸ªå­—å…¸">collections.ChainMapâ€”â€”æœç´¢å¤šä¸ªå­—å…¸</h3><p>collections.ChainMapå°†å¤šä¸ªå­—å…¸åˆ†ç»„åˆ°ä¸€ä¸ªæ˜ å°„ä¸­ï¼Œåœ¨æŸ¥æ‰¾æ—¶é€ä¸ªæœç´¢åº•å±‚æ˜ å°„ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„é”®ã€‚å¯¹ChainMapè¿›è¡Œæ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ“ä½œï¼Œåªä¼šä½œç”¨äºå…¶ä¸­çš„ç¬¬ä¸€ä¸ªå­—å…¸ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> ChainMap<br><span class="hljs-meta">&gt;&gt;&gt; </span>d1 = &#123;<span class="hljs-string">&#x27;one&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;two&#x27;</span>: <span class="hljs-number">2</span>,&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>d2 = &#123;<span class="hljs-string">&#x27;three&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;four&#x27;</span>: <span class="hljs-number">4</span>,&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>chainDict = ChainMap(d1, d2)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>chainDict<br>ChainMap(&#123;<span class="hljs-string">&#x27;one&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;two&#x27;</span>: <span class="hljs-number">2</span>&#125;, &#123;<span class="hljs-string">&#x27;three&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;four&#x27;</span>: <span class="hljs-number">4</span>&#125;)<br><br><span class="hljs-comment"># ChinaMapåœ¨å†…éƒ¨ä»å·¦åˆ°å³é€ä¸ªæœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°å¯¹åº”çš„é”®æˆ–å…¨éƒ¨æœç´¢å®Œæ¯•ã€‚</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>chainDict[<span class="hljs-string">&#x27;three&#x27;</span>]<br><span class="hljs-number">3</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>chainDict[<span class="hljs-string">&#x27;one&#x27;</span>]<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>chainDict[<span class="hljs-string">&#x27;none&#x27;</span>]<br>KeyError: <span class="hljs-string">&#x27;none&#x27;</span><br></code></pre></td></tr></table></figure><p>ç›´è§‚åœ°çœ‹ï¼Œæˆ‘å°±è§‰å¾—è¿™ä¸œè¥¿åƒæ˜¯ä¸€ä¸ªåŒ…å«å­—å…¸çš„åˆ—è¡¨ï¼ˆåƒå•Šï¼Œå¾ˆåƒå•Šï¼ï¼‰ï¼Œæ“ä½œï¼ˆå¦‚æŸ¥æ‰¾ï¼‰æ›´æ–¹ä¾¿çš„å­—å…¸åˆ—è¡¨ï¼ˆè¯¯ï¼‰ã€‚<br>æƒ³äº†è§£æ›´å¤šæœ‰å…³collections.ChainMapçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/collections.html?highlight=collections%20chainmap#collections.ChainMap">collections.ChainMap</a></p><h3 id="types-MappingProxyTypeâ€”â€”ç”¨äºåˆ›å»ºåªè¯»å­—å…¸">types.MappingProxyTypeâ€”â€”ç”¨äºåˆ›å»ºåªè¯»å­—å…¸</h3><p>MappingProxyTypeå°è£…äº†æ ‡å‡†çš„å­—å…¸ï¼Œä¸ºå°è£…çš„å­—å…¸æ•°æ®æä¾›åªè¯»è§†å›¾ã€‚<br>ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœå¸Œæœ›è¿”å›ä¸€ä¸ªå­—å…¸æ¥è¡¨ç¤ºç±»æˆ–æ¨¡å—çš„å†…éƒ¨çŠ¶æ€ï¼ŒåŒæ—¶ç¦æ­¢å‘è¯¥å¯¹è±¡å†™å…¥å†…å®¹ï¼Œæ­¤æ—¶MappingProxyTypeå°±èƒ½æ´¾ä¸Šç”¨åœºã€‚ä½¿ç”¨MappingProxyTypeæ— éœ€åˆ›å»ºå®Œæ•´çš„å­—å…¸å‰¯æœ¬ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> types <span class="hljs-keyword">import</span> MappingProxyType<br><span class="hljs-meta">&gt;&gt;&gt; </span>writable = &#123;<span class="hljs-string">&#x27;one&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;two&#x27;</span>: <span class="hljs-number">2</span>,&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>readOnly = MappingProxyType(writable)<br><br><span class="hljs-comment"># ä»£ç†æ˜¯åªè¯»çš„</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>readOnly[<span class="hljs-string">&#x27;one&#x27;</span>]<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>readOnly[<span class="hljs-string">&#x27;one&#x27;</span>] = <span class="hljs-string">&#x27;one&#x27;</span><br>TypeError: <span class="hljs-string">&#x27;mappingproxy&#x27;</span> <span class="hljs-built_in">object</span> does <span class="hljs-keyword">not</span> support item assignment<br><br><span class="hljs-comment"># æ›´æ–°åŸå­—å…¸ä¹Ÿä¼šå½±å“ä»£ç†</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>writable[<span class="hljs-string">&#x27;one&#x27;</span>] = <span class="hljs-string">&#x27;one&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>readOnly<br>mappingproxy(&#123;<span class="hljs-string">&#x27;one&#x27;</span>: <span class="hljs-string">&#x27;one&#x27;</span>, <span class="hljs-string">&#x27;two&#x27;</span>: <span class="hljs-number">2</span>&#125;)<br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³types.MappingProxyTypeçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/types.html?highlight=types%20mappingproxytype#types.MappingProxyType">types.MappingProxyType</a></p><h2 id="è®°å½•ã€ç»“æ„ä½“å’Œçº¯æ•°æ®å¯¹è±¡">è®°å½•ã€ç»“æ„ä½“å’Œçº¯æ•°æ®å¯¹è±¡</h2><blockquote><p>ä¸æ•°ç»„ç›¸æ¯”ï¼Œè®°å½•æ•°æ®ç»“æ„ä¸­çš„å­—æ®µæ•°ç›®å›ºå®šï¼Œæ¯ä¸ªéƒ½æœ‰ä¸€ä¸ªåç§°ï¼Œç±»å‹ä¹Ÿå¯ä»¥ä¸åŒã€‚<br>ä»è¿™ä¸ªæ¦‚å¿µå‡ºå‘ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“åœ°å¯ä»¥æƒ³åˆ°ç”¨pythonä¸­çš„å­—å…¸æ¥å®ç°è®°å½•ï¼Œä¹Ÿå¯ä»¥ç”¨å…ƒç»„æ¥å®ç°æ²¡æœ‰å­—æ®µåç§°çš„ç‰¹æ®Šè®°å½•ã€‚ä½†æ˜¯å‰è€…çš„ç¼ºç‚¹æ˜¯æ²¡æœ‰å¯¹å­—æ®µåç§°è¿›è¡Œä¿æŠ¤ï¼Œåè€…åˆ™æ˜¯æ²¡æœ‰å­—æ®µåç§°ã€‚å¥½åœ¨pythonä¸­è¿˜æä¾›äº†ä¸€äº›æ•°æ®ç±»å‹æˆ–ç±»æ¥å¸®åŠ©å®ç°è¿™äº›æ•°æ®ç»“æ„ã€‚</p></blockquote><h3 id="collections-namedtupleâ€”â€”æ–¹ä¾¿çš„æ•°æ®å¯¹è±¡">collections.namedtupleâ€”â€”æ–¹ä¾¿çš„æ•°æ®å¯¹è±¡</h3><p>namedtupleå¯ä»¥çœ‹ä½œæ˜¯æ™®é€šå…ƒç»„çš„æ‹“å±•ï¼Œä¹Ÿæ˜¯ä¸å¯å˜å®¹å™¨ï¼Œä½†æ˜¯å®ƒçš„æ¯ä¸ªå­—æ®µéƒ½æœ‰åç§°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œnamedtupleæ˜¯<strong>å…·æœ‰åç§°çš„å…ƒç»„</strong>ã€‚<br>namedtupleéå¸¸é€‚åˆåœ¨pythonä¸­ä»¥èŠ‚çœå†…å­˜çš„æ–¹å¼å¿«é€Ÿæ‰‹åŠ¨å®šä¹‰ä¸€ä¸ªä¸å¯å˜çš„ç±»ï¼Œæ‰€ä»¥ä¹Ÿå¾ˆé€‚åˆç”¨äºå®ç°è®°å½•æ•°æ®ç±»å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> namedtuple<br><span class="hljs-meta">&gt;&gt;&gt; </span>Car = namedtuple(<span class="hljs-string">&#x27;Car&#x27;</span>, <span class="hljs-string">&#x27;color mileage automatic&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>car1 = Car(<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-number">3812.4</span>, <span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># å®ä¾‹çš„__repr__æ–¹æ³•</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1<br>Car(color=<span class="hljs-string">&#x27;red&#x27;</span>, mileage=<span class="hljs-number">3812.4</span>, automatic=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># è®¿é—®å­—æ®µ</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1.mileage<br><span class="hljs-number">3812.4</span><br><br><span class="hljs-comment"># å­—æ®µæ˜¯ä¸å¯å˜çš„</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1.mileage = <span class="hljs-number">12</span><br>AttributeError: can<span class="hljs-string">&#x27;t set attribute</span><br><span class="hljs-string">&gt;&gt;&gt; car1.windshield = &#x27;</span>broken<span class="hljs-string">&#x27;</span><br><span class="hljs-string">AttributeError: &#x27;</span>Ca<span class="hljs-string">r&#x27; object has no attribute &#x27;</span>windshield<span class="hljs-string">&#x27;</span><br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³namedtupleçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/collections.html?highlight=collections%20namedtuple#collections.namedtuple">collections.namedtuple</a></p><h3 id="typing-NamedTupleâ€”â€”æ”¹è¿›ç‰ˆnamedtuple">typing.NamedTupleâ€”â€”æ”¹è¿›ç‰ˆnamedtuple</h3><p>NamedTupleä¸namedtupleçš„ä¸»è¦åŒºåˆ«å°±åœ¨äºç”¨æ–°è¯­æ³•æ¥å®šä¹‰è®°å½•ç±»å‹å¹¶æ”¯æŒç±»å‹æ³¨è§£ï¼ˆtype hintï¼‰ã€‚</p><blockquote><p>æ³¨æ„ï¼Œåªæœ‰åƒmypyè¿™æ ·ç‹¬ç«‹çš„ç±»å‹æ£€æŸ¥å·¥å…·æ‰ä¼šåœ¨æ„ç±»å‹æ³¨è§£ã€‚ä¸è¿‡å³ä½¿æ²¡æœ‰å·¥å…·æ”¯æŒï¼Œç±»å‹æ³¨è§£ä¹Ÿå¯å¸®åŠ©å…¶ä»–ç¨‹åºå‘˜æ›´å¥½åœ°ç†è§£ä»£ç ï¼ˆå¦‚æœç±»å‹æ³¨è§£æ²¡æœ‰éšä»£ç åŠæ—¶æ›´æ–°åˆ™ä¼šå¸¦æ¥æ··ä¹±ï¼‰ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> NamedTuple<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">Car</span>(<span class="hljs-title class_ inherited__">NamedTuple</span>):<br>color: <span class="hljs-built_in">str</span><br>mileage: <span class="hljs-built_in">float</span><br>automatic: <span class="hljs-built_in">bool</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1 = Car(<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-number">3812.4</span>, <span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># å®ä¾‹çš„__repr__æ–¹æ³•</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1<br>Car(color=<span class="hljs-string">&#x27;red&#x27;</span>, mileage=<span class="hljs-number">3812.4</span>, automatic=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># è®¿é—®å­—æ®µ</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1.mileage<br><span class="hljs-number">3812.4</span><br><br><span class="hljs-comment"># å­—æ®µæ˜¯ä¸å¯å˜çš„</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1.mileage = <span class="hljs-number">12</span><br>AttributeError: can<span class="hljs-string">&#x27;t set attribute</span><br><span class="hljs-string">&gt;&gt;&gt; car1.windshield = &#x27;</span>broken<span class="hljs-string">&#x27;</span><br><span class="hljs-string">AttributeError: &#x27;</span>Ca<span class="hljs-string">r&#x27; object has no attribute &#x27;</span>windshield<span class="hljs-string">&#x27;</span><br><span class="hljs-string"></span><br><span class="hljs-string"># åªæœ‰åƒmypyè¿™æ ·çš„ç±»å‹æ£€æŸ¥å·¥å…·æ‰ä¼šè½å®ç±»å‹æ³¨è§£</span><br><span class="hljs-string">&gt;&gt;&gt; Car(&#x27;</span>red<span class="hljs-string">&#x27;, &#x27;</span>NOT_A_FLOAT<span class="hljs-string">&#x27;, 99)</span><br><span class="hljs-string">Car(color=&#x27;</span>red<span class="hljs-string">&#x27;, mileage=&#x27;</span>NOT_A_FLOAT<span class="hljs-string">&#x27;, automatic=99)</span><br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³NamedTupleçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/typing.html?highlight=typing%20namedtuple#typing.NamedTuple">typing.NamedTuple</a></p><h3 id="types-SimpleNamespaceâ€”â€”èŠ±å“¨çš„å±æ€§è®¿é—®">types.SimpleNamespaceâ€”â€”èŠ±å“¨çš„å±æ€§è®¿é—®</h3><p>SimpleNamespaceåŒæ ·å¯ä»¥ç”¨äºåˆ›å»ºæ•°æ®å¯¹è±¡ï¼Œå®ƒä¸»è¦æä¾›é€šè¿‡å±æ€§è®¿é—®çš„æ–¹å¼è®¿é—®å…¶åç§°ç©ºé—´ã€‚<br>ä¹Ÿå°±æ˜¯è¯´ï¼ŒSimpleNamespaceå®ä¾‹å°†å…¶ä¸­çš„æ‰€æœ‰é”®éƒ½å…¬å¼€ä¸ºç±»å±æ€§ã€‚å› æ­¤è®¿é—®å±æ€§æ—¶å¯ä»¥ä½¿ç”¨obj.keyè¿™æ ·çš„ç‚¹å¼è¯­æ³•ï¼Œä¸éœ€è¦åƒæ™®é€šå­—å…¸ä¸€æ ·é€šè¿‡ç´¢å¼•æ¥è®¿é—®å€¼ã€‚</p><blockquote><p>æ­£å¦‚å…¶åï¼ŒSimpleNamespaceå¾ˆç®€å•ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯æ‰©å±•ç‰ˆçš„å­—å…¸ï¼Œèƒ½å¤Ÿå¾ˆå¥½åœ°è®¿é—®å±æ€§å¹¶ä»¥å­—ç¬¦ä¸²æ‰“å°å‡ºæ¥ï¼Œè¿˜èƒ½è‡ªç”±åœ°æ·»åŠ ã€ä¿®æ”¹å’Œè®¿é—®å±æ€§ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> types <span class="hljs-keyword">import</span> SimpleNamespace<br><span class="hljs-meta">&gt;&gt;&gt; </span>car1 = SimpleNamespace(color = <span class="hljs-string">&#x27;red&#x27;</span>, mileage = <span class="hljs-number">3812.4</span>, automatic = <span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># å®ä¾‹çš„__repr__æ–¹æ³•</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1<br>namespace(color=<span class="hljs-string">&#x27;red&#x27;</span>, mileage=<span class="hljs-number">3812.4</span>, automatic=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># å®ä¾‹æ”¯æŒå±æ€§è®¿é—®å¹¶ä¸”æ˜¯å¯å˜çš„</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1.mileage = <span class="hljs-number">12</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>car1.windshield = <span class="hljs-string">&#x27;broken&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> car1.automatic<br><span class="hljs-meta">&gt;&gt;&gt; </span>car1<br>namespace(color=<span class="hljs-string">&#x27;red&#x27;</span>, mileage=<span class="hljs-number">12</span>, windshield=<span class="hljs-string">&#x27;broken&#x27;</span>)<br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³SimpleNamespaceçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/types.html?highlight=types%20simplenamespace#types.SimpleNamespace">types.SimpleNamespace</a></p><h3 id="ä¸ºä»€ä¹ˆæ²¡æœ‰struct-Structï¼Ÿ">ä¸ºä»€ä¹ˆæ²¡æœ‰struct.Structï¼Ÿ</h3><p>å› ä¸ºæˆ‘è®¤ä¸ºè¿™ä¸ªä¸œè¥¿å¤ªè¿‡é«˜çº§<s>ï¼ˆæ‡’ï¼‰</s>ï¼Œå¦‚åŒä¹¦ä¸­æ‰€è¯´ï¼šâ€œå¤§å¤šæ•°æƒ…å†µä¸‹è¿™éƒ½å±äºé«˜çº§ï¼ˆä¸”å¯èƒ½ä¸å¿…è¦çš„ï¼‰ä¼˜åŒ–ã€‚â€å¦‚æœæƒ³äº†è§£å¯ä»¥è‡ªè¡Œç¿»é˜…ç›¸å…³æ–‡æ¡£ã€‚</p><h2 id="é›†åˆå’Œå¤šé‡é›†åˆ">é›†åˆå’Œå¤šé‡é›†åˆ</h2><p><strong>é›†åˆ</strong>å«æœ‰ä¸€ç»„ä¸å«é‡å¤å…ƒç´ çš„<strong>æ— åº</strong>å¯¹è±¡ã€‚é›†åˆå¯ç”¨æ¥å¿«é€Ÿæ£€æŸ¥å…ƒç´ çš„åŒ…å«æ€§ï¼Œæ’å…¥æˆ–åˆ é™¤å€¼ï¼Œè®¡ç®—ä¸¤ä¸ªé›†åˆçš„å¹¶é›†æˆ–äº¤é›†ã€‚<br>åœ¨pythonä¸­ï¼Œé›†åˆå’Œå­—å…¸ä¸€æ ·ï¼Œä¹Ÿæ‹¥æœ‰è¯­æ³•ç³–ï¼šåˆ©ç”¨èŠ±æ‹¬å·è¡¨è¾¾å¼å°±å¯ä»¥å¿«é€Ÿåˆ›å»ºé›†åˆï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œå¦‚æœéœ€è¦åˆ›å»º<strong>ç©ºé›†</strong>ï¼ˆä¸å«ä»»ä½•å…ƒç´ çš„é›†åˆï¼‰ï¼Œå°±è¦ç”¨<code>set()</code>æ„é€ å‡½æ•°ï¼Œå¦‚æœç”¨ç©ºèŠ±æ‹¬å·<code>&#123;&#125;</code>çš„è¯ï¼Œåˆ›å»ºçš„æ˜¯ä¸€ä¸ªç©ºå­—å…¸ã€‚</p><h3 id="setâ€”â€”é¦–é€‰é›†åˆå®ç°">setâ€”â€”é¦–é€‰é›†åˆå®ç°</h3><p>setå°±æ˜¯Pythonä¸­çš„å†…ç½®é›†åˆå®ç°ï¼Œå¯ä»¥çœ‹æˆæ˜¯æœ€åŸºæœ¬çš„é›†åˆã€‚setç±»å‹æ˜¯å¯å˜çš„ï¼Œèƒ½å¤ŸåŠ¨æ€æ’å…¥å’Œåˆ é™¤å…ƒç´ ï¼Œæ‰€æœ‰å¯æ•£åˆ—çš„å¯¹è±¡éƒ½å¯ä»¥å­˜å‚¨åœ¨é›†åˆä¸­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>animal = &#123;<span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;bird&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;panda&#x27;</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">&#x27;cat&#x27;</span> <span class="hljs-keyword">in</span> animal<br><span class="hljs-literal">True</span><br><br><span class="hljs-comment"># intersectionæ–¹æ³•è¿”å›åŒ…å«å­˜åœ¨äºé›†åˆ x å’Œé›†åˆ y ä¸­çš„é¡¹ç›®çš„é›†åˆï¼ˆè¿”å›é›†åˆ x å’Œé›†åˆ y çš„äº¤é›†ï¼‰</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>my_pet = &#123;<span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;dog&#x27;</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>my_pet.intersection(animal)<br>&#123;<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>&#125;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>animal.add(<span class="hljs-string">&#x27;bat&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>animal<br>&#123;<span class="hljs-string">&#x27;dog&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>, <span class="hljs-string">&#x27;bat&#x27;</span>, <span class="hljs-string">&#x27;panda&#x27;</span>, <span class="hljs-string">&#x27;bird&#x27;</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">len</span>(animal)<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³setçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/stdtypes.html?highlight=set#set">set</a></p><h3 id="frozensetâ€”â€”ä¸å¯å˜é›†åˆ">frozensetâ€”â€”ä¸å¯å˜é›†åˆ</h3><p>å…¶å®çœ‹åå­—å°±çŸ¥é“è¿™æ˜¯ä»€ä¹ˆä¸œè¥¿å•¦ï¼Œå°±æ˜¯ä¸€ä¸ªé™æ€é›†åˆï¼Œé‡Œè¾¹çš„å…ƒç´ åªè¯»ä¸æ”¹ã€‚å› æ­¤frozensetæ˜¯å¯ç”¨ä½œå­—å…¸çš„é”®çš„ï¼ˆé™æ€ä¸”å¯æ•£åˆ—ï¼‰ï¼Œä¹Ÿå¯ä»¥æ”¾ç½®åœ¨å¦ä¸€ä¸ªé›†åˆä¸­ï¼Œè¿™äº›éƒ½æ˜¯setæ²¡åŠæ³•åšåˆ°çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>vowels = <span class="hljs-built_in">frozenset</span>(&#123;<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;i&#x27;</span>, <span class="hljs-string">&#x27;o&#x27;</span>, <span class="hljs-string">&#x27;u&#x27;</span>&#125;)<br><span class="hljs-meta">&gt;&gt;&gt; </span>vowels.add(<span class="hljs-string">&#x27;p&#x27;</span>)<br>AttributeError: <span class="hljs-string">&#x27;frozenset&#x27;</span> <span class="hljs-built_in">object</span> has no attribute <span class="hljs-string">&#x27;add&#x27;</span><br><br><span class="hljs-comment"># frozensetç”¨ä½œå­—å…¸é”®</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>d = &#123;<span class="hljs-built_in">frozenset</span>(&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;): <span class="hljs-string">&#x27;hello&#x27;</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>d[<span class="hljs-built_in">frozenset</span>(&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;)]<br><span class="hljs-string">&#x27;hello&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>key = <span class="hljs-built_in">frozenset</span>(&#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>&#125;)<br><span class="hljs-meta">&gt;&gt;&gt; </span>d[key]<br><span class="hljs-string">&#x27;hello&#x27;</span><br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³frozensetçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/stdtypes.html?highlight=frozenset#frozenset">frozenset</a></p><h3 id="collections-Counterâ€”â€”å¤šé‡é›†åˆ">collections.Counterâ€”â€”å¤šé‡é›†åˆ</h3><p>å…¶å®è¿™ä¸ªä¸œè¥¿ä¹Ÿéå¸¸ç®€å•ï¼Œå°±æ˜¯å…è®¸å‡ºç°é‡å¤å…ƒç´ ï¼ˆå…è®¸åœ¨é›†åˆä¸­å¤šæ¬¡å‡ºç°åŒä¸€ä¸ªå…ƒç´ ï¼‰çš„é›†åˆï¼Œå®ƒä¹Ÿå«åšèƒŒåŒ…ï¼ˆbagï¼‰ç±»å‹ã€‚</p><blockquote><p>å¦‚æœæ—¢è¦æ£€æŸ¥å…ƒç´ æ˜¯å¦ä¸ºé›†åˆçš„ä¸€éƒ¨åˆ†ï¼Œåˆè¦è®°å½•å…ƒç´ åœ¨é›†åˆä¸­å‡ºç°çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨åˆ°è¿™ä¸ªç±»å‹</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter<br><span class="hljs-meta">&gt;&gt;&gt; </span>inventory = Counter()<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>loot = &#123;<span class="hljs-string">&#x27;sword&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;bread&#x27;</span>: <span class="hljs-number">3</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>inventory.update(loot)<br><span class="hljs-meta">&gt;&gt;&gt; </span>inventory<br>Counter(&#123;<span class="hljs-string">&#x27;bread&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;sword&#x27;</span>: <span class="hljs-number">1</span>&#125;)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>more_loot = &#123;<span class="hljs-string">&#x27;sword&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;apple&#x27;</span>: <span class="hljs-number">1</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>inventory.update(more_loot)<br><span class="hljs-meta">&gt;&gt;&gt; </span>inventory<br>Counter(&#123;<span class="hljs-string">&#x27;bread&#x27;</span>: <span class="hljs-number">3</span>, <span class="hljs-string">&#x27;sword&#x27;</span>: <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;apple&#x27;</span>: <span class="hljs-number">1</span>&#125;)<br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³Counterçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/collections.html?highlight=counter#collections.Counter">collections.Counter</a></p><h2 id="æ ˆä¸é˜Ÿåˆ—">æ ˆä¸é˜Ÿåˆ—</h2><p><strong>æ ˆ</strong>æ˜¯å«æœ‰ä¸€ç»„å¯¹è±¡çš„å®¹å™¨ï¼Œæ”¯æŒå¿«é€Ÿ<strong>åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰<strong>çš„æ’å…¥ï¼ˆ<strong>å…¥æ ˆpush</strong>ï¼‰å’Œåˆ é™¤ï¼ˆ<strong>å‡ºæ ˆpop</strong>ï¼‰æ“ä½œã€‚<br><strong>é˜Ÿåˆ—</strong>åˆ™æ˜¯</strong>å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰</strong>ï¼Œæ’å…¥å’Œåˆ é™¤åˆ†åˆ«ç§°ä½œ<strong>å…¥é˜Ÿenqueue</strong>å’Œ<strong>å‡ºé˜Ÿdequeue</strong>ã€‚<br>å¯ä»¥å¾ˆå®¹æ˜“åœ°æƒ³åˆ°ç”¨pythonå†…ç½®çš„åˆ—è¡¨æ¥å®ç°ï¼Œä½†æ˜¯åˆ—è¡¨åªå¯¹éšæœºè®¿é—®çš„æ€§èƒ½å¥½ï¼Œå¯¹äºæ’å…¥å’Œåˆ é™¤å…ƒç´ åˆ™å·®ï¼Œæ‰€ä»¥pythonåœ¨è¿™æ–¹é¢è¿˜æä¾›äº†å¦å¤–çš„ç±»æ¥å®ç°ã€‚</p><h3 id="collections-dequeâ€”â€”å¿«é€Ÿä¸”ç¨³å¥çš„æ ˆ">collections.dequeâ€”â€”å¿«é€Ÿä¸”ç¨³å¥çš„æ ˆ</h3><p>dequeç±»å®ç°äº†ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ï¼Œæ‰€ä»¥å®ƒæ—¢å¯ä»¥ä½œä¸ºæ ˆä¹Ÿå¯ä»¥ä½œä¸ºé˜Ÿåˆ—ã€‚</p><blockquote><p>Pythonçš„dequeå¯¹è±¡ä»¥åŒå‘é“¾è¡¨å®ç°ï¼Œè¿™ä¸ºæ’å…¥å’Œåˆ é™¤å…ƒç´ æä¾›äº†å‡ºè‰²ä¸”ä¸€è‡´çš„æ€§èƒ½ï¼Œä½†æ˜¯éšæœºè®¿é—®ä½äºæ ˆä¸­é—´å…ƒç´ çš„æ€§èƒ½å¾ˆå·®ï¼Œè€—æ—¶ä¸ºO(n)ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> deque<br><span class="hljs-meta">&gt;&gt;&gt; </span>s = deque()<br><span class="hljs-meta">&gt;&gt;&gt; </span>s.append(<span class="hljs-string">&#x27;eat&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>s.append(<span class="hljs-string">&#x27;sleep&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>s.append(<span class="hljs-string">&#x27;code&#x27;</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>s<br>deque([<span class="hljs-string">&#x27;eat&#x27;</span>, <span class="hljs-string">&#x27;sleep&#x27;</span>, <span class="hljs-string">&#x27;code&#x27;</span>])<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.pop()<br><span class="hljs-string">&#x27;code&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.pop()<br><span class="hljs-string">&#x27;sleep&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.pop()<br><span class="hljs-string">&#x27;eat&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.pop()<br>IndexError: pop <span class="hljs-keyword">from</span> an empty deque<br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³dequeçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/collections.html?highlight=collections%20deque#collections.deque">collections.deque</a></p><h3 id="queue-LifoQueueâ€”â€”ä¸ºå¹¶è¡Œè®¡ç®—æä¾›çš„é”è¯­ä¹‰">queue.LifoQueueâ€”â€”ä¸ºå¹¶è¡Œè®¡ç®—æä¾›çš„é”è¯­ä¹‰</h3><p>queue.LifoQueueè¿™ä¸ªä½äºPythonæ ‡å‡†åº“ä¸­çš„æ ˆå®ç°æ˜¯åŒæ­¥çš„ï¼Œæä¾›äº†é”è¯­ä¹‰æ¥æ”¯æŒå¤šä¸ªå¹¶å‘çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚ï¼ˆå¯ä»¥å‚è€ƒä¸€ä¸‹PVæ“ä½œï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> queue <span class="hljs-keyword">import</span> LifoQueue<br><span class="hljs-meta">&gt;&gt;&gt; </span>s = LifoQueue()<br><span class="hljs-meta">&gt;&gt;&gt; </span>s.put(<span class="hljs-string">&#x27;eat&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>s.put(<span class="hljs-string">&#x27;sleep&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>s.put(<span class="hljs-string">&#x27;code&#x27;</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>s<br>&lt;queue.LifoQueue <span class="hljs-built_in">object</span> at <span class="hljs-number">0x000001E3F4D22430</span>&gt;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.get()<br><span class="hljs-string">&#x27;code&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.get()<br><span class="hljs-string">&#x27;sleep&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.get()<br><span class="hljs-string">&#x27;eat&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>s.get()<br><span class="hljs-comment"># é˜»å¡ï¼Œæ°¸è¿œåœåœ¨è¿™é‡Œ...</span><br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³LifoQueueçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/queue.html?highlight=queue%20lifoqueue#queue.LifoQueue">queue.LifoQueue</a></p><h3 id="collections-dequeâ€”â€”å¿«é€Ÿä¸”ç¨³å¥çš„é˜Ÿåˆ—">collections.dequeâ€”â€”å¿«é€Ÿä¸”ç¨³å¥çš„é˜Ÿåˆ—</h3><p>ä¸Šè¾¹å·²ç»ä»‹ç»è¿‡æ‰€ä»¥åœ¨è¿™é‡Œä¸é‡å¤å™è¿°äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> deque<br><span class="hljs-meta">&gt;&gt;&gt; </span>q = deque()<br><span class="hljs-meta">&gt;&gt;&gt; </span>q.append(<span class="hljs-string">&#x27;eat&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>q.append(<span class="hljs-string">&#x27;sleep&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>q.append(<span class="hljs-string">&#x27;code&#x27;</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>q<br>deque([<span class="hljs-string">&#x27;eat&#x27;</span>, <span class="hljs-string">&#x27;sleep&#x27;</span>, <span class="hljs-string">&#x27;code&#x27;</span>])<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>q.popleft()<br><span class="hljs-string">&#x27;eat&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>q.popleft()<br><span class="hljs-string">&#x27;sleep&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>q.popleft()<br><span class="hljs-string">&#x27;code&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>q.popleft()<br>IndexError: pop <span class="hljs-keyword">from</span> an empty deque<br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³dequeçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/collections.html?highlight=collections%20deque#collections.deque">collections.deque</a></p><h3 id="queue-Queueâ€”â€”ä¸ºå¹¶è¡Œè®¡ç®—æä¾›çš„é”è¯­ä¹‰">queue.Queueâ€”â€”ä¸ºå¹¶è¡Œè®¡ç®—æä¾›çš„é”è¯­ä¹‰</h3><p>å‚è€ƒLifoQueueã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> queue <span class="hljs-keyword">import</span> Queue<br><span class="hljs-meta">&gt;&gt;&gt; </span>q = Queue()<br><span class="hljs-meta">&gt;&gt;&gt; </span>q.put(<span class="hljs-string">&#x27;eat&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>q.put(<span class="hljs-string">&#x27;sleep&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>q.put(<span class="hljs-string">&#x27;code&#x27;</span>)<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>q<br>&lt;queue.Queue <span class="hljs-built_in">object</span> at <span class="hljs-number">0x0000026060A55FA0</span>&gt;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>q.get()<br><span class="hljs-string">&#x27;eat&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>q.get()<br><span class="hljs-string">&#x27;sleep&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>q.get()<br><span class="hljs-string">&#x27;code&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>q.get()<br><span class="hljs-comment"># é˜»å¡ï¼Œæ°¸è¿œåœåœ¨è¿™é‡Œ...</span><br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³Queueçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3/library/queue.html?highlight=queue%20queue#queue.Queue">queue.Queue</a></p><h2 id="ä¼˜å…ˆé˜Ÿåˆ—">ä¼˜å…ˆé˜Ÿåˆ—</h2><p>ä¼˜å…ˆé˜Ÿåˆ—æ˜¯ä¸€ä¸ªå®¹å™¨æ•°æ®ç»“æ„ï¼Œä½¿ç”¨å…·æœ‰<a href="zh.wikipedia.org/zh-hans/%E5%85%A8%E5%BA%8F%E5%85%B3%E7%B3%BB">å…¨åºå…³ç³»</a>çš„é”®ï¼ˆä¾‹å¦‚ç”¨æ•°å€¼è¡¨ç¤ºçš„æƒé‡ï¼‰æ¥ç®¡ç†å…ƒç´ ï¼Œä»¥ä¾¿å¿«é€Ÿè®¿é—®å®¹å™¨ä¸­é”®å€¼<strong>æœ€å°</strong>æˆ–<strong>æœ€å¤§</strong>çš„å…ƒç´ ã€‚<br>æ‰€ä»¥è¯´pythonçš„åˆ—è¡¨æŒºå…¨èƒ½äº†ï¼Œç”šè‡³ä¹Ÿèƒ½å½“ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåªä¸è¿‡æ¯æ¬¡æ·»åŠ æ–°å…ƒç´ æ—¶ï¼Œéƒ½è¦é‡æ–°æ’åºã€‚<br>å½“ç„¶äº†ï¼Œä¹Ÿæœ‰å…¶ä»–åŠæ³•å®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€‚</p><h3 id="heapqâ€”â€”åŸºäºåˆ—è¡¨çš„äºŒå‰å †">heapqâ€”â€”åŸºäºåˆ—è¡¨çš„äºŒå‰å †</h3><p>heapqæ˜¯äºŒå‰å †ï¼Œé€šå¸¸ç”¨æ™®é€šåˆ—è¡¨å®ç°ï¼Œèƒ½åœ¨O(logn)æ—¶é—´å†…æ’å…¥å’Œè·å–æœ€å°çš„å…ƒç´ ã€‚</p><blockquote><p>ç”±äºheapqåœ¨æŠ€æœ¯ä¸Šåªæä¾›æœ€å°å †å®ç°ï¼Œå› æ­¤å¿…é¡»æ·»åŠ é¢å¤–æ­¥éª¤æ¥ç¡®ä¿æ’åºç¨³å®šæ€§ï¼Œä»¥æ­¤æ¥è·å¾—â€œå®é™…â€çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­æ‰€å«æœ‰çš„é¢„æœŸç‰¹æ€§ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> heapq<br><br>q = []<br>heapq.heappush(q, (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;code&#x27;</span>))<br>heapq.heappush(q, (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;eat&#x27;</span>))<br>heapq.heappush(q, (<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;sleep&#x27;</span>))<br><br><span class="hljs-keyword">while</span> q:<br>    next_item = heapq.heappop(q)<br>    <span class="hljs-built_in">print</span>(next_item)<br><br><span class="hljs-comment"># è¾“å‡ºå¦‚ä¸‹</span><br><span class="hljs-comment"># (1, &#x27;eat&#x27;)</span><br><span class="hljs-comment"># (2, &#x27;code&#x27;)</span><br><span class="hljs-comment"># (3, &#x27;sleep&#x27;)</span><br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³heapqçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3.9/library/heapq.html?highlight=heapq#module-heapq">heapq</a></p><h3 id="queue-PriorityQueueâ€”â€”ç¾ä¸½çš„ä¼˜å…ˆçº§é˜Ÿåˆ—">queue.PriorityQueueâ€”â€”ç¾ä¸½çš„ä¼˜å…ˆçº§é˜Ÿåˆ—</h3><p>å…¶å®è¿™ä¸ªç±»å°±æ˜¯åœ¨å†…éƒ¨ä½¿ç”¨äº†heapqæ¥å®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œç›¸å½“äºè®©ç¨‹åºå‘˜çœ‹èµ·æ¥æ›´å®¹æ˜“æ˜ç™½ã€‚è€Œä¸”å®ƒæ˜¯åŸºäºç±»çš„æ¥å£ï¼Œè€Œä¸åƒheapqæ˜¯åŸºäºå‡½æ•°çš„æ¥å£ã€‚</p><blockquote><p>PriorityQueueæ˜¯åŒæ­¥çš„ï¼Œæä¾›äº†é”è¯­ä¹‰æ¥æ”¯æŒå¤šä¸ªå¹¶å‘çš„ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> queue <span class="hljs-keyword">import</span> PriorityQueue<br><br>q = PriorityQueue()<br>q.put((<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;code&#x27;</span>))<br>q.put((<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;eat&#x27;</span>))<br>q.put((<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;sleep&#x27;</span>))<br><br><span class="hljs-keyword">while</span> <span class="hljs-keyword">not</span> q.empty():<br>    next_item = q.get()<br>    <span class="hljs-built_in">print</span>(next_item)<br><br><span class="hljs-comment"># è¾“å‡ºå¦‚ä¸‹</span><br><span class="hljs-comment"># (1, &#x27;eat&#x27;)</span><br><span class="hljs-comment"># (2, &#x27;code&#x27;)</span><br><span class="hljs-comment"># (3, &#x27;sleep&#x27;)</span><br></code></pre></td></tr></table></figure><p>æƒ³äº†è§£æ›´å¤šæœ‰å…³PriorityQueueçš„çŸ¥è¯†ï¼Œå¯ä»¥ç¿»é˜…å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/3.9/library/queue.html?highlight=queue%20priorityqueue#queue.PriorityQueue">queue.PriorityQueue</a></p><h1>å°¾å£°</h1><p>åœ¨æˆ‘ä¸æ–­åœ°æ‹–å»¶ç—‡å‘ä½œä¸‹æ¼«é•¿çš„æ›´æ–°ç»ˆäºç»“æŸå•¦è›¤è›¤è›¤é©¬ä¸Šå°±æœ‰åˆä¼šæ¥ç€æ›´æ–°çš„ç°åœ¨å°±å…ˆè¿™æ ·å•¦</p><hr><p>å‚è€ƒä¹¦ç›®ï¼š ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾</p>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>PYQT6ç–‘éš¾æ‚ç—‡è§£å†³æ–¹æ¡ˆ</title>
    <link href="/2022/06/15/pyqt-essay-1/"/>
    <url>/2022/06/15/pyqt-essay-1/</url>
    
    <content type="html"><![CDATA[<h1>å‰è¨€</h1><p>è°èƒ½æƒ³åˆ°è¯¾ç¨‹è®¾è®¡è¦ç”¨pyqt+qtæ¥å†™å‘¢ï¼Ÿæˆ‘æ˜¯æ²¡æƒ³åˆ°çš„ã€‚è¿˜å¥½æ˜¯è€å¸ˆä¼šç»™è¯¾ä»¶ï¼Œè¿™ä¸‹ä¸€å‘¨é€Ÿé€šäº†ã€‚é—®é¢˜æ˜¯è€å¸ˆç»™çš„pyqt5ï¼Œè€Œæˆ‘ä½œæ­»ç”¨pyqt6å¯¼è‡´è‡ªå·±ç¢°ä¸€å¤§å †å£ã€‚<br>æ‰€ä»¥è¿™ç¯‡éšç¬”å°±æ˜¯æŠŠç¢°çš„å£æ•´åˆä¸€ä¸‹ï¼Œä¸çŸ¥é“ä»¥åæœ‰æ²¡æœ‰æœºä¼šç”¨åˆ°ï¼ˆè™½ç„¶æˆ‘å¹¶ä¸æ˜¯å¾ˆå–œæ¬¢ç”¨pythonæ¥å¹²è¿™ç§äº‹æƒ…ï¼ˆæŒ‡å†™GUIå’Œæ“ä½œæ•°æ®åº“ï¼‰ï¼‰ã€‚</p><h1>æ­£æ–‡</h1><h2 id="QPalette-setColor">QPalette.setColor</h2><p>åœ¨pyqt5é‡Œè¾¹ï¼Œæ˜¯è¿™ä¹ˆå†™çš„ï¼š<code>palette1.setColor(palette1.Background, QtGui.QColor(255,  210,  210))</code><br>ä½†æ˜¯åœ¨pyqt6é‡Œè¾¹ï¼Œå¤šäº†ä¸¤ä¸ªä¸œè¥¿ï¼ŒColorRole å’Œ ColorGroupï¼Œè¿™å°±å¯¼è‡´ä½ è¦è¿™ä¹ˆå†™ï¼š<code>palette1.setColor(palette1.ColorRole.Window, QtGui.QColor('gray'))</code><br>ä¸Šè¾¹çš„Backgroundæ˜¯è¢«å¼ƒç”¨äº†çš„ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯Windowï¼Œè€ŒWindowå½’äºColorRoleï¼Œæ‰€ä»¥å†™æ³•å¤§å¤§åœ°ä¸åŒï¼ˆé—·äº†ï¼‰ã€‚</p><div class="note note-warning">            <p>è®¾ç½®æŸäº›æ§ä»¶çš„å­—ä½“é¢œè‰²çš„æ—¶å€™ä¸è¦ç”¨è°ƒè‰²ç›˜ï¼ï¼ï¼æ¯”å¦‚QLabelå’ŒQPlainTextEditï¼Œç”¨ä»–ä»¬è‡ªå¸¦çš„<code>setStyleSheet()</code>ï¼Œå‘é‡Œé¢ä¼ å­—ç¬¦ä¸²<code>&quot;color: xx&quot;</code>ï¼Œxxæ›¿æ¢æˆç›¸åº”é¢œè‰²ã€‚</p>          </div><h2 id="å…³äºé¼ æ ‡ç›¸å…³çš„äº‹ä»¶">å…³äºé¼ æ ‡ç›¸å…³çš„äº‹ä»¶</h2><p>å…¶å®æ¯ä¸ªç»„ä»¶éƒ½å·²ç»å†™å¥½äº†ç›¸å…³äº‹ä»¶ï¼Œåªä¸è¿‡æœ‰äº›ç»„ä»¶æœ¬æ¥å°±æ²¡å¿…è¦å’Œé¼ æ ‡è¿›è¡Œäº¤äº’å½“ç„¶ä¸ä¼šè§¦å‘ç›¸å…³äº‹ä»¶ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå·±ç¼–å†™è‡ªå·±çš„ç±»ï¼Œé€šè¿‡ç»§æ‰¿å’Œé‡è½½æ¥å¯¹é¼ æ ‡çš„ä¿¡å·ä½œå‡ºååº”ã€‚<br>å’Œé¼ æ ‡äº‹ä»¶æœ‰å…³çš„æ–¹æ³•æœ‰ï¼š<code>mousePressEvent(self, event)</code>ã€<code>wheelEvent(self, event)</code>ã€<code>mouseDoubieCiickEvent(self, event)</code>ã€<code>mouseReleaseEvent(self, event)</code>ã€<code>mouseMoveEvent(self, event)</code>ã€<code>enterEvent(self, event)</code>å’Œ<code>leaveEvent(self, event)</code>ã€‚<br>åˆ†åˆ«æ˜¯ï¼šé¼ æ ‡æŒ‰ä¸‹äº‹ä»¶ã€æ»šè½®æ»šåŠ¨äº‹ä»¶ã€é¼ æ ‡åŒå‡»äº‹ä»¶ã€é¼ æ ‡é‡Šæ”¾äº‹ä»¶ã€é¼ æ ‡ç§»åŠ¨äº‹ä»¶ã€é¼ æ ‡è¿›å…¥æ§ä»¶äº‹ä»¶å’Œé¼ æ ‡ç¦»å¼€æ§ä»¶äº‹ä»¶ã€‚é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶ä¸­å¯ä»¥é€šè¿‡eventæ¥è·å–å…·ä½“æŒ‰ä¸‹çš„é”®å†æ¥é…ç½®æ›´è¯¦ç»†çš„æ“ä½œã€‚</p><div class="note note-warning">            <p>å¦‚æœè¦å®ç°å®æ—¶ç›‘æµ‹é¼ æ ‡ç§»åŠ¨ï¼Œéœ€è¦<code>setMouseTracking(True)</code>ï¼Œå¦åˆ™åªä¼šåœ¨<code>mousePress</code>çš„æ—¶å€™è§¦å‘é¼ æ ‡ç§»åŠ¨äº‹ä»¶ã€‚</p>          </div><h2 id="å…³äºpyqt6æŠŠpyrccåˆ é™¤äº†è¿™ä»¶äº‹">å…³äºpyqt6æŠŠpyrccåˆ é™¤äº†è¿™ä»¶äº‹</h2><p>è€å¸ˆç»™çš„è¯¾ä»¶ç”¨çš„æ˜¯pyqt5ï¼Œæ­¤æ—¶è¿˜å­˜åœ¨pyrcc5è¿™ç§ä¸œè¥¿ï¼Œä½†æ˜¯åˆ°äº†6èƒ½ç¼–è¯‘èµ„æºæ–‡ä»¶çš„pyrccå°±æƒ¨é­é˜‰å‰²ï¼ˆè¯¯ï¼‰ã€‚ç»“æœå¼„åˆ°æˆ‘åœ¨è¿™é‡Œå¡äº†æŒºä¹…ï¼Œæ‰¾äº†ä¸ªä»€ä¹ˆpyqt6rcè£…ä¸€ä¸‹ä¸ä»…æ²¡ç”¨è¿˜æŠŠæˆ‘pyqt6æå´©äº†ï¼Œéƒé—·ã€‚<br>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨pyside6-rccè¿›è¡Œç¼–è¯‘ï¼ˆæˆ‘æ˜¯æ²¡æƒ³åˆ°çš„ï¼‰ã€‚æˆ‘ä»¬éœ€è¦å…ˆå®‰è£…pyside6ï¼š<code>pip install pyside6</code>ï¼Œå®‰è£…æˆåŠŸåï¼Œè¿›å…¥åˆ°èµ„æºæ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹ä¸­ï¼Œä½¿ç”¨å‘½ä»¤ï¼š<code>pyside6-rcc res.qrc -o res.py</code>å³å¯ç¼–è¯‘ã€‚<br>ä½†æ˜¯pyuic6ç¼–è¯‘åçš„pyæ–‡ä»¶ä¸­ä¸ä¼šè‡ªå¸¦<code>import res</code>ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å†™è¿›å»ã€‚</p><h2 id="å…³äºæˆ‘çš„ç”µè„‘æ—¶åŒºä¸ºäº†ç™»ä¸Šxboxæ”¹æˆäº†é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒºç»“æœæ•°å­—å…¨æ˜¾ç¤ºæˆè‹å·ç å­è¿™ä»¶äº‹">å…³äºæˆ‘çš„ç”µè„‘æ—¶åŒºä¸ºäº†ç™»ä¸Šxboxæ”¹æˆäº†é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒºç»“æœæ•°å­—å…¨æ˜¾ç¤ºæˆè‹å·ç å­è¿™ä»¶äº‹</h2><p>å¦‚æœä½ å‘ç°æ•°å­—æ˜¾ç¤ºæˆè‹å·ç å­ï¼šã€¡ã€¢ã€£ã€¤ã€¥ã€¦ã€§ã€¨ã€©<br>æŠŠç”µè„‘æ—¶åŒºæ”¹å›æ¥ï¼å…·ä½“æ“ä½œï¼šæ§åˆ¶é¢æ¿ -&gt; æ—¶é’Ÿå’ŒåŒºåŸŸ -&gt; åŒºåŸŸï¼Œæ ¼å¼æ”¹æˆï¼šä¸­æ–‡(ç®€ä½“ï¼Œä¸­å›½)ã€‚</p><h2 id="å…³äºpyCharmè¯»å–æ•°æ®åº“æˆ–æ–‡ä»¶å¯¼è‡´ç¨‹åºå´©æºƒæŠ¥é”™-1073740791-0xC0000409">å…³äºpyCharmè¯»å–æ•°æ®åº“æˆ–æ–‡ä»¶å¯¼è‡´ç¨‹åºå´©æºƒæŠ¥é”™-1073740791 (0xC0000409)</h2><p>èœå•æ Run -&gt; Edit Configurationï¼ŒæŠŠEmulate terminal in output consoleå‹¾é€‰ä¸Šã€‚</p><h2 id="å…³äºpyqt6é‡Œè¾¹æšä¸¾ç±»å‹æ˜¯ï¼šç±»å-æšä¸¾å-æšä¸¾å€¼è¿™ä»¶äº‹">å…³äºpyqt6é‡Œè¾¹æšä¸¾ç±»å‹æ˜¯ï¼šç±»å.æšä¸¾å.æšä¸¾å€¼è¿™ä»¶äº‹</h2><p>ç®€å•çš„ä¾‹å­ï¼Œpyqt5é‡Œè¾¹ï¼š<code>self.tabModel.setEditStrategy(QSqlTableModel.OnManualSubmit)</code>ï¼Œpyqt6é‡Œè¾¹ï¼š<code>self.tabModel.setEditStrategy(QSqlTableModel.EditStrategy.OnManualSubmit)</code><br>å°±è¿™ä¹ˆç®€å•ã€‚è™½ç„¶è€å¸ˆæé†’è¿‡äº†ä½†æ˜¯æˆ‘ä¸€å¼€å§‹æ ¹æœ¬å°±æ²¡æƒ³åˆ°è¿™é‡Œé¢æ˜¯æšä¸¾ã€‚æŸ¥æ–‡æ¡£çœ‹åˆ°çš„ç¡®å­˜åœ¨è¿™ç§å±æ€§ï¼Œç„¶ååˆå¿½ç•¥äº†æšä¸¾ã€‚é—·äº†å¾ˆä¹…ï¼Œçªç„¶å°±çµå…‰ä¸€é—ªè¿™ä¸æ˜¯æšä¸¾å€¼å—ï¼Œä¸ä¼šæ˜¯æšä¸¾çš„é”…å§ï¼ç„¶åå°±è§£å†³äº†ã€‚ã€‚ã€‚</p><h2 id="å…³äºæŸäº›æ—¶å€™ä¸€äº›è¡Œä¸ºè§¦å‘ä¸¤æ¬¡ç›¸åŒçš„æ§½å‡½æ•°è¿™ä»¶äº‹">å…³äºæŸäº›æ—¶å€™ä¸€äº›è¡Œä¸ºè§¦å‘ä¸¤æ¬¡ç›¸åŒçš„æ§½å‡½æ•°è¿™ä»¶äº‹</h2><p>æœ¬æ¥æ˜¯ä¸æƒ³ç®¡çš„ï¼Œä½†æ˜¯openä¸¤æ¬¡æ•°æ®åº“å°±ç›´æ¥ç‚¸äº†å•Šæˆ‘èƒ½ä¸ç®¡å—ï¼Ÿæœ€ç®€å•çš„è§£å†³åŠæ³•ï¼šç»™æ§½å‡½æ•°ä¸Š@pyqtSlot()è£…é¥°å™¨ã€‚</p><h2 id="å…³äºQSqlTableModeã€QSqlQueryModelã€QSqlRelationalTableModeã€QSqlQueryè¿™å››ä¸ªä¸œè¥¿ç”¨æ¥å¹²å˜›">å…³äºQSqlTableModeã€QSqlQueryModelã€QSqlRelationalTableModeã€QSqlQueryè¿™å››ä¸ªä¸œè¥¿ç”¨æ¥å¹²å˜›</h2><p>åœ¨è¯¾ä»¶é‡Œè¾¹ï¼Œè€å¸ˆæ˜¯è¿™ä¹ˆç”¨çš„ï¼š<code>QSqlTableMode</code>ç”¨æ¥å†™äº†å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æŸ¥æ”¹ç­‰æ“ä½œçš„ç•Œé¢ï¼Œ<code>QSqlQueryModel</code>ç”¨æ¥å†™å¯¹æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢çš„ç•Œé¢ï¼Œä»è¿™é‡Œè¾¹æˆ‘ä»¬å°±èƒ½å¾ˆå¥½åœ°æ€»ç»“å‡ºï¼šå‰è€…å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™æ“ä½œï¼Œè€Œåè€…å¯¹æ•°æ®åº“æ˜¯åªè¯»çš„ã€‚<br>åœ¨ç½‘ç»œä¸Šä¹Ÿæ‰¾äº†ä¸€ç‚¹è¯´æ³•ï¼š</p><blockquote><p>æä¾›äº†ä¸€ä¸ªsqlæŸ¥è¯¢ç»“æœçš„åªè¯»æ•°æ®æ¨¡å‹ã€‚å®ƒä»æŸ¥è¯¢QSqlQueryModelè·å–æ•°æ®ã€‚å¯ä»¥æ–¹ä¾¿çš„ç”¨äºåœ¨QListView, QTableView, QTreeViewç­‰å„ç§viewä¸Šå±•ç¤ºæ•°æ®ã€‚ä½†å®ƒæ˜¯åªè¯»çš„ï¼Œä¸èƒ½ç¼–è¾‘ã€‚<br>ç»§æ‰¿äºQSqlQueryModelï¼Œä¸QSqlQueryModelåŠŸèƒ½ç›¸ä¼¼ã€‚æ¯”QSqlQueryModelçš„é™åˆ¶åœ¨äºä¸èƒ½æ˜¯ä»»æ„sqlè¯­å¥ï¼Œåªæ˜¯å¯¹å•ä¸ªæ•°æ®è¡¨æ“ä½œã€‚æ‹“å±•åœ¨äºåœ¨å„ç§viewä¸Šå±•ç¤ºè¡¨æ ¼æ•°æ®çš„åŒæ—¶ï¼Œè¿˜å…è®¸ç”¨æˆ·è¿›è¡Œç¼–è¾‘æ“ä½œã€‚</p></blockquote><p>é‚£<code>QSqlRelationalTableMode</code>æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„å‘¢ï¼Ÿåœ¨è¯¾ä»¶é‡Œè¾¹ï¼Œå®ƒè¢«ç”¨æ¥åšä¾¿æ·çš„è”åˆæŸ¥è¯¢æ“ä½œï¼ˆä¹Ÿå¯ä»¥å¯¹æ•°æ®è¡¨è¿›è¡Œæ“ä½œï¼‰ï¼Œä¸”å¯ä»¥å¿«é€Ÿè®¾ç½®ä»£ç†ç»„ä»¶è€Œä¸éœ€è¦è‡ªå·±æ‰‹å†™ã€‚<br>è¿˜æœ‰æœ€åä¸€ä¸ª<code>QSqlQuery</code>ï¼Œç®€å•åœ°è¯´å°±æ˜¯ç”¨æ¥æ‰§è¡Œsqlè¯­å¥çš„ã€‚</p><h2 id="å…³äºpyqt6é‡Œçš„QChartæ²¡æœ‰axisX-è¿™ä¸ªä¸œè¥¿">å…³äºpyqt6é‡Œçš„QChartæ²¡æœ‰axisX()è¿™ä¸ªä¸œè¥¿</h2><p>è¿™æ˜¯è¯¾ä»¶é‡Œpyqt5çš„åšæ³•:<code>chart.removeAxis(chart.axisX())  # åˆ é™¤åæ ‡è½´</code><br>ä½†æ˜¯pyqt6ä»–æ²¡æœ‰å•Šï¼Œä»–åˆæ²¡æœ‰äº†å•Šï¼æ‰¾äº†åŠå¤©æœ‰ä¸ªå¯ä»¥è¿”å›å…¨éƒ¨åæ ‡è½´åˆ—è¡¨çš„æ–¹æ³•ï¼Œäºæ˜¯æˆ‘æ”¹æˆäº†ä¸‹è¾¹çš„å†™æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> chart.axes():<br>    <span class="hljs-keyword">for</span> axis <span class="hljs-keyword">in</span> chart.axes():<br>        chart.removeAxis(axis)  <span class="hljs-comment"># åˆ é™¤åæ ‡è½´</span><br></code></pre></td></tr></table></figure><p>ä½ ä»¥ä¸ºå°±ç»“æŸäº†å•Šï¼Ÿä½ è¦æŠŠåæ ‡è½´åŠ ä¸Šå»ç”¨çš„ä¹Ÿä¸æ˜¯<code>setAxisX()</code>è€Œæ˜¯<code>addAxis()</code>äº†ã€‚è¯¦ç»†å¯¹æ¯”ä¸‹é¢ä¸¤å¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">chart.addAxis(axisStud, Qt.AlignmentFlag.AlignLeft)  <span class="hljs-comment"># pyqt6å†™æ³•</span><br>chart.setAxisY(axisStud, seriesBar)  <span class="hljs-comment"># pyqt5å†™æ³•</span><br></code></pre></td></tr></table></figure><h1>ç»“è¯­</h1><p>åšå®Œè¯¾è®¾äººå·²ç»éº»äº†ï¼Œè°¢è°¢ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>PyQt6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonéšç¬”-4</title>
    <link href="/2022/06/13/python-essay-4/"/>
    <url>/2022/06/13/python-essay-4/</url>
    
    <content type="html"><![CDATA[<h1>å‰è¨€</h1><p>ä¸´è¿‘æœŸæœ«å‘¨äº†ï¼Œæ‰€ä»¥äººä¹Ÿé—²ä¸‹æ¥ä¸€ç‚¹äº†ã€‚ä»€ä¹ˆï¼Ÿä½ é—®æˆ‘æœŸæœ«ä¸å¤ä¹ å—ï¼Ÿå•Šï¼ŒæŒ‚ç§‘å˜›ï¼Œä¸è¦ç´§çš„ï¼ˆè¿«çœŸ<br>åˆšå¥½Matplotlibå¯èƒ½åœ¨æŸäº›åœ°æ–¹è¦ç”¨ä¸Šï¼ŒæŸæœ¬ä¹¦ä¸Šä¹Ÿæœ‰è®²ä¾‹å­ï¼Œå°±è·‘æ¥å­¦å­¦äº†ã€‚è¿™ç¯‡éšç¬”ä¼°è®¡éå¸¸æ‚ï¼Œå…³äºMatplotlibçš„ä»€ä¹ˆä¸œè¥¿éƒ½å¯èƒ½æ‰”ä¸Šæ¥wwwï¼Œä¸è¿‡æœ‰ç›®å½•åº”è¯¥ä¼šæ¸…æ™°è®¸å¤šã€‚</p><h1>æ­£æ–‡</h1><h2 id="Matplotlibçš„å®‰è£…">Matplotlibçš„å®‰è£…</h2><p>CMDæ‰§è¡Œpipå‘½ä»¤ï¼š<code>pip install --user matplotlib</code><br>ç»ˆç«¯æ‰§è¡Œpipå‘½ä»¤ï¼š<code>$ python -m pip install --user matplotlib</code></p><div class="note note-warning">            <p>åœ¨macOSç³»ç»Ÿä¸­ï¼Œè‹¥æ“ä½œä¸æˆåŠŸï¼Œè¯·å°è¯•åˆ å»â€“userå†æ¬¡æ‰§è¡Œã€‚</p>          </div><p>åœ¨pyCharmä¸­ï¼Œç”¨çš„è§£é‡Šå™¨å¯èƒ½æ˜¯è™šæ‹Ÿç¯å¢ƒä¸­çš„è§£é‡Šå™¨ï¼Œå¯æŒ‰å¦‚ä¸‹æ­¥éª¤å®‰è£…Matplotlibï¼š<br>File -&gt; Settings -&gt; Project: Project Name -&gt; Project Interpreter<br><img src="https://s1.ax1x.com/2022/06/13/XRmj1A.png" alt="1-1"><br><img src="https://s1.ax1x.com/2022/06/13/XRmv6I.png" alt="1-2"><br>ç‚¹å‡» + å·ï¼Œç„¶ååœ¨æœç´¢æ¡†ä¸­è¾“å…¥Matplotlibï¼Œé€‰ä¸­åå®‰è£…å³å¯ã€‚<br><img src="https://s1.ax1x.com/2022/06/13/XRmxXt.png" alt="1-3"></p><div class="note note-info">            <p>pyCharmæ‡’ç‹—å‹å®‰è£…æ–¹æ³•ï¼šç›´æ¥åœ¨pythonæ–‡ä»¶ä¸­å…ˆç”¨importå¯¼å…¥matplotlibåŒ…ï¼Œä¼šæŠ¥é”™ï¼Œé¼ æ ‡æ”¾åˆ°importä»£ç ä¸Šä¼šæ˜¾ç¤ºæµ®åŠ¨çª—å£ï¼Œæœ‰ç›´æ¥å®‰è£…æ“ä½œã€‚</p>          </div><div class="note note-info">            <p>å¦‚æœpyCharmæŠŠmatplotlibé»˜è®¤è¾“å‡ºåˆ°Sciviewäº†ï¼Œè€Œä½ åˆä¸æƒ³è¿™ä¹ˆåšï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡<strong>Settings -&gt; Tools -&gt; Python Scientific</strong>æ‰¾åˆ°<strong>Show plots in toolwindow</strong>é€‰é¡¹ï¼Œå–æ¶ˆå‹¾é€‰å³å¯ã€‚</p>          </div><h2 id="Matplotlibçš„å¯¼å…¥">Matplotlibçš„å¯¼å…¥</h2><p><code>import matplotlib.pyplot as plt</code><br>ä½¿ç”¨åˆ«åpltæ˜¯å› ä¸ºå®˜æ–¹è¿™ä¹ˆç”¨æ‰€ä»¥è·Ÿé£ï¼ˆbushiï¼‰å°±å®Œäº‹äº†</p><h2 id="Matplotlibè¾“å‡ºä¸­æ–‡">Matplotlibè¾“å‡ºä¸­æ–‡</h2><p>å»ºè®®ä¸è¦ä½¿ç”¨Matplotlibè¾“å‡ºä¸­æ–‡ï¼ˆæ¯”å¦‚å›¾è¡¨æ ‡é¢˜ï¼‰ä»¥é¿å…å‡ºç°æ— æ³•æ­£ç¡®æ˜¾ç¤ºæ–‡å­—çš„é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿä¸æ˜¯æ²¡æœ‰åŠæ³•ã€‚<br>è¾“å…¥è¿™è¡Œä»£ç å³å¯ï¼š<code>plt.rcParams['font.sans-serif'] = ['SimHei']</code><br>SimHeiæ˜¯å¾®è½¯é›…é»‘å­—ä½“ã€‚</p><div class="note note-warning">            <p>å¦‚æœè¿˜éœ€è¦æ‰§è¡Œå…¶ä»–ä»£ç å¦‚è®¾ç½®æ ·å¼ï¼š<code>plt.style.use('seaborn')</code>ï¼Œè¯·åœ¨è¿™ä¸€ç³»åˆ—ä»£ç æœ€åé¢åŠ å…¥å­—ä½“è®¾ç½®ä»£ç ï¼Œå¦åˆ™æœ‰å¯èƒ½å‡ºç°ä»ç„¶æ— æ³•æ˜¾ç¤ºä¸­æ–‡å­—ä½“çš„é—®é¢˜ã€‚</p>          </div><h2 id="ä½¿ç”¨å†…ç½®æ ·å¼">ä½¿ç”¨å†…ç½®æ ·å¼</h2><p>å¯ä»¥åœ¨ç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æœ‰å“ªäº›æ ·å¼å¯ä¾›ä½¿ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-meta">&gt;&gt;&gt; </span>plt.style.available<br></code></pre></td></tr></table></figure><h2 id="æŸäº›æ³¨æ„äº‹é¡¹">æŸäº›æ³¨æ„äº‹é¡¹</h2><ol><li>å‘<code>plot()</code>æä¾›ä¸€ç³»åˆ—æ•°æ—¶ï¼Œå®ƒå‡è®¾ç¬¬ä¸€ä¸ªæ•°æ®ç‚¹å¯¹åº”çš„<strong>x</strong>åæ ‡å€¼ä¸º0ã€‚</li><li>ä½¿ç”¨<code>plot()</code>æ—¶å¯æŒ‡å®šå„ç§å®å‚ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¼—å¤šå‡½æ•°å¯¹å›¾å½¢è¿›è¡Œå®šåˆ¶ã€‚</li><li>å¯ä»¥ä½¿ç”¨åˆ—è¡¨è§£æç”Ÿæˆéœ€è¦çš„å€¼ï¼Œå†ä¼ é€’åˆ—è¡¨ã€‚</li></ol><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Linuxéšç¬”-1</title>
    <link href="/2022/05/27/linux-essay-1/"/>
    <url>/2022/05/27/linux-essay-1/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>æ–‡ç« å†…å®¹æ¥æºï¼šã€ŠLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨ï¼ˆç¬¬3ç‰ˆï¼‰ã€‹ [ç¾] Richard Blum  Christine Bresnahan è‘— äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾</p>          </div><h1>å‰è¨€</h1><p>è™½ç„¶è¯´æ˜¯å‰å‡ å¤©åœ¨æ“ä½œç³»ç»Ÿä¸Šæœºè¯¾ä¸Šå°±çœ‹å®Œæƒ³å†™çš„ä¸œè¥¿ä½†æ˜¯ç”±äºå„ç§äº‹æƒ…æ‹–åˆ°äº†ä»Šå¤©ã€‚ã€‚ã€‚<br>ç®—æ˜¯åˆšæ¥è§¦Linuxæ“ä½œç³»ç»Ÿå§ï¼Œæ‰€ä»¥å°±å†™äº†è¿™ä¹ˆä¸€ä¸ªä¸œè¥¿è‡ªç”¨ï¼Œä½œä¸ºå¿«é€Ÿå‚è€ƒã€‚ä»¥åå­¦åˆ°äº†ä»€ä¹ˆç›¸å…³å†…å®¹å¯èƒ½ä¹Ÿä¼šåœ¨è¿™é‡Œè¡¥å……ã€‚</p><h1>æ­£æ–‡</h1><h2 id="Vimå¿«é€Ÿå‚è€ƒ">Vimå¿«é€Ÿå‚è€ƒ</h2><h3 id="å¯åŠ¨Vimç¼–è¾‘å™¨">å¯åŠ¨Vimç¼–è¾‘å™¨</h3><p>å‘½ä»¤ï¼š<code>vim æ–‡ä»¶å</code><br>ç¤ºä¾‹ï¼š<code>vim myprog.c</code></p><h3 id="æ’å…¥ï¼ˆæ–‡æœ¬ç¼–è¾‘ï¼‰æ¨¡å¼">æ’å…¥ï¼ˆæ–‡æœ¬ç¼–è¾‘ï¼‰æ¨¡å¼</h3><p>æŒ‰ <strong>i</strong> é”®è¿›å…¥ã€‚è¯¥æ¨¡å¼ä¸‹æœ‰å¦‚ä¸‹å‘½ä»¤ï¼š</p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>x</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦</td></tr><tr><td>dd</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œ</td></tr><tr><td>dw</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å•è¯</td></tr><tr><td>d$</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®è‡³è¡Œå°¾çš„å†…å®¹</td></tr><tr><td>J</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œè¡Œå°¾çš„æ¢è¡Œç¬¦</td></tr><tr><td>u</td><td>æ’¤é”€å‰ä¸€ç¼–è¾‘å‘½ä»¤</td></tr><tr><td>a</td><td>åœ¨å½“å‰å…‰æ ‡åè¿½åŠ æ•°æ®</td></tr><tr><td>A</td><td>åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œè¡Œå°¾è¿½åŠ æ•°æ®</td></tr><tr><td>r <em>char</em></td><td>ç”¨<em>char</em>æ›¿æ¢å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å•ä¸ªå­—ç¬¦</td></tr><tr><td>R <em>text</em></td><td>ç”¨<em>text</em>è¦†ç›–å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„æ•°æ®ï¼Œç›´åˆ°æŒ‰ä¸‹ESCé”®</td></tr></tbody></table><div class="note note-info">            <p>æœ‰äº›ç¼–è¾‘å‘½ä»¤å…è®¸ä½¿ç”¨æ•°å­—ä¿®é¥°ç¬¦æ¥æŒ‡å®šé‡å¤è¯¥å‘½ä»¤å¤šå°‘æ¬¡ã€‚æ¯”å¦‚ï¼Œå‘½ä»¤<code>2x</code>ä¼šåˆ é™¤ä»å…‰æ ‡å½“å‰ä½ç½®å¼€å§‹çš„ä¸¤ä¸ªå­—ç¬¦ï¼Œå‘½ä»¤<code>5dd</code>ä¼šåˆ é™¤ä»å…‰æ ‡å½“å‰æ‰€åœ¨è¡Œå¼€å§‹çš„5è¡Œã€‚</p>          </div><h4 id="å‰ªåˆ‡ã€å¤åˆ¶å’Œç²˜è´´">å‰ªåˆ‡ã€å¤åˆ¶å’Œç²˜è´´</h4><p>vimåœ¨åˆ é™¤æ•°æ®æ—¶ï¼Œå®é™…ä¸Šä¼šå°†æ•°æ®ä¿å­˜åœ¨å•ç‹¬çš„ä¸€ä¸ªå¯„å­˜å™¨ä¸­ï¼Œå¯ä»¥ç”¨<code>p</code>å‘½ä»¤å–å›æ•°æ®ã€‚<br>æ‰€ä»¥ï¼Œvimä¸­çš„å‰ªåˆ‡å’Œç²˜è´´æ“ä½œå…¶å®å°±æ˜¯å…ˆåˆ é™¤æ•°æ®ï¼Œå†ç§»åŠ¨å…‰æ ‡è‡³æƒ³è¦ç²˜è´´çš„ä½ç½®ï¼Œç„¶åç”¨<code>p</code>å‘½ä»¤ã€‚<br>vimä¸­çš„å¤åˆ¶å‘½ä»¤æ˜¯<code>y</code>ï¼ˆä»£è¡¨yankï¼‰ï¼Œå¯ä»¥åœ¨<code>y</code>åé¢ä½¿ç”¨å’Œ<code>d</code>å‘½ä»¤ç›¸åŒçš„ç¬¬äºŒå­—ç¬¦ï¼ˆdã€wã€$ï¼‰ã€‚<br>ä¸ºäº†æ–¹ä¾¿å¤åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ä¸‹<code>v</code>é”®è¿›å…¥<strong>å¯è§†æ¨¡å¼</strong>ï¼Œ<strong>å¯è§†æ¨¡å¼</strong>ä¼šåœ¨ä½ ç§»åŠ¨å…‰æ ‡æ—¶é«˜äº®æ˜¾ç¤ºæ–‡æœ¬ã€‚åœ¨è¦†ç›–äº†è¦å¤åˆ¶çš„æ–‡æœ¬åï¼ŒæŒ‰ä¸‹<code>y</code>é”®å°±å¥½äº†ã€‚</p><h3 id="æ™®é€šæ¨¡å¼">æ™®é€šæ¨¡å¼</h3><p>åœ¨æ’å…¥æ¨¡å¼ä¸‹æŒ‰ <strong>esc</strong> é”®è¿›å…¥ã€‚è¯¥æ¨¡å¼ä¸‹å¯ç§»åŠ¨å…‰æ ‡ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>h</td><td>å·¦ç§»ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td>j</td><td>ä¸‹ç§»ä¸€è¡Œï¼ˆæ–‡æœ¬ä¸­çš„ä¸‹ä¸€è¡Œï¼‰</td></tr><tr><td>k</td><td>ä¸Šç§»ä¸€è¡Œï¼ˆæ–‡æœ¬ä¸­çš„ä¸Šä¸€è¡Œï¼‰</td></tr><tr><td>l</td><td>å³ç§»ä¸€ä¸ªå­—ç¬¦</td></tr><tr><td>PageDownï¼ˆæˆ–Ctrl+Fï¼‰</td><td>ä¸‹ç¿»ä¸€å±</td></tr><tr><td>PageUpï¼ˆæˆ–Ctrl+Bï¼‰</td><td>ä¸‹ç¿»ä¸€å±</td></tr><tr><td>G</td><td>ç§»åˆ°ç¼“å†²åŒºçš„æœ€åä¸€è¡Œ</td></tr><tr><td>num G</td><td>ç§»åŠ¨åˆ°ç¼“å†²åŒºä¸­çš„ç¬¬numè¡Œ</td></tr><tr><td>gg</td><td>ç§»åˆ°ç¼“å†²åŒºçš„ç¬¬ä¸€è¡Œ</td></tr></tbody></table><h3 id="å‘½ä»¤è¡Œæ¨¡å¼">å‘½ä»¤è¡Œæ¨¡å¼</h3><p>æ™®é€šæ¨¡å¼ä¸‹æŒ‰ <strong>:</strong> é”®è¿›å…¥ã€‚è¯¥æ¨¡å¼ä¸‹æœ‰å¦‚ä¸‹å‘½ä»¤ï¼š</p><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>q</td><td>å¦‚æœæœªä¿®æ”¹ç¼“å­˜åŒºæ•°æ®ï¼Œé€€å‡º</td></tr><tr><td>q!</td><td>å–æ¶ˆæ‰€æœ‰å¯¹ç¼“å†²åŒºæ•°æ®çš„ä¿®æ”¹å¹¶é€€å‡º</td></tr><tr><td>w <em>filename</em></td><td>å°†æ–‡ä»¶ä¿å­˜åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­</td></tr><tr><td>wq</td><td>å°†ç¼“å†²åŒºæ•°æ®ä¿å­˜åˆ°æ–‡ä»¶ä¸­å¹¶é€€å‡º</td></tr></tbody></table><h2 id="ç»ˆç«¯å¿«é€Ÿå‚è€ƒ">ç»ˆç«¯å¿«é€Ÿå‚è€ƒ</h2><h3 id="è®¿é—®ç»ˆç«¯">è®¿é—®ç»ˆç«¯</h3><p>å›¾å½¢åŒ–æ¡Œé¢ä¸‹å¯å°è¯•å³é”®æ¡Œé¢ï¼Œçœ‹å¼¹å‡ºçš„èœå•é€‰é¡¹ä¸­æœ‰æ— è¯¥é€‰é¡¹ã€‚<br>åˆ©ç”¨å¿«æ·é”®è®¿é—®ï¼ˆè¿›å…¥ï¼‰ä¸åŒç»ˆç«¯ï¼š<code>Ctrl + Alt + (F1~F7)</code></p><h3 id="è®¾ç½®ç»ˆç«¯èƒŒæ™¯é¢œè‰²">è®¾ç½®ç»ˆç«¯èƒŒæ™¯é¢œè‰²</h3><div class="note note-warning">            <p>*ç»ˆç«¯å†…è¾“å…¥æŒ‡ä»¤</p>          </div><table><thead><tr><th>è¯´æ˜</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>å¼€å¯è¯¥è®¾ç½®é€‰é¡¹</td><td><code>settern -inversescreen on</code></td></tr><tr><td>è®¾ç½®èƒŒæ™¯è‰²</td><td><code>settern -background white</code></td></tr><tr><td>è®¾ç½®å‰æ™¯è‰²</td><td><code>settern -foreground black</code></td></tr></tbody></table><div class="note note-info">            <p>å¯ä¾›é€‰æ‹©çš„é¢œè‰²ï¼šblackã€redã€greenã€yellowã€blueã€magentaã€cyanã€white</p>          </div><h3 id="Gnome-Terminalå¿«æ·é”®">Gnome Terminalå¿«æ·é”®</h3><table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>Shift+Ctrl+N</td><td>åœ¨æ–°çš„çª—å£å¯åŠ¨ä¸€ä¸ªæ–°çš„shellä¼šè¯</td></tr><tr><td>Shift+Ctrl+T</td><td>åœ¨å½“å‰çª—å£å¯åŠ¨ä¸€ä¸ªæ–°çš„shellä¼šè¯</td></tr><tr><td>Shift+Ctrl+W</td><td>å…³é—­å½“å‰æ ‡ç­¾ä¸­çš„ä¼šè¯</td></tr><tr><td>Shift+Ctrl+Q</td><td>å…³é—­å½“å‰çš„Gnome Terminalä¼šè¯</td></tr><tr><td>Shift+Ctrl+C/V</td><td>å¤åˆ¶/ç²˜è´´</td></tr><tr><td>Shift+Ctrl+F</td><td>æ‰“å¼€Findçª—å£</td></tr><tr><td>Shift+Ctrl+H/G</td><td>ä»ç»ˆç«¯ä¼šè¯çš„å½“å‰ä½ç½®å¼€å§‹å‘å/å‘å‰æœç´¢æŒ‡å®šæ–‡æœ¬</td></tr><tr><td>Shift+Ctrl+PageUp/PageDown</td><td>ä½¿å½“å‰æ ‡ç­¾ç§»åŠ¨åˆ°å‰ä¸€ä¸ªæ ‡ç­¾çš„å‰é¢/ä¸‹ä¸€ä¸ªæ ‡ç­¾çš„åé¢</td></tr><tr><td>Ctrl+PageDown/PageUp</td><td>ä½¿ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªæ ‡ç­¾æˆä¸ºæ´»åŠ¨æ ‡ç­¾</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Linux</tag>
      
      <tag>Vim</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pythonéšç¬”-3</title>
    <link href="/2022/05/22/python-essay-3/"/>
    <url>/2022/05/22/python-essay-3/</url>
    
    <content type="html"><![CDATA[<h1>å‰è¨€</h1><p>æœ€è¿‘æŒºå¿™çš„ï¼ˆæŒ‡æ‰“æ¸¸æˆï¼‰æ‰€ä»¥å¯¼è‡´æ‘¸äº†å¾ˆä¹…ï¼ˆåŒ…æ‹¬å­¦ä¹ ï¼‰ï¼Œç°åœ¨ç—›å®šæ€ç—›ï¼Œäºæ˜¯ä¹æ¯…ç„¶å†³ç„¶å†™<s>ï¼ˆæ°´ï¼‰</s>ä¸€ç¯‡åšæ–‡æ¥è§„é¿å†…ç–šæ„Ÿ<s>ï¼ˆä¸æ˜¯ï¼‰</s>ã€‚<br>å…¶å®è¿˜æ˜¯æœ‰çœ‹ï¼ˆä¸€ç‚¹ï¼‰çš„ï¼Œè¿™ç¯‡éšç¬”è¦ä»‹ç»çš„éƒ½æ˜¯å’Œç±»ä¸é¢å‘å¯¹è±¡æœ‰å…³çš„ï¼Œé‚£ä¹ˆä¸ï¼ˆæƒ³ï¼‰å¤šè¯´äº†ç›´æ¥è¿›å…¥æ­£æ–‡äº†ã€‚</p><h1>æ­£æ–‡</h1><h2 id="is-å’Œ">is å’Œ ==</h2><p>åœ¨pythonä¸­ï¼Œ<code>==</code>æ¯”è¾ƒçš„æ˜¯ç›¸ç­‰æ€§ï¼Œè€Œ<code>is</code>æ¯”è¾ƒçš„æ˜¯ç›¸åŒæ€§ï¼Œå½“æˆ‘ä»¬ç”¨<code>==</code>æ—¶ï¼Œæ¯”è¾ƒçš„æ˜¯å€¼ï¼Œå½“æˆ‘ä»¬ç”¨<code>is</code>æ—¶ï¼Œæ¯”è¾ƒçš„æ˜¯æ ‡è¯†ç¬¦ã€‚è¿™ä¹ˆè¯´å¯èƒ½éå¸¸éš¾æ‡‚ï¼Œæ‰€ä»¥ç›´æ¥åœ¨pythonä¸­å†™ç‚¹ä»£ç ä¼šå¥½å¾ˆå¤šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>a == b<br><span class="hljs-literal">True</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>a <span class="hljs-keyword">is</span> b<br><span class="hljs-literal">False</span><br><br>&gt;&gt;&gt;b = a<br>&gt;&gt;&gt;a <span class="hljs-keyword">is</span> b<br><span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç”±äº a å’Œ b çš„å€¼æ˜¯ç›¸ç­‰çš„ï¼Œæ‰€ä»¥<code>a == b</code>ä¸ºTrueï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾ a å’Œ b çš„æ ‡è¯†ç¬¦æ˜¯ä¸åŒçš„ï¼Œæ‰€ä»¥ç»“æœè¾“å‡ºäº†Falseã€‚è€Œåœ¨æ‰§è¡Œäº†<code>b = a</code>åï¼Œç”±äºæ ‡è¯†ç¬¦ç›¸åŒäº†ï¼Œæ‰€ä»¥ç°åœ¨<code>a is b</code>çš„ç»“æœæ˜¯Trueäº†ã€‚</p><blockquote><p>æ¥æ¦‚æ‹¬ä¸€ä¸‹å§ï¼Œç”¨ä¸¤æ¡å®šä¹‰åŒºåˆ†iså’Œ==çš„åŒºåˆ«ï¼š<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[1]</span></a></sup></p><blockquote><p>å½“ä¸¤ä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œisè¡¨è¾¾å¼çš„ç»“æœä¸ºTrueï¼›<br>å½“å„å˜é‡æŒ‡å‘çš„å¯¹è±¡å«æœ‰ç›¸åŒå†…å®¹æ—¶ï¼Œ==è¡¨è¾¾å¼çš„ç»“æœä¸ºTrueã€‚</p></blockquote></blockquote><h2 id="å­—ç¬¦ä¸²è½¬æ¢">å­—ç¬¦ä¸²è½¬æ¢</h2><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬æƒ³æŠŠæˆ‘ä»¬å®ä¾‹åŒ–ç±»çš„å¯¹è±¡çš„å†…å®¹ï¼ˆä¿¡æ¯ï¼‰æ‰“å°å‡ºæ¥ï¼Œæˆ‘ä»¬å¸Œæœ›æœ€å¥½æ˜¯è¿™ä¹ˆåšï¼š<code>print(a_object)</code>ï¼Œä½†æ˜¯ç†æ‰€å½“ç„¶çš„ä¸ä¼šåƒä½ æƒ³çš„é‚£æ ·è¾“å‡ºä½ æƒ³è¦çš„ç»“æœã€‚<br>å¦‚æœç›´æ¥æ‰“å°çš„è¯ï¼Œæˆ‘ä»¬çš„å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåŒ…å«ç±»åå’Œå®ä¾‹å¯¹è±¡çš„æ ‡è¯†ç¬¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pet</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, specie</span>):<br>        self.name = name<br>        self.specie = specie<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>my_pet = Pet(<span class="hljs-string">&#x27;white&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(my_pet)<br>&lt;__main__.Pet <span class="hljs-built_in">object</span> at <span class="hljs-number">0x0000019E5BDFCF40</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>my_pet<br>&lt;__main__.Pet <span class="hljs-built_in">object</span> at <span class="hljs-number">0x0000019E5BDFCF40</span>&gt;<br></code></pre></td></tr></table></figure><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±åœ¨ç±»é‡Œæ„å»ºä¸€ä¸ªæ–¹æ³•æ¥å¯¹æ‰“å°çš„å®ä¾‹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸éœ€è¦è¿™ä¹ˆåšï¼ˆä¸è¦æ„å»ºè‡ªå·±çš„å­—ç¬¦ä¸²è½¬æ¢æœºåˆ¶ï¼‰ï¼Œå› ä¸ºPythonæä¾›äº†ä¸¤ä¸ªåŒä¸‹åˆ’çº¿æ–¹æ³•<code>__str__</code>å’Œ<code>__repr__</code>åœ¨ä¸åŒçš„æƒ…å†µä¸‹æ¥å°†å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ã€‚<br>ç°åœ¨æˆ‘ä»¬åœ¨ä¸Šè¾¹çš„ç±»ä¸­æ·»åŠ ä¸€ä¸ª<code>__str__</code>æ–¹æ³•ï¼Œå†ç”¨printè¾“å‡ºï¼Œè¿™æ—¶å€™å°±å¯ä»¥è½¬æ¢æˆæˆ‘ä»¬æƒ³è¦çš„å­—ç¬¦ä¸²äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pet</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, specie</span>):<br>        self.name = name<br>        self.specie = specie<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;The <span class="hljs-subst">&#123;self.specie&#125;</span>\&#x27;s name is <span class="hljs-subst">&#123;self.name&#125;</span>.&#x27;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>my_pet = Pet(<span class="hljs-string">&#x27;white&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(my_pet)<br>The cat<span class="hljs-string">&#x27;s name is white.</span><br></code></pre></td></tr></table></figure><div class="note note-warning">            <p>â€œåœ¨Pythonè§£é‡Šå™¨ä¼šè¯ä¸­æŸ¥çœ‹å¯¹è±¡å¾—åˆ°çš„æ˜¯å¯¹è±¡çš„__repr__ç»“æœã€‚<br>åƒåˆ—è¡¨å’Œå­—å…¸è¿™æ ·çš„å®¹å™¨æ€»æ˜¯ä½¿ç”¨__repr__çš„ç»“æœæ¥è¡¨ç¤ºæ‰€åŒ…å«çš„å¯¹è±¡ï¼Œå“ªæ€•å¯¹å®¹å™¨æœ¬èº«è°ƒç”¨str()ä¹Ÿæ˜¯å¦‚æ­¤ã€‚â€</p>          </div><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨é€‰æ‹©ä¸¤ç§æ–¹æ³•ä¸­çš„ä¸€ç§ï¼Œç”¨<code>str()</code>æˆ–æ˜¯<code>repr()</code>å³å¯ï¼Œæœ€å¥½ä¸è¦ç”¨<code>å¯¹è±¡å.__str__</code>æˆ–æ˜¯<code>å¯¹è±¡å.__repr__</code>ã€‚<br>é‚£ä»–ä»¬çš„å…·ä½“å·®åˆ«åœ¨å“ªé‡Œå‘¢ï¼Ÿè¿™é‡Œæˆ‘è§‰å¾—ä¹¦ä¸­çš„ä¾‹å­éå¸¸å¥½ï¼Œæ‰€ä»¥æ‘˜å½•ä¹¦ä¸­å†…å®¹æ¥ä»‹ç»ã€‚</p><blockquote><p>å¯¹äºè¿™æ ·çš„é—®é¢˜ï¼Œå¯ä»¥çœ‹çœ‹Pythonæ ‡å‡†åº“æ˜¯æ€ä¹ˆåšçš„ã€‚ç°åœ¨å†è®¾è®¡ä¸€ä¸ªå®éªŒï¼Œåˆ›å»ºä¸€ä¸ªdatetime.dateå¯¹è±¡ï¼Œçœ‹è¿™ä¸ªå¯¹è±¡å¦‚ä½•ä½¿ç”¨__repr__å’Œ__str__æ¥æ§åˆ¶å­—ç¬¦ä¸²è½¬æ¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">import</span> datetime<br><span class="hljs-meta">&gt;&gt;&gt; </span>today = datetime.date.today()<br></code></pre></td></tr></table></figure><p>åœ¨dateå¯¹è±¡ä¸Šï¼Œ__str__å‡½æ•°çš„ç»“æœä¾§é‡äº<strong>å¯è¯»æ€§</strong>ï¼Œæ—¨åœ¨ä¸ºäººä»¬è¿”å›ä¸€ä¸ªç®€æ´çš„æ–‡æœ¬è¡¨ç¤ºï¼Œä»¥ä¾¿æ”¾å¿ƒåœ°å‘ç”¨æˆ·å±•ç¤ºã€‚å› æ­¤åœ¨dateå¯¹è±¡ä¸Šè°ƒç”¨str()æ—¶ï¼Œå¾—åˆ°çš„æ˜¯ä¸€äº›çœ‹èµ·æ¥åƒISOæ—¥æœŸæ ¼å¼çš„ä¸œè¥¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">str</span>(today)<br><span class="hljs-string">&#x27;2017-02-02&#x27;</span><br></code></pre></td></tr></table></figure><p>__repr__ä¾§é‡çš„åˆ™æ˜¯å¾—åˆ°<strong>æ— æ­§ä¹‰</strong>çš„ç»“æœï¼Œç”Ÿæˆçš„å­—ç¬¦ä¸²æ›´å¤šçš„æ˜¯å¸®åŠ©å¼€å‘äººå‘˜è°ƒè¯•ç¨‹åºã€‚ä¸ºæ­¤éœ€è¦å°½å¯èƒ½æ˜ç¡®åœ°è¯´æ˜è¿™ä¸ªå¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œå› æ­¤åœ¨å¯¹è±¡ä¸Šè°ƒç”¨repr()ä¼šå¾—åˆ°ç›¸å¯¹æ›´å¤æ‚çš„ç»“æœï¼Œå…¶ä¸­ç”šè‡³åŒ…æ‹¬å®Œæ•´çš„æ¨¡å—å’Œç±»åç§°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">repr</span>()<br><span class="hljs-string">&#x27;datetime.date(2017, 2, 2)&#x27;</span><br></code></pre></td></tr></table></figure><p>æˆ‘çš„ç»éªŒæ³•åˆ™æ˜¯åªè¦è®©__repr__ç”Ÿæˆçš„å­—ç¬¦ä¸²å¯¹å¼€å‘äººå‘˜æ¸…æ™°ä¸”æœ‰å¸®åŠ©å°±å¯ä»¥äº†ï¼Œå¹¶ä¸éœ€è¦èƒ½ä»ä¸­æ¢å¤å¯¹è±¡çš„å®Œæ•´çŠ¶æ€ã€‚</p></blockquote><div class="note note-warning">            <p>å¦‚æœæ²¡æœ‰è®¾ç½®__str__æ–¹æ³•çš„è¯ï¼Œé‚£ä¹ˆåœ¨éœ€è¦è°ƒç”¨è¯¥æ–¹æ³•æ—¶ä¼šè½¬ä¸ºè°ƒç”¨__repr__æ–¹æ³•ã€‚</p>          </div><h2 id="abcâ€”â€”æŠ½è±¡åŸºç±»">abcâ€”â€”æŠ½è±¡åŸºç±»</h2><p>ä½¿ç”¨æŠ½è±¡åŸºç±»å¯ä»¥é¿å…æˆ‘ä»¬åœ¨ä¹‹åç¼–å†™ä»£ç çš„æ—¶å€™ä¸å°å¿ƒå®ä¾‹åŒ–äº†åŸºç±»ï¼Œå¹¶ä¸”å¯ä»¥ç¡®ä¿æ´¾ç”Ÿç±»å®ç°äº†æˆ‘ä»¬æƒ³åœ¨å…¶ä¸­å®ç°çš„åŸºç±»æ–¹æ³•ã€‚<br>å…ˆæ¥çœ‹çœ‹æ™®é€šçš„åŸºç±»ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pet</span>:<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">infor</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">raise</span> NotImplementedError()<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">behavior</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">raise</span> NotImplementedError()<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-title class_ inherited__">Pet</span>):<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">infor</span>(<span class="hljs-params">self, name, specie</span>):<br><span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;A <span class="hljs-subst">&#123;specie&#125;</span> called <span class="hljs-subst">&#123;name&#125;</span>.&quot;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>b = Pet()<br><span class="hljs-meta">&gt;&gt;&gt; </span>b.infor()<br>NotImplementedError<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>my_cat = Cat()<br><span class="hljs-meta">&gt;&gt;&gt; </span>my_cat.infor(<span class="hljs-string">&#x27;white&#x27;</span>, <span class="hljs-string">&#x27;cat&#x27;</span>)<br>A cat called white.<br><span class="hljs-meta">&gt;&gt;&gt; </span>my_cat.behavior()<br>NotImplementedError<br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç é‡Œï¼Œä¸ä»…åŸºç±»è¢«å®ä¾‹åŒ–äº†ï¼Œè€Œä¸”åªæœ‰åœ¨è°ƒç”¨æœªå®ç°çš„æ–¹æ³•æ—¶æ‰èƒ½å‘ç°ç¼–å†™äº†ä¸€ä¸ªå®ç°ä¸å®Œæ•´çš„å­ç±»ã€‚<br>ä¸ºäº†é¿å…å‡ºç°è¿™ç§çŠ¶å†µï¼Œå°±å¯ä»¥ç”¨åˆ°æˆ‘ä»¬çš„abcæ¨¡å—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> abc <span class="hljs-keyword">import</span> ABCMeta, abstractmethod<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pet</span>(metaclass=ABCMeta):<br><span class="hljs-meta">@abstractmethod</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">infor</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">pass</span><br><br><span class="hljs-meta">@abstractmethod</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">behavior</span>(<span class="hljs-params">self</span>):<br><span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-title class_ inherited__">Pet</span>):<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">infor</span>(<span class="hljs-params">self, name, specie</span>):<br><span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;A <span class="hljs-subst">&#123;specie&#125;</span> called <span class="hljs-subst">&#123;name&#125;</span>.&quot;</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>b = Pet()<br>TypeError: Can<span class="hljs-string">&#x27;t instantiate abstract class Pet with abstract methods behavior, infor</span><br><span class="hljs-string"></span><br><span class="hljs-string">&gt;&gt;&gt; my_cat = Cat()</span><br><span class="hljs-string">TypeError: Can&#x27;</span>t instantiate abstract <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">with</span> abstract method behavior<br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬å°è¯•å®ä¾‹åŒ–åŸºç±»ï¼Œæˆ–è€…å®ä¾‹åŒ–ä¸€ä¸ªä¸å®Œæ•´çš„å­ç±»ï¼Œé‚£ä¹ˆå°±ä¼šå¼•å‘TypeErrorï¼Œå¹¶ä¸”ä¼šæŒ‡å‡ºå­ç±»ä¸­ç¼ºå°‘äº†å“ªäº›æ–¹æ³•ï¼ˆæœªå®ç°å“ªäº›æŠ½è±¡æ–¹æ³•ï¼‰ã€‚</p><div class="note note-warning">            <p>åœ¨ç”¨å¤šä¸ªè£…é¥°å™¨ä¿®é¥°åŒä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œ<code>abstractmethod()</code>åº”å½“è¢«åº”ç”¨ä¸ºæœ€å†…å±‚çš„è£…é¥°å™¨ã€‚</p>          </div><div class="note note-warning">            <p>ä¸åŒäºJava æŠ½è±¡æ–¹æ³•ï¼Œè¿™äº›æŠ½è±¡æ–¹æ³•å¯èƒ½å…·æœ‰ä¸€ä¸ªå®ç°ã€‚è¿™ä¸ªå®ç°å¯åœ¨é‡è½½å®ƒçš„ç±»ä¸Šé€šè¿‡<code>super()</code>æœºåˆ¶æ¥è°ƒç”¨ã€‚è¿™åœ¨ä½¿ç”¨åä½œå¤šé‡ç»§æ‰¿çš„æ¡†æ¶ä¸­å¯ä»¥è¢«ç”¨ä½œè¶…è°ƒç”¨çš„ä¸€ä¸ªç«¯ç‚¹ã€‚</p>          </div><p>å¦‚æœæƒ³è¿›ä¸€æ­¥äº†è§£abcæ¨¡å—ï¼Œå¯ä»¥é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.python.org/zh-cn/3.9/library/abc.html?highlight=abc#module-abc">ç‚¹è¿™é‡Œè·³è½¬</a></p><hr><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonéšç¬”-2</title>
    <link href="/2022/05/13/python-essay-2/"/>
    <url>/2022/05/13/python-essay-2/</url>
    
    <content type="html"><![CDATA[<h1>å‰è¨€</h1><p>åœ¨å­¦ä¹ è£…é¥°å™¨çš„æ—¶å€™ï¼Œå…¶ä¸­æœ‰æåˆ°è¿‡*argså’Œ**kwargså¯ä»¥è®©è£…é¥°å™¨å˜å¾—æ›´åŠ å¼ºå¤§ã€æœ‰ç”¨ã€‚<br>æ–‡ç« ä¹Ÿç®€å•åœ°è¯´æ˜äº†ä¸‹ä»–ä»¬çš„ä½œç”¨ï¼Œä¸è¿‡æƒ³äº†æƒ³è¿™éƒ¨åˆ†<s>è²Œä¼¼ä¹Ÿèƒ½æ°´ä¸€ç¯‡æ–‡ç« </s>è¿˜æ˜¯æŒºé‡è¦çš„ï¼Œé‚å†™äº†ä¸€ç¯‡éšç¬”è®°ä¸€ä¸‹ã€‚<br>å½“ç„¶ç›¸å…³çš„å‡½æ•°å‚æ•°è§£åŒ…çš„å†…å®¹ä¹Ÿä¸€èµ·å†™åœ¨éšç¬”é‡Œäº†ã€‚</p><h1>æ­£æ–‡</h1><h2 id="å®ƒä»¬æœ‰ä»€ä¹ˆç”¨">å®ƒä»¬æœ‰ä»€ä¹ˆç”¨</h2><p>å®ƒä»¬èƒ½è®©å‡½æ•°æ¥å—<strong>å¯é€‰å‚æ•°</strong>ã€‚å½“ç„¶ï¼Œè¿™é‡Œçš„å¯é€‰å‚æ•°å¯èƒ½å¹¶ä¸åƒä½ æƒ³çš„é‚£æ ·ï¼Œæˆ‘æ˜¯è¯´ï¼Œä¸æ˜¯è¿™æ ·çš„å¯é€‰å‚æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a=<span class="hljs-number">0</span>, b=<span class="hljs-number">0</span></span>)<br><span class="hljs-keyword">return</span> a + b<br></code></pre></td></tr></table></figure><p>è€Œæ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test</span>(<span class="hljs-params">*args, **kwargs</span>):<br><span class="hljs-built_in">print</span>(args)<br><span class="hljs-built_in">print</span>(kwargs)<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°å‡½æ•°å¯ä»¥ä¼ é€’ä»»æ„å¤šçš„å‚æ•°ï¼Œä¹Ÿèƒ½ä¸ä¼ é€’å‚æ•°ã€‚åœ¨è¿™é‡Œargä¼šæ”¶é›†ä½ç½®å‚æ•°ç»„æˆå…ƒç»„ï¼Œkwargsä¼šæ”¶é›†é¢å¤–çš„å…³é”®å­—å‚æ•°ç»„æˆå­—å…¸ã€‚å¦‚æœä¸ä¼ é€’å‚æ•°ï¼Œé‚£ä¹ˆargså’Œkwargséƒ½ä¸ºç©ºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>test(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,k=<span class="hljs-number">1</span>,j=<span class="hljs-number">2</span>,l=<span class="hljs-number">3</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>&#123;<span class="hljs-string">&#x27;k&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;j&#x27;</span>: <span class="hljs-number">2</span>, <span class="hljs-string">&#x27;l&#x27;</span>: <span class="hljs-number">3</span>&#125;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>test()<br>()<br>&#123;&#125;<br></code></pre></td></tr></table></figure><div class="note note-info">            <p>å®é™…èµ·ä½œç”¨çš„æ˜¯è¯­æ³•åˆ†åˆ«æ˜¯æ˜Ÿå·ï¼ˆ*ï¼‰å’ŒåŒæ˜Ÿå·ï¼ˆ**ï¼‰ï¼Œargså’Œkwargsåªæ˜¯å‘½åçº¦å®šã€‚</p>          </div><h2 id="å‡½æ•°å‚æ•°è§£åŒ…">å‡½æ•°å‚æ•°è§£åŒ…</h2><p>è§£åŒ…æ“ä½œç¬¦*å’Œ**å¯ä»¥ç”¨æ¥ä»åºåˆ—å’Œå­—å…¸ä¸­â€œè§£åŒ…â€å‡½æ•°å‚æ•°ã€‚<br>æ¯”å¦‚æˆ‘ä»¬ç°åœ¨æœ‰è¿™ä¹ˆä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸‰ä¸ªå‚æ•°å¹¶è¿”å›ä»–ä»¬çš„å’Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b, c</span>):<br><span class="hljs-keyword">return</span> a + b + c<br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬éœ€è¦ä¼ é€’çš„å‚æ•°åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬å¾—è¿™ä¹ˆåšæ‰èƒ½ä¼ é€’è¿‡å»ï¼š<code>add(a_list[0], a_list[1], a_list[2])</code><br>ä½†æ˜¯è¿™çœ‹ä¸Šå»éå¸¸ç¬¨ä¸æ˜¯å—ï¼Ÿæ‰€å¹¸æˆ‘ä»¬æœ‰è§£åŒ…æ“ä½œç¬¦*ï¼Œç°åœ¨ï¼Œå®ƒå¯ä»¥è¿™ä¹ˆå†™äº†ï¼š<code>add(*a_list)</code>åœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œåœ¨å¯è¿­ä»£å¯¹è±¡å‰é¢æ”¾ä¸€ä¸ª*èƒ½<strong>è§£åŒ…</strong>è¿™ä¸ªå‚æ•°ï¼Œå°†å…¶ä¸­çš„å…ƒç´ ä½œä¸ºå•ç‹¬çš„ä½ç½®å‚æ•°ä¼ é€’ç»™è¢«è°ƒç”¨çš„å‡½æ•°ã€‚<br>å¦ä¸€ä¸ªè§£åŒ…æ“ä½œç¬¦**åˆ™æ˜¯ç”¨äºä»å­—å…¸ä¸­è§£åŒ…å…³é”®å­—å‚æ•°ï¼Œæ¯”å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªå­—å…¸ï¼š<code>a_dict = &#123;'a' = 1, 'b' = 2, 'c' = 3&#125;</code>ï¼Œé‚£ä¹ˆè¦å°†å®ƒä¼ å…¥<code>add()</code>ä¸­ï¼Œå°±å¯ä»¥è¿™ä¹ˆå†™ï¼š<code>add(**a_dict)</code>ï¼Œåˆ™å…¶ä¸­çš„å€¼ä¼šæŒ‰æ’å…¥é¡ºåºä¼ é€’ç»™å¯¹åº”ä½ç½®çš„å‚æ•°ã€‚<br>éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œè§£åŒ…çš„æ—¶å€™ä¼šåŒ¹é…å­—å…¸é”®å’Œå‡½æ•°å‚æ•°ï¼Œåœ¨ä¸Šè¾¹ï¼Œaddä¸­çš„aå‚æ•°ä¼šæ¥å—å­—å…¸ä¸­ä¸â€™aâ€™é”®ç›¸å…³çš„å€¼ã€‚<br>è€Œå¦‚æœä½¿ç”¨*å¯¹å­—å…¸è¿›è¡Œè§£åŒ…çš„è¯ï¼Œåˆ™æ˜¯å°†æ‰€æœ‰çš„<strong>é”®</strong>æŒ‰æ’å…¥é¡ºåºä¼ é€’ç»™å‡½æ•°ã€‚</p><h2 id="ä¼ é€’å¯é€‰å‚æ•°">ä¼ é€’å¯é€‰å‚æ•°</h2><p>äº†è§£äº†å‡½æ•°å‚æ•°è§£åŒ…åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒæ¥ä»ä¸€ä¸ªå‡½æ•°ä¸­å°†å¯é€‰å‚æ•°ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°äº†ï¼Œå¹¶ä¸”ï¼Œå‚æ•°åœ¨ä¼ é€’ä¹‹å‰è¿˜å¯ä»¥è¿›è¡Œä¿®æ”¹ã€‚<br>æ¯”å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">test1</span>(<span class="hljs-params">*args, **kwargs</span>):<br>new_args = args + (<span class="hljs-number">5</span>, )<br>kwargs[<span class="hljs-string">&#x27;k&#x27;</span>] = <span class="hljs-number">5</span><br>test(*new_args, **kwargs)<br></code></pre></td></tr></table></figure><blockquote><p>è¿™ç§æŠ€æœ¯é€‚ç”¨äºåˆ›å»ºå­ç±»å’Œç¼–å†™åŒ…è£…å‡½æ•°ï¼ˆå¦‚è£…é¥°å™¨ï¼‰ã€‚<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[1]</span></a></sup><br>ä¾‹å¦‚åœ¨æ‰©å±•çˆ¶ç±»çš„è¡Œä¸ºæ—¶ï¼Œå­ç±»ä¸­çš„æ„é€ å‡½æ•°ä¸ç”¨å†å¸¦æœ‰å®Œæ•´çš„å‚æ•°åˆ—è¡¨ï¼Œå› è€Œé€‚ç”¨äºå¤„ç†é‚£äº›ä¸å—æˆ‘ä»¬æ§åˆ¶çš„APIã€‚<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè‡ªå·±å®šä¹‰çš„ç±»å±‚æ¬¡ä¸­å¹¶ä¸ä¼šç”¨åˆ°è¿™ç§æŠ€æœ¯ã€‚è¿™é€šå¸¸ç”¨äºä¿®æ”¹æˆ–è¦†ç›–æŸäº›å¤–éƒ¨ç±»ä¸­çš„è¡Œä¸ºï¼Œè€Œè‡ªå·±åˆæ— æ³•æ§åˆ¶è¿™äº›å¤–éƒ¨ç±»ã€‚</p></blockquote><hr><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ“ä½œç³»ç»ŸåŸç†â€”â€”è™šæ‹Ÿå­˜å‚¨ç®¡ç†å®éªŒ</title>
    <link href="/2022/04/29/page-store/"/>
    <url>/2022/04/29/page-store/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>æœ¬æ–‡ç« ç”¨åˆ°çš„è¯­è¨€ï¼šPython</p>          </div><h1>å‰è¨€</h1><p>å‰æ’æä¸ªé†’ï¼Œè¿™ä¸ªç¨‹åºæˆ‘è§‰å¾—è‡ªå·±å†™å¾—æŒºå¤æ‚çš„ï¼ˆå› ä¸ºæˆ‘æ‡’ç™ŒçŠ¯äº†ï¼Œæ²¡æœ‰æƒ³ç€ä¼˜åŒ–ï¼Œä¹Ÿæ²¡æœ‰æƒ³ç€è·Ÿé¢˜ç›®èµ°ï¼‰ï¼Œsoå¤§å®¶çœ‹çœ‹å°±å¥½ã€‚</p><h1>åŸç†</h1><p>è€æ ·å­ç…§æ¬ï¼š</p><blockquote><p>çªç„¶å‘ç°è¿™æ¬¡æ²¡å¾—æ¬çš„æˆ‘be likeï¼š :(</p></blockquote><h1>å®ç°</h1><h2 id="ä¸€äº›ä¸€äº›ä¸€äº›å…¨å±€å˜é‡">ä¸€äº›ä¸€äº›ä¸€äº›å…¨å±€å˜é‡</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">input_queue = [<span class="hljs-number">7</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">7</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, ]  <span class="hljs-comment"># è¾“å…¥é˜Ÿåˆ—</span><br>a_queue = []  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>b_queue = []  <span class="hljs-comment"># åŒä¸Š</span><br>c_queue = []  <span class="hljs-comment"># åŒä¸Š</span><br>interrupt_queue = []  <span class="hljs-comment"># ä¸­æ–­é˜Ÿåˆ—ï¼Œä¿å­˜å‘ç”Ÿä¸­æ–­æ—¶å€™çš„ä½ç½®</span><br>page_queue = []  <span class="hljs-comment"># ä¿å­˜é¡µè¡¨ç±»å¯¹è±¡çš„é˜Ÿåˆ—</span><br>ram_queue = []  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—</span><br></code></pre></td></tr></table></figure><p>ï¼ˆå°å£°ï¼šå…¶å®æˆ‘ä¼šå¾ˆå¤§ç¨‹åº¦å†™å‡ºè¿™æ ·çš„ç¨‹åºæ˜¯é¢˜ç›®è¦æ±‚çš„è¾“å‡ºçš„é—®é¢˜ï¼ŒçœŸçš„</p><h2 id="ä¸€ç›´åˆ°æœ€åéƒ½æ²¡ä»€ä¹ˆç”¨çš„é¡µè¡¨ç±»">ä¸€ç›´åˆ°æœ€åéƒ½æ²¡ä»€ä¹ˆç”¨çš„é¡µè¡¨ç±»</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PageList</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;é¡µè¡¨ç±»&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, status, quote</span>):<br>        self.status = status  <span class="hljs-comment"># çŠ¶æ€</span><br>        self.quote = quote  <span class="hljs-comment"># å¼•ç”¨ä½</span><br></code></pre></td></tr></table></figure><p>çœŸçš„æ²¡ç”¨ã€‚çœŸçš„æ²¡ç”¨ã€‚çœŸçš„æ²¡ç”¨ã€‚ç›´æ¥å¾€ä¸‹çœ‹å§ã€‚æˆ‘ç”¨æ•°ç»„ä¸‹æ ‡å®Œæˆå·¥ä½œçš„ã€‚</p><h2 id="è·å–è¾“å…¥ã€æ‰“å°ç»“æœã€é‡ç½®å„é˜Ÿåˆ—">è·å–è¾“å…¥ã€æ‰“å°ç»“æœã€é‡ç½®å„é˜Ÿåˆ—</h2><p>è·å–è¾“å…¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_data</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;è·å–ç”¨æˆ·è¾“å…¥æ¥é€‰æ‹©ç®—æ³•&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        algorithm = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·é€‰æ‹©ä¸€ä¸ªç®—æ³•ï¼šAã€æœ€ä½³ç½®æ¢ï¼›Bã€å…ˆè¿›å…ˆå‡ºç½®æ¢ï¼›Cã€æœ€è¿‘æœ€å°‘ç”¨ç½®æ¢ï¼›Dã€é€€å‡º&quot;</span>)<br>        <span class="hljs-keyword">if</span> algorithm == <span class="hljs-string">&#x27;A&#x27;</span>:<br>            opt()<br>        <span class="hljs-keyword">elif</span> algorithm == <span class="hljs-string">&#x27;B&#x27;</span>:<br>            fifo()<br>        <span class="hljs-keyword">elif</span> algorithm == <span class="hljs-string">&#x27;C&#x27;</span>:<br>            lru()<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç¨‹åºé€€å‡ºï¼&quot;</span>)<br>            <span class="hljs-keyword">break</span><br>        reset_page()<br></code></pre></td></tr></table></figure><p>æ‰“å°ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">print_result</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;æ‰“å°å„ä¸ªé˜Ÿåˆ—&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> input_queue, a_queue, b_queue, c_queue, interrupt_queue<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> input_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">60</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> a_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;|&#x27;</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">60</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> b_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;|&#x27;</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">60</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> c_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;|&#x27;</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">60</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> interrupt_queue:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;i&#125;</span>&quot;</span>.center(<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;|&#x27;</span>), end=<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;è¯¥ç®—æ³•ä¸€å…±å‘ç”Ÿäº†<span class="hljs-subst">&#123;interrupt_queue.count(<span class="hljs-string">&#x27;+&#x27;</span>)&#125;</span>é¡µé¢ç½®æ¢ï¼Œç¼ºé¡µä¸­æ–­ç‡ä¸º<span class="hljs-subst">&#123;interrupt_queue.count(<span class="hljs-string">&#x27;+&#x27;</span>)*<span class="hljs-number">100</span>/<span class="hljs-built_in">len</span>(input_queue)&#125;</span>%&quot;</span>)<br>    <span class="hljs-built_in">print</span>()<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><p>é‡ç½®å„é˜Ÿåˆ—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">reset_page</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;é‡ç½®é¡µè¡¨çŠ¶æ€&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> a_queue, b_queue, c_queue, interrupt_queue, ram_queue<br>    <span class="hljs-keyword">for</span> page <span class="hljs-keyword">in</span> page_queue:<br>        page.status = <span class="hljs-number">0</span><br>        page.quote = <span class="hljs-number">0</span><br>    a_queue = []<br>    b_queue = []<br>    c_queue = []<br>    interrupt_queue = []<br>    ram_queue = []<br></code></pre></td></tr></table></figure><h2 id="æœ€ä¼˜ç½®æ¢ç®—æ³•">æœ€ä¼˜ç½®æ¢ç®—æ³•</h2><p>æœ€ä¼˜æ˜¯æˆ‘æƒ³äº†æœ€ä¹…çš„ï¼Œæ¯•ç«Ÿå…¶ä»–ä¸¤ä¸ªç¡®å®ä¸éš¾ï¼Œè¿™é‡Œä»”ç»†åˆ’åˆ†æ¯ç§æƒ…å†µå°±æ¸…æ™°å¤šäº†ã€‚<br>é¦–å…ˆæ˜¯è™šæ‹Ÿå†…å­˜å½“å‰æ˜¯å¦æ»¡çš„æƒ…å†µï¼Œè¿™é‡Œè¦æ³¨æ„åœ¨è™šæ‹Ÿå†…å­˜æœªæ»¡çš„æ—¶å€™äº§ç”Ÿç¼ºé¡µä¸­æ–­æ˜¯æ’å…¥é˜Ÿå°¾è€Œä¸æ˜¯é˜Ÿå¤´ï¼ˆå°±è¿™ä¸ªOPTæ˜¯è¿™æ ·ï¼‰ï¼Œå…¶å®è™šæ‹Ÿå†…å­˜æœªæ»¡çš„æƒ…å†µä¸‹è¿˜éœ€è¦è€ƒè™‘æ˜¯å¦äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæˆ‘è¿™é‡Œå†™çš„æ˜¯æ²¡æœ‰è€ƒè™‘çš„ã€‚<br>ç„¶åæ˜¯è™šæ‹Ÿå†…å­˜æ»¡äº†åï¼Œäº§ç”Ÿç¼ºé¡µä¸­æ–­å’Œä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­çš„æƒ…å†µã€‚ä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­å°±ä¸éœ€è¦å¯¹è™šæ‹Ÿå†…å­˜è¿›è¡Œæ“ä½œäº†ã€‚<br>äº§ç”Ÿç¼ºé¡µä¸­æ–­åï¼Œæˆ‘é¦–å…ˆæ‰¾å‰©ä¸‹ä¸éœ€è¦å†è°ƒç”¨çš„é¡µé¢ï¼Œè¿™éƒ¨åˆ†é¡µé¢çš„ä¼˜å…ˆçº§æ˜¯æœ€å¤§çš„ï¼Œå½“ç„¶è¿™æ˜¯åœ¨æœ‰pythonåˆ—è¡¨æ–¹æ³•çš„æƒ…å†µä¸‹è¿™ä¹ˆå†™ç®€å•ï¼Œç›´æ¥æ‰¾æœ€è¿Ÿè®¿é—®ä¹Ÿè¡Œã€‚å¦‚æœéƒ½è¿˜è¦è®¿é—®é‚£å°±æ‰¾æœ€è¿Ÿè®¿é—®çš„é¡µé¢ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">opt</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;to do&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> input_queue, a_queue, b_queue, c_queue, interrupt_queue, page_queue, ram_queue<br>    <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(input_queue)):  <span class="hljs-comment"># éå†æ•´ä¸ªåºåˆ—</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">if</span> input_queue[index] <span class="hljs-keyword">in</span> ram_queue:  <span class="hljs-comment"># å½“å‰è™šæ‹Ÿå†…å­˜ä¸­æœ‰è¯¥é¡µï¼Œä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œä¹Ÿä¸éœ€è¦æ”¹å˜è™šæ‹Ÿå†…å­˜ä¸­çš„é¡µè¡¨</span><br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27; &#x27;</span>)  <span class="hljs-comment"># æœªäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27; &#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜æ»¡çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨å¯¹åº”é¡µé¢ç½®æ¢ç®—æ³•ç½®æ¢é¡µé¢</span><br>                find = <span class="hljs-number">0</span><br>                <span class="hljs-keyword">for</span> exchange_index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(ram_queue)):  <span class="hljs-comment"># æ‰¾å‡ºéœ€è¦ç½®æ¢çš„é¡µé¢åœ¨è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—ä¸­çš„ä¸‹æ ‡</span><br>                    <span class="hljs-keyword">if</span> ram_queue[exchange_index] <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> input_queue[index + <span class="hljs-number">1</span>:]:  <span class="hljs-comment"># å¦‚æœåœ¨å‰©ä¸‹çš„åºåˆ—ä¸­éƒ½æ‰¾ä¸åˆ°è¯¥é¡µï¼Œå¯ä»¥ç›´æ¥æ¢å‡ºå»</span><br>                        find = <span class="hljs-number">1</span>  <span class="hljs-comment"># æ ‡è®°æ˜¯å¦æ‰¾åˆ°äº†ç½®æ¢é¡µé¢</span><br>                        exchange_page = ram_queue[exchange_index]<br>                        <span class="hljs-keyword">break</span><br>                <span class="hljs-keyword">if</span> find == <span class="hljs-number">0</span>:  <span class="hljs-comment"># ä¸‰ä¸ªé¡µåœ¨å‰©ä¸‹çš„åºåˆ—ä¸­è¿˜æœ‰è®¿é—®</span><br>                    tmp_queue = input_queue[index + <span class="hljs-number">1</span>:]<br>                    max_index = <span class="hljs-number">0</span><br>                    exchange_page = <span class="hljs-number">0</span><br>                    <span class="hljs-keyword">for</span> tmp_index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(ram_queue)):  <span class="hljs-comment"># æ‰¾å‡ºæœ€è¿Ÿè®¿é—®çš„é¡µ</span><br>                        new_index = tmp_queue.index(ram_queue[tmp_index])<br>                        <span class="hljs-keyword">if</span> max_index &lt; new_index:<br>                            max_index = new_index<br>                            exchange_page = ram_queue[tmp_index]<br>                <span class="hljs-keyword">for</span> tmp_index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(ram_queue)):<br>                    <span class="hljs-keyword">if</span> exchange_page == ram_queue[tmp_index]:  <span class="hljs-comment"># è¿›è¡Œé¡µé¢ç½®æ¢</span><br>                        ram_queue[tmp_index] = input_queue[index]<br>                        <span class="hljs-keyword">break</span><br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(ram_queue) &lt;= <span class="hljs-number">2</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—é•¿åº¦ä¸º0ã€1ã€2çš„æƒ…å†µ</span><br>            ram_queue.append(input_queue[index])<br>            a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>            b_queue.append(ram_queue[<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) &gt;= <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            c_queue.append(ram_queue[<span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>            <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;OPTé¡µé¢ç½®æ¢ç®—æ³•ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&quot;</span>)<br>    print_result()<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><h2 id="å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•">å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•</h2><p>å…¶å®å°±æ˜¯å¾ˆç®€å•çš„é˜Ÿåˆ—æ“ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fifo</span>():<br>    <span class="hljs-keyword">global</span> input_queue, a_queue, b_queue, c_queue, interrupt_queue, page_queue, ram_queue<br>    <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(input_queue)):  <span class="hljs-comment"># éå†æ•´ä¸ªåºåˆ—</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">if</span> input_queue[index] <span class="hljs-keyword">in</span> ram_queue:  <span class="hljs-comment"># å½“å‰è™šæ‹Ÿå†…å­˜ä¸­æœ‰è¯¥é¡µï¼Œä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œä¹Ÿä¸éœ€è¦æ”¹å˜è™šæ‹Ÿå†…å­˜ä¸­çš„é¡µè¡¨</span><br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27; &#x27;</span>)  <span class="hljs-comment"># æœªäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27; &#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜æ»¡çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨å¯¹åº”é¡µé¢ç½®æ¢ç®—æ³•ç½®æ¢é¡µé¢</span><br>                ram_queue.insert(<span class="hljs-number">0</span>, input_queue[index])  <span class="hljs-comment"># é˜Ÿåˆ—å¤´è¿›</span><br>                ram_queue.pop()  <span class="hljs-comment"># é˜Ÿåˆ—å°¾å‡º</span><br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(ram_queue) &lt;= <span class="hljs-number">2</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—é•¿åº¦ä¸º0ã€1ã€2çš„æƒ…å†µ</span><br>            ram_queue.insert(<span class="hljs-number">0</span>, input_queue[index])<br>            a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>            b_queue.append(ram_queue[<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) &gt;= <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            c_queue.append(ram_queue[<span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>            <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;FIFOé¡µé¢ç½®æ¢ç®—æ³•ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&quot;</span>)<br>    print_result()<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><h2 id="æœ€è¿‘æœ€å°‘ç”¨ç½®æ¢ç®—æ³•">æœ€è¿‘æœ€å°‘ç”¨ç½®æ¢ç®—æ³•</h2><p>å…¶å®å’Œé˜Ÿåˆ—ä¹Ÿæ²¡å¤šå¤§å·®ï¼Œè¦æ˜¯å½“å‰é˜Ÿåˆ—æœ‰å¯¹åº”é¡µï¼Œå°±æŠŠè¯¥é¡µå’Œé˜Ÿå¤´é‚£ä¸€é¡µè°ƒæ¢ä½ç½®å°±å¥½äº†ï¼Œäº§ç”Ÿç¼ºé¡µä¸­æ–­æ—¶å€™çš„æ“ä½œå’ŒFIFOæ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">lru</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;to do&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> input_queue, a_queue, b_queue, c_queue, interrupt_queue, page_queue, ram_queue<br>    <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(input_queue)):  <span class="hljs-comment"># éå†æ•´ä¸ªåºåˆ—</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">if</span> input_queue[index] <span class="hljs-keyword">in</span> ram_queue:  <span class="hljs-comment"># å½“å‰è™šæ‹Ÿå†…å­˜ä¸­æœ‰è¯¥é¡µï¼Œä¸äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œä¹Ÿä¸éœ€è¦æ”¹å˜è™šæ‹Ÿå†…å­˜ä¸­çš„é¡µè¡¨</span><br>                ram_queue.remove(input_queue[index])<br>                ram_queue.insert(<span class="hljs-number">0</span>, input_queue[index])<br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27; &#x27;</span>)  <span class="hljs-comment"># æœªäº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27; &#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>            <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜æ»¡çš„æƒ…å†µä¸‹ï¼Œè°ƒç”¨å¯¹åº”é¡µé¢ç½®æ¢ç®—æ³•ç½®æ¢é¡µé¢</span><br>                ram_queue.pop()<br>                ram_queue.insert(<span class="hljs-number">0</span>, input_queue[index])<br>                a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>                b_queue.append(ram_queue[<span class="hljs-number">1</span>])<br>                c_queue.append(ram_queue[<span class="hljs-number">2</span>])<br>                interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(ram_queue) &lt;= <span class="hljs-number">2</span>:  <span class="hljs-comment"># è™šæ‹Ÿå†…å­˜é˜Ÿåˆ—é•¿åº¦ä¸º0ã€1ã€2çš„æƒ…å†µ</span><br>            ram_queue.append(input_queue[index])<br>            a_queue.append(ram_queue[<span class="hljs-number">0</span>])  <span class="hljs-comment"># ä¿å­˜ç”¨äºæ‰“å°çš„ç»“æœ</span><br>            b_queue.append(ram_queue[<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) &gt;= <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            c_queue.append(ram_queue[<span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ram_queue) == <span class="hljs-number">3</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27; &#x27;</span>)<br>            interrupt_queue.append(<span class="hljs-string">&#x27;+&#x27;</span>)  <span class="hljs-comment"># äº§ç”Ÿç¼ºé¡µä¸­æ–­ï¼Œæ‰€ä»¥å¡ä¸ª&#x27;+&#x27;è¿›å»</span><br>            <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># ç»§ç»­ä¸‹æ¬¡å¾ªç¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;LRUé¡µé¢ç½®æ¢ç®—æ³•ç¤ºæ„å›¾å¦‚ä¸‹ï¼š&quot;</span>)<br>    print_result()<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><h2 id="æµ‹è¯•ä»£ç ">æµ‹è¯•ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># åˆå§‹åŒ–é¡µè¡¨ï¼Œä¸€å…±æœ‰å…«é¡µ</span><br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br>    page_queue.append(PageList(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>))<br><br>    input_data()<br></code></pre></td></tr></table></figure><h1>è¿è¡Œç»“æœ</h1><p><s>æ²¡æƒ³åˆ°å§ï¼Œæˆ‘è¿™æ¬¡æ”¾è¿è¡Œç»“æœäº†ï¼</s></p><p><img src="/img/page_store/result_opt.png" alt="æœ€ä¼˜ç½®æ¢"></p><p><img src="/img/page_store/result_fifo.png" alt="å…ˆè¿›å…ˆå‡ºç½®æ¢"></p><p><img src="/img/page_store/result_lru.png" alt="æœ€è¿‘æœ€å°‘ç”¨ç½®æ¢"></p><h1>ä¸€äº›ä¸€äº›ä¸€äº›å…¶ä»–åƒåœ¾è¯</h1><p>å…¶å®æœ¬æ¥æ˜¯æƒ³ä¼˜åŒ–çš„ï¼Œä½†æ˜¯ç”±äºæˆ‘å¤ªæ‡’äº†ï¼ˆäº”ä¸€å‡é‚£èƒ½å«æ‡’å—ï¼‰æ‰€ä»¥è®¡åˆ’å–æ¶ˆäº†ï¼</p><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>æ“ä½œç³»ç»Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå­¦ä¹ ç¬”è®°â€”â€”æµ‹è¯•ä»£ç </title>
    <link href="/2022/04/24/python-learning-3/"/>
    <url>/2022/04/24/python-learning-3/</url>
    
    <content type="html"><![CDATA[<div class="note note-warning">            <p>æœ¬æ–‡ç« å°šæœªæ›´æ–°å®Œæ¯•</p>          </div><h1>å‰è¨€</h1><p>è¦éªŒè¯æˆ‘ä»¬æ‰€ç¼–å†™çš„ä»£ç æ˜¯å¦èƒ½åƒæˆ‘ä»¬æ‰€æƒ³çš„é‚£æ ·å·¥ä½œï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹æˆ‘ä»¬çš„ä»£ç è¿›è¡Œæµ‹è¯•ã€‚<br>ä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒéªŒè¯éƒ½æ¶‰åŠåˆ°æ•°æ®çš„è¾“å…¥ï¼Œè¿™å¯å°±éº»çƒ¦äº†ï¼Œä¸ºäº†æµ‹è¯•æˆ‘ä»¬çš„ä»£ç ï¼Œæ¯è¿è¡Œä¸€æ¬¡éƒ½å¾—è¾“å…¥ä¸€æ¬¡æ•°æ®ï¼Œè¿™æ ·åšå³ä½æ•ˆåˆçƒ¦çã€‚<br>è€Œä¸”ä»¥åæ¯ä¿®æ”¹ä¸€æ¬¡å‡½æ•°/ç±»ï¼Œæˆ‘ä»¬ä¹Ÿè¦åšä¸€æ¬¡è¿™æ ·çš„å·¥ä½œï¼Œæƒ³æƒ³å°±å¤´æ™•ï¼Œä¸æ˜¯å—ï¼Ÿ<br>å¥½åœ¨Pythonæä¾›äº†ä¸€ç§è‡ªåŠ¨æµ‹è¯•å‡½æ•°è¾“å‡ºçš„é«˜æ•ˆæ–¹å¼ï¼šé€šè¿‡unittestæ¨¡æ¿æ¥æµ‹è¯•ä»£ç ã€‚</p><h1>ä»€ä¹ˆäº‹Unittestï¼Ÿ</h1><p>ç®€å•åœ°è¯´ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæä¾›ä¸€ç³»åˆ—ä»£ç æµ‹è¯•å·¥å…·çš„ä¸€ä¸ªæ¨¡å—ã€‚åœ¨<a href="https://docs.python.org/3.9/library/unittest.html?highlight=unittest#module-unittest">å®˜æ–¹æ–‡æ¡£</a>ä¸­æè¿°å¦‚ä¸‹ï¼š</p><blockquote><p>The unittest unit testing framework was originally inspired by JUnit and has a similar flavor as major unit testing frameworks in other languages.<br>It supports test automation, sharing of setup and shutdown code for tests, aggregation of tests into collections, and independence of the tests from the reporting framework.</p><p>To achieve this, unittest supports some important concepts in an object-oriented way:</p><p>test fixture</p><blockquote><p>A test fixture represents the preparation needed to perform one or more tests, and any associated cleanup actions.<br>This may involve, for example, creating temporary or proxy databases, directories, or starting a server process.</p></blockquote><p>test case</p><blockquote><p>A test case is the individual unit of testing. It checks for a specific response to a particular set of inputs.<br>unittest provides a base class, TestCase, which may be used to create new test cases.</p></blockquote><p>test suite</p><blockquote><p>A test suite is a collection of test cases, test suites, or both. It is used to aggregate tests that should be executed together.</p></blockquote><p>test runner</p><blockquote><p>A test runner is a component which orchestrates the execution of tests and provides the outcome to the user.<br>The runner may use a graphical interface, a textual interface, or return a special value to indicate the results of executing the tests.</p></blockquote></blockquote><p>å®˜æ–¹æ–‡æ¡£è®²äº†å››ç§æ¦‚å¿µï¼Œä½†åœ¨è¿™è¾¹ç›®å‰ä»…æ¶‰åŠtest caseï¼Œå³æµ‹è¯•ç”¨ä¾‹ï¼Œè¿™ä¸€æ¦‚å¿µçš„ä½¿ç”¨ã€‚<br>æ­£å¦‚å®˜æ–¹æ–‡æ¡£æ‰€è¯´ï¼Œtest caseæ£€æŸ¥è¾“å…¥ç‰¹å®šçš„æ•°æ®æ—¶çš„å“åº”ã€‚æ­£å› å¦‚æ­¤æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥ç®€åŒ–æˆ‘ä»¬çš„éœ€è¦è¾“å…¥æ•°æ®çš„æµ‹è¯•ã€‚</p><h1>Unittestä¸­çš„æ–­è¨€æ–¹æ³•</h1><p>å› ä¸ºæˆ‘ä»¬éœ€è¦æ£€æŸ¥è¾“å‡ºçš„ç»“æœï¼Œæ‰€ä»¥å°±è¦ç”¨åˆ°<code>unittest</code>ä¸­çš„æ–­è¨€æ–¹æ³•ï¼Œåœ¨è¿™é‡Œæˆ‘åˆ—ä¸¾äº†ä¸€äº›æ–¹æ³•ã€‚</p><h1>å¯¹å‡½æ•°è¿›è¡Œæµ‹è¯•</h1><p>è¦å¯¹å‡½æ•°è¿›è¡Œæµ‹è¯•ï¼Œé¦–å…ˆæˆ‘ä»¬å¾—æœ‰ç”¨äºæµ‹è¯•çš„å‡½æ•°ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥è‡ªè¡Œå®šä¹‰è¦æµ‹è¯•çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨Pythonè‡ªå¸¦çš„å‡½æ•°ï¼Œè¿™é‡Œæˆ‘å…ˆè‡ªè¡Œå®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒç”¨äºå°†ä¸¤æ•°ç›¸åŠ å¹¶è¿”å›è¯¥å€¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>):<br><span class="hljs-keyword">return</span> a + b<br></code></pre></td></tr></table></figure><h2 id="é€šè¿‡çš„æµ‹è¯•">é€šè¿‡çš„æµ‹è¯•</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> unittest<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddTestCase</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two_num_add</span>(<span class="hljs-params">self</span>):<br>        result = add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>        self.assertEqual(result, <span class="hljs-number">3</span>)<br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    unittest.main()<br></code></pre></td></tr></table></figure><p>é¦–å…ˆå¯¼å…¥<code>unittest</code>æ¨¡å—ã€‚<br>ç„¶ååˆ›å»ºäº†ä¸€ä¸ªåä¸º <code>AddTestCase</code> çš„ç±»ï¼Œåå­—æ˜¯å¯ä»¥éšä¾¿å–çš„ï¼Œä½†æ˜¯æœ€å¥½ç®€å•æ˜“æ‡‚ï¼ˆå…¶å®å†™æ³¨é‡Šå°±å¥½å•¦ï¼‰ã€‚è¦è¿›è¡Œæµ‹è¯•ï¼Œè¿™ä¸ªç±»å¿…é¡»ç»§æ‰¿ <code>unittest.TsetCase</code> ç±»ã€‚<br>ç±»é‡Œé¢ç›®å‰åªå†™äº†ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºæµ‹è¯•ä¸¤ä¸ªæ•°ç›¸åŠ çš„æƒ…å†µã€‚åœ¨è¿è¡Œæ—¶ï¼Œæ‰€æœ‰ä»¥test_æ‰“å¤´çš„æ–¹æ³•éƒ½å°†è‡ªåŠ¨è¿è¡Œã€‚<br>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œè°ƒç”¨äº†ä¹‹å‰ç¼–å†™çš„<code>add</code>å‡½æ•°å¹¶å°†å€¼è¿”å›åˆ°<code>result</code>å˜é‡ä¸­ï¼Œç„¶åç”¨<code>unittest</code>ä¸­çš„æ–­è¨€æ–¹æ³•æ¥åˆ¤æ–­å¾—åˆ°çš„ç»“æœæ˜¯å¦ä¸æˆ‘ä»¬é¢„æœŸç»“æœä¸€è‡´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">.<br>----------------------------------------------------------------------<br>Ran <span class="hljs-number">1</span> test <span class="hljs-keyword">in</span> <span class="hljs-number">0.000</span>s<br><br>OK<br></code></pre></td></tr></table></figure><p>ç›´æ¥è¿è¡Œè¿™ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°å¦‚ä¸Šè¾“å‡ºã€‚å¥ç‚¹çš„æ•°é‡ä»£è¡¨äº†é€šè¿‡çš„æµ‹è¯•æ•°ï¼Œåœ¨ä¸Šé¢æˆ‘ä»¬æœ‰ä¸€ä¸ªå¥ç‚¹ï¼Œè¯´æ˜é€šè¿‡äº†ä¸€ä¸ªæµ‹è¯•ã€‚æ¥ä¸‹æ¥çš„ä¸€è¡ŒæŒ‡å‡ºâ€œåœ¨xxxç§’å†…è¿è¡Œäº†xxxä¸ªæµ‹è¯•â€ã€‚æœ€åçš„OKè¡¨ç¤ºè¯¥æµ‹è¯•ç”¨ä¾‹ä¸­çš„æ‰€æœ‰å•å…ƒæµ‹è¯•éƒ½é€šè¿‡äº†ã€‚</p><h2 id="æœªé€šè¿‡çš„æµ‹è¯•">æœªé€šè¿‡çš„æµ‹è¯•</h2><p>å¦‚æœæµ‹è¯•æœªé€šè¿‡ï¼Œæ§åˆ¶å°/ç»ˆç«¯ä¼šè¾“å‡ºä»€ä¹ˆä¿¡æ¯å‘¢ï¼Ÿè¯•ä¸€ä¸‹å°±çŸ¥é“äº†ã€‚è¿™é‡Œæˆ‘æ•…æ„ç¼–å†™äº†ä¸€ä¸ªæ— æ³•é€šè¿‡çš„æµ‹è¯•ï¼Œå°†<strong>3</strong>æ”¹ä¸ºäº†<strong>4</strong>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddTestCase</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two_num_add</span>(<span class="hljs-params">self</span>):<br>        result = add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>        self.assertEqual(result, <span class="hljs-number">4</span>)<br></code></pre></td></tr></table></figure><p>æŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">F<br>======================================================================<br>FAIL: test_two_num_add (__main__.AddTestCase)<br>----------------------------------------------------------------------<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;G:\example1.py&quot;</span>, line <span class="hljs-number">11</span>, <span class="hljs-keyword">in</span> test_two_num_add<br>    self.assertEqual(result, <span class="hljs-number">4</span>)<br>AssertionError: <span class="hljs-number">3</span> != <span class="hljs-number">4</span><br><br>----------------------------------------------------------------------<br>Ran <span class="hljs-number">1</span> test <span class="hljs-keyword">in</span> <span class="hljs-number">0.001</span>s<br><br>FAILED (failures=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>è¿™é‡Œç¬¬ä¸€è¡Œæ˜¾ç¤ºæµ‹è¯•ç”¨ä¾‹ä¸­æœ‰ä¸€ä¸ªå•å…ƒæµ‹è¯•å¤±è´¥ï¼Œæ¥ä¸‹æ¥å‘Šè¯‰ä½ å…·ä½“æ˜¯å“ªä¸ªå•å…ƒæµ‹è¯•ï¼Œç´§æ¥ç€å°±æ˜¯Tracebackâ€”â€”è¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯äº†ã€‚åœ¨æœ€åï¼Œæˆ‘ä»¬è¿˜èƒ½çœ‹åˆ°è¿è¡Œè¯¥æµ‹è¯•ç”¨ä¾‹æ—¶å¤±è´¥äº†å¤šå°‘ä¸ªå•å…ƒæµ‹è¯•ã€‚<br>åœ¨è¿™é‡ŒæŠ¥çš„é”™æ˜¯<strong>F</strong>ï¼Œè¿˜æœ‰ä¸€ç§æŠ¥é”™æ˜¯<strong>E</strong>ï¼Œè¿™é‡Œä¸€å¹¶æ¼”ç¤ºä¸€ä¸‹ï¼šé¦–å…ˆæ”¹ä¸‹æˆ‘ä»¬çš„å‡½æ•°<code>add</code>çš„ä»£ç ï¼Œè®©å®ƒä»ç°åœ¨å¼€å§‹æ¥å—ä¸‰ä¸ªå‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b, c</span>):<br>    <span class="hljs-keyword">return</span> a + b + c<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddTestCase</span>(unittest.TestCase):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_two_num_add</span>(<span class="hljs-params">self</span>):<br>        result = add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>        self.assertEqual(result, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><p>ç„¶åè¿è¡Œï¼Œå¾—åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">E<br>======================================================================<br>ERROR: test_two_num_add (__main__.AddTestCase)<br>----------------------------------------------------------------------<br>Traceback (most recent call last):<br>  File <span class="hljs-string">&quot;G:\example1.py&quot;</span>, line <span class="hljs-number">10</span>, <span class="hljs-keyword">in</span> test_two_num_add<br>    result = add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>TypeError: add() missing <span class="hljs-number">1</span> required positional argument: <span class="hljs-string">&#x27;c&#x27;</span><br><br>----------------------------------------------------------------------<br>Ran <span class="hljs-number">1</span> test <span class="hljs-keyword">in</span> <span class="hljs-number">0.001</span>s<br><br>FAILED (errors=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™é‡Œå‡ºçš„é”™å°±æ˜¯Eï¼Œå³erroräº†ã€‚<br>é€šè¿‡å¯¹æ¯”æˆ‘ä»¬å°±èƒ½çŸ¥é“ï¼ŒEä»£è¡¨ç¨‹åºä»£ç å¼•å‘çš„æµ‹è¯•é”™è¯¯ï¼ŒFä»£è¡¨ç¨‹åºè¾“å‡ºçš„ç»“æœæ²¡æœ‰å¾—åˆ°â€œé¢„æœŸçš„ç»“æœâ€ï¼ˆæ¯•ç«Ÿæ‰€è°“é¢„æœŸçš„ç»“æœä¹Ÿæ˜¯æˆ‘ä»¬è‡ªå·±æ‰€å®šä¹‰çš„ï¼‰ã€‚</p><h1>å¯¹ç±»è¿›è¡Œæµ‹è¯•</h1><p><em><strong>to doâ€¦</strong></em></p><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ“ä½œç³»ç»ŸåŸç†â€”â€”å¯å˜åˆ†åŒºå­˜å‚¨ç®¡ç†</title>
    <link href="/2022/04/20/variable-partition/"/>
    <url>/2022/04/20/variable-partition/</url>
    
    <content type="html"><![CDATA[<h1>åŸç†</h1><p>è¿›è¡Œä¸€ä¸ªå®éªŒæŠ¥å‘Šçš„æŠ„~</p><blockquote><p>å¯å˜åˆ†åŒºæ–¹å¼æ˜¯æŒ‰ä½œä¸šéœ€è¦çš„ä¸»å­˜ç©ºé—´å¤§å°æ¥åˆ†åŒºã€‚<br>å½“è£…å…¥ä¸€ä¸ªä½œä¸šæ—¶ï¼Œé¦–å…ˆè¦æŸ¥çœ‹æ˜¯å¦æœ‰è¶³å¤Ÿçš„ç©ºé—²ç©ºé—´æ¥åˆ†é…ï¼Œè‹¥æœ‰åˆ™æŒ‰æŒ‡å®šçš„åˆ†é…æ–¹å¼è¿›è¡Œåˆ†é…ï¼›å¦åˆ™ä½œä¸šä¸èƒ½è£…å…¥ã€‚</p><blockquote><p>å¯å˜åˆ†åŒºçš„ä¸‰ç§åˆ†é…ç®—æ³•å°±æ˜¯ä¸ºä½œä¸šåˆ†é…ä¸»å­˜ç©ºé—´çš„æ–¹æ³•ã€‚</p><ul><li>æœ€å…ˆé€‚åº”ç®—æ³•ï¼šåœ¨ç©ºé—²åŒºé—´ä¸­æŸ¥è¯¢æ»¡è¶³ä½œä¸šéœ€è¦çš„ç©ºé—´ï¼Œå¹¶å°†ä½œä¸šè£…å…¥ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ç©ºé—´ä¸­å»ã€‚</li><li>æœ€ä½³é€‚åº”ç®—æ³•ï¼šåœ¨ç©ºé—²åŒºé—´ä¸­æŸ¥è¯¢æ»¡è¶³ä½œä¸šéœ€è¦çš„ç©ºé—´ï¼Œå¹¶å°†ä½œä¸šè£…å…¥æ»¡è¶³æ¡ä»¶çš„ç©ºé—²ç©ºé—´ä¸­æœ€å°çš„ä¸€ä¸ªç©ºé—´ä¸­å»ã€‚</li><li>æœ€åé€‚åº”ç®—æ³•ï¼šåœ¨ç©ºé—²åŒºé—´ä¸­æŸ¥è¯¢æ»¡è¶³ä½œä¸šéœ€è¦çš„ç©ºé—´ï¼Œå¹¶å°†ä½œä¸šè£…å…¥æ»¡è¶³æ¡ä»¶çš„ç©ºé—²ç©ºé—´ä¸­æœ€å¤§çš„ä¸€ä¸ªç©ºé—´ä¸­å»ã€‚</li></ul></blockquote><blockquote><p>ä»ä¸‰ç§ç®—æ³•çš„è¯´æ˜å¯ä»¥çœ‹å‡ºï¼Œåˆ†é…ç©ºé—´çš„è¿‡ç¨‹ä¸»è¦å¯ä»¥åˆ†ä¸¤æ­¥ï¼š</p><ol><li>æŸ¥è¯¢æ‰€æœ‰æ»¡è¶³ä½œä¸šéœ€æ±‚çš„ç©ºé—´å—ã€‚</li><li>æŒ‰ç…§æŒ‡å®šçš„ç®—æ³•å°†ä½œä¸šè£…å…¥ç©ºé—´å—ä¸­ã€‚</li></ol></blockquote><blockquote><p>å¯å˜åˆ†åŒºçš„å›æ”¶ç®—æ³•ï¼š</p><ul><li>å›æ”¶åŒºæœ‰ä¸‹é‚»ç©ºé—²åŒº</li><li>å›æ”¶åŒºæœ‰ä¸Šé‚»ç©ºé—²åŒº</li><li>å½’è¿˜åŒºæ—¢æœ‰ä¸Šé‚»ç©ºé—²åŒºåˆæœ‰ä¸‹é‚»ç©ºé—²åŒº</li><li>å½’è¿˜åŒºæ—¢æ— ä¸Šé‚»ç©ºé—²åŒºåˆæœ‰ä¸‹é‚»ç©ºé—²åŒº</li></ul></blockquote></blockquote><h1>å®ç°</h1><h2 id="ç©ºé—²è¡¨å’Œå·²åˆ†é…è¡¨">ç©ºé—²è¡¨å’Œå·²åˆ†é…è¡¨</h2><p>è¿™é‡Œå…¶å®æ ¹æ®æˆ‘çš„ä½œä¸šè¦æ±‚åªèƒ½ç”¨ä¸€ä¸ªå†…å­˜åˆ†åŒºè¡¨ï¼ˆå°±æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼‰æ¥å®ç°çš„ï¼Œä½†æ˜¯æ˜æ˜¾æ˜¯ç”¨ä¸¤ä¸ªè¡¨æ¥è¡¨ç¤ºä¼šæ›´æ–¹ä¾¿ï¼Œè¿™æ ·å°±ä¸éœ€è¦æ ‡å¿—å±æ€§äº†ï¼<s>ï¼ˆå·æ‡’ï¼‰</s><br>æ‰€ä»¥æˆ‘å®šä¹‰äº†ä¸¤ä¸ªå…¨å±€å˜é‡ï¼Œä¸€ä¸ªå­˜ç©ºé—²åˆ†åŒºï¼Œä¸€ä¸ªå­˜å·²åˆ†é…åˆ†åŒºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">free_list = []  <span class="hljs-comment"># ç©ºé—²åˆ—è¡¨</span><br>allocated_list = []  <span class="hljs-comment"># å·²åˆ†é…åˆ—è¡¨</span><br></code></pre></td></tr></table></figure><h2 id="ç©ºé—²ç©ºé—´å’Œå·²åˆ†é…ç©ºé—´">ç©ºé—²ç©ºé—´å’Œå·²åˆ†é…ç©ºé—´</h2><p>è¿™è¾¹ç”¨äº†ä¸¤ä¸ªç±»æ¥è¡¨ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Free</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;ç©ºé—²è¡¨ç±»&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, start, length</span>):<br>        self.start = start  <span class="hljs-comment"># èµ·å€</span><br>        self.length = length    <span class="hljs-comment"># é•¿åº¦</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Allocated</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;å·²åˆ†é…è¡¨ç±»&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, start, length</span>):<br>        self.name = name    <span class="hljs-comment"># ä½œä¸šå</span><br>        self.start = start  <span class="hljs-comment"># èµ·å€</span><br>        self.length = length    <span class="hljs-comment"># é•¿åº¦</span><br></code></pre></td></tr></table></figure><h2 id="è¯»å–ç”¨æˆ·è¾“å…¥">è¯»å–ç”¨æˆ·è¾“å…¥</h2><p>æˆ‘å…ˆä¸æ€¥ç€å®ç°åŠŸèƒ½ï¼Œè€Œæ˜¯å…ˆåšäº†â€œå…·æœ‰äº¤äº’åŠŸèƒ½â€ï¼ˆç¡®ä¿¡ï¼‰çš„å‡½æ•°ï¼Œèƒ½å¤Ÿè®©ç”¨æˆ·æ“ä½œæ•°æ®å’Œè¯»å–æ•°æ®ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">input_data</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;è¯»å–ç”¨æˆ·è¾“å…¥ä»¥åŠæ“ä½œ&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list, allocated_list<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        op = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·é€‰æ‹©è¦è¿›è¡Œçš„æ“ä½œï¼šA åˆ†é…ä¸»å­˜ï¼› B å›æ”¶ä¸»å­˜ï¼› C æ˜¾ç¤ºä¸»å­˜ï¼› Q é€€å‡ºï¼›&quot;</span>)<br>        <span class="hljs-keyword">if</span> op == <span class="hljs-string">&#x27;A&#x27;</span>:<br>            job_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šåï¼š&quot;</span>)<br>            length = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šé•¿åº¦&quot;</span>))<br>            algorithm = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥åˆ†é…ç®—æ³•ï¼šA æœ€å…ˆé€‚åº”ï¼› B æœ€ä¼˜é€‚åº”ï¼› C æœ€åé€‚åº”ï¼›&quot;</span>)<br>            <span class="hljs-keyword">if</span> algorithm == <span class="hljs-string">&#x27;A&#x27;</span>:<br>                allocate(job_name, length, algorithm)<br>            <span class="hljs-keyword">elif</span> algorithm == <span class="hljs-string">&#x27;B&#x27;</span>:<br>                allocate(job_name, length, algorithm)<br>            <span class="hljs-keyword">elif</span> algorithm == <span class="hljs-string">&#x27;C&#x27;</span>:<br>                allocate(job_name, length, algorithm)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ã€‚&quot;</span>)<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;B&#x27;</span>:<br>            recycle_name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥è¦å›æ”¶çš„ä½œä¸šåï¼š&quot;</span>)<br>            recycle(recycle_name)<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;C&#x27;</span>:<br>            display()<br>        <span class="hljs-keyword">elif</span> op == <span class="hljs-string">&#x27;Q&#x27;</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç¨‹åºé€€å‡ºã€‚&quot;</span>)<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ã€‚&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="æ˜¾ç¤ºä¸»å­˜ç©ºé—´">æ˜¾ç¤ºä¸»å­˜ç©ºé—´</h2><p>ä¸ºäº†æ£€æŸ¥å‰é¢å†™çš„ä»£ç æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæ¯”å¦‚åŠŸèƒ½é€‰æ‹©ã€ç©ºé—²å’Œå·²åˆ†é…åˆ—è¡¨ï¼Œæˆ‘å†³å®šå…ˆå®ç°è¿™ä¸ªå‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">display</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;æ‰“å°ä¸¤å¼ è¡¨&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list, allocated_list<br>    free_list_sort(<span class="hljs-string">&#x27;A&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç©ºé—²è¡¨&quot;</span>.center(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;èµ·å€&quot;</span>.center(<span class="hljs-number">10</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">&quot;é•¿åº¦&quot;</span>.center(<span class="hljs-number">10</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">&quot;ç»ˆå€&quot;</span>.center(<span class="hljs-number">10</span>))<br>    <span class="hljs-keyword">for</span> free <span class="hljs-keyword">in</span> free_list:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;free.start&#125;</span>&quot;</span>.center(<span class="hljs-number">11</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;free.length&#125;</span>&quot;</span>.center(<br>            <span class="hljs-number">11</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;free.start + free.length - <span class="hljs-number">1</span>&#125;</span>&quot;</span>.center(<span class="hljs-number">11</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">34</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å·²åˆ†é…è¡¨&quot;</span>.center(<span class="hljs-number">32</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åå­—&quot;</span>.center(<span class="hljs-number">10</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">&quot;èµ·å€&quot;</span>.center(<span class="hljs-number">10</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">&quot;é•¿åº¦&quot;</span>.center(<span class="hljs-number">10</span>))<br>    <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> allocated_list:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;<span class="hljs-subst">&#123;job.name&#125;</span>&quot;</span>.center(<span class="hljs-number">11</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;job.start&#125;</span>&quot;</span>.center(<br>            <span class="hljs-number">11</span>) + <span class="hljs-string">&quot;|&quot;</span> + <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;job.length&#125;</span>&quot;</span>.center(<span class="hljs-number">11</span>))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&quot;</span>.center(<span class="hljs-number">34</span>, <span class="hljs-string">&#x27;-&#x27;</span>))<br></code></pre></td></tr></table></figure><p>(è¯·æ— è§†è¿™ç²—æš´çš„ä»£ç åˆ†è¡Œï¼Œè¿™æ˜¯æˆ‘ç”¨IDEAå¿«æ·æ ¼å¼åŒ–å‡ºæ¥çš„ã€‚ã€‚ã€‚)<br>å¦‚æœä¸æ˜ç™½å…¶ä¸­çš„<code>center</code>æ–¹æ³•çš„è¯ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹åçš„éšç¬”ï¼ˆå†™å®Œåä¼šåœ¨è¿™é‡Œæ”¾è·³è½¬é“¾æ¥ï¼‰ã€‚<br>åœ¨è¿™ä¸ªå‡½æ•°ç¬¬äºŒè¡Œæˆ‘è°ƒç”¨äº†ä¸€ä¸ª<code>free_list_sort</code>å‡½æ•°ï¼Œä½œç”¨å¦‚å…¶åï¼Œç”¨æ¥å¯¹ç©ºé—²åˆ†åŒºåˆ—è¡¨ä¸­çš„ç©ºé—²åˆ†åŒºæ’åºã€‚</p><h2 id="å¯¹ç©ºé—²åˆ†åŒºåˆ—è¡¨è¿›è¡Œæ’åº">å¯¹ç©ºé—²åˆ†åŒºåˆ—è¡¨è¿›è¡Œæ’åº</h2><p>è™½ç„¶çœ‹ä¸Šå»æ˜¯å†™äº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†å…¶å®ç”¨çš„è¿˜æ˜¯pythonè‡ªå¸¦çš„<code>sorted</code>å‡½æ•°è¿›è¡Œçš„æ’åº<s>å› ä¸ºçœŸçš„å¤ªå¥½ç”¨å•¦</s><br>ä¸ºä»€ä¹ˆè¦ç‰¹åœ°å†™è¿™ä¸ªå‡½æ•°ï¼Ÿå› ä¸ºåˆ†é…ä¸»å­˜ç©ºé—´æœ‰ä¸‰ç§ç®—æ³•ï¼Œæœ€å…ˆã€æœ€ä¼˜å’Œæœ€åé€‚åº”ï¼Œè¿™é‡Œæˆ‘å°±å†™äº†ä¸‰ä¸ªæ’åºæ–¹å¼ï¼šæŒ‰ç…§èµ·å€ã€é•¿åº¦å‡åºã€é•¿åº¦é€†åºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">free_list_sort</span>(<span class="hljs-params">method</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;ä¸ºç©ºé—²è¡¨é€‰æ‹©æ’åºæ–¹å¼&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list<br>    <span class="hljs-keyword">if</span> method == <span class="hljs-string">&#x27;A&#x27;</span>:<br>        free_list = <span class="hljs-built_in">sorted</span>(free_list, key=<span class="hljs-keyword">lambda</span> free: free.start)  <span class="hljs-comment"># æŒ‰ç…§èµ·å€æ’åº</span><br>    <span class="hljs-keyword">elif</span> method == <span class="hljs-string">&#x27;B&#x27;</span>:<br>        free_list = <span class="hljs-built_in">sorted</span>(free_list, key=<span class="hljs-keyword">lambda</span> free: free.length)  <span class="hljs-comment"># æŒ‰ç…§é•¿åº¦æ’åº</span><br>    <span class="hljs-keyword">elif</span> method == <span class="hljs-string">&#x27;C&#x27;</span>:<br>        free_list = <span class="hljs-built_in">sorted</span>(free_list, key=<span class="hljs-keyword">lambda</span> free: free.length, reverse=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># æŒ‰ç…§é•¿åº¦æ’é€†åº</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„ç”¨åˆ°çš„<code>sorted</code>å‡½æ•°å’Œ<code>sort</code>æ–¹æ³•ç±»ä¼¼ï¼Œéƒ½æ¥å—ä¸¤ä¸ªä½œç”¨ä¸€æ ·çš„å¯é€‰å‚æ•°keyå’Œreverseï¼Œè¿™ä¸¤ä¸ªå‚æ•°æœ‰ä»€ä¹ˆç”¨å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://map1e-g.github.io/2022/04/17/python-essay-1/">ç‚¹æˆ‘è·³è½¬</a><br>è€Œlambdaè¡¨è¾¾å¼å°±æ˜¯ä¸€ä¸ªå•è¡¨è¾¾å¼å‡½æ•°ï¼Œä¹Ÿå¯ä»¥å½“æˆåŒ¿åå‡½æ•°ã€‚åœ¨å¯¹å¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ’åºçš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç”¨lambdaè¡¨è¾¾å¼å®šä¹‰ç®€çŸ­çš„keyå‡½æ•°ã€‚å…³äºlambdaè¡¨è¾¾å¼å¯èƒ½ä¹‹åä¼šå†™åœ¨éšç¬”æˆ–è€…å­¦ä¹ ç¬”è®°é‡Œã€‚</p><h2 id="åˆ†é…ä¸»å­˜">åˆ†é…ä¸»å­˜</h2><p>è™½ç„¶æœ‰ä¸‰ç§ç®—æ³•ï¼Œä½†æ˜¯ç”±äºæˆ‘çš„ç©ºé—²åˆ†åŒºå’Œå·²åˆ†é…åˆ†åŒºæ˜¯åˆ†å¼€çš„ï¼Œæ‰€ä»¥ä¸åŒçš„åœ°æ–¹åªæœ‰æ’åºä¸Šï¼Œå‰©ä¸‹çš„æ‰¾ç©ºé—²åˆ†åŒºå¹¶å®‰æ’çš„æ“ä½œæ˜¯ä¸€æ ·çš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">allocate</span>(<span class="hljs-params">name, length, method</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;åˆ†é…ä¸»å­˜ç©ºé—´&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list, allocated_list<br>    free_list_sort(method)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(free_list)):<br>        <span class="hljs-comment"># æ‰¾åˆ°å¯è¿›è¡Œåˆ†é…çš„ç©ºé—´</span><br>        <span class="hljs-keyword">if</span> free_list[i].length &gt;= length:<br>            allocated_list.append(Allocated(name, free_list[i].start, length))<br>            allocated_list = <span class="hljs-built_in">sorted</span>(allocated_list, key=<span class="hljs-keyword">lambda</span> job: job.start)<br>            <span class="hljs-keyword">if</span> free_list[i].length == length:<br>                <span class="hljs-keyword">del</span> free_list[i]<br>            <span class="hljs-keyword">else</span>:<br>                free_list[i].start = free_list[i].start + length<br>                free_list[i].length = free_list[i].length - length<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ†é…æˆåŠŸï¼&quot;</span>)<br>            <span class="hljs-keyword">return</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ†é…å¤±è´¥ï¼&quot;</span>)<br></code></pre></td></tr></table></figure><p>åœ¨æ‰¾ç©ºé—²åˆ†åŒºå‰ï¼Œæˆ‘ä»¬å…ˆæŒ‰ç…§ç»™å®šçš„ç®—æ³•å¯¹ç©ºé—²åˆ†åŒºåˆ—è¡¨è¿›è¡Œæ’åºï¼Œç„¶åå†å»éå†è¿™ä¸ªåˆ—è¡¨ï¼Œå°è¯•æ‰¾åˆ°åˆé€‚çš„åˆ†åŒºå¹¶å¯¹ä½œä¸šè¿›è¡Œåˆ†é…ã€‚<br>è¿™é‡Œæœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯ä½œä¸šé•¿åº¦åˆšå¥½ç­‰äºæ‰¾åˆ°çš„ç©ºé—²åˆ†åŒºé•¿åº¦ï¼Œè¿™æ—¶å€™ç›´æ¥åˆ é™¤æ‰å¯¹åº”çš„ç©ºé—²åˆ†åŒºå³å¯ï¼›è‹¥ä½œä¸šé•¿åº¦å°äºç©ºé—²åˆ†åŒºçš„é•¿åº¦ï¼Œè¿™ä¸ªç©ºé—²åˆ†åŒºå°±åº”è¯¥é‡æ–°è®¡ç®—èµ·å€å’Œé•¿åº¦ã€‚</p><h2 id="å›æ”¶ä¸»å­˜">å›æ”¶ä¸»å­˜</h2><p>è¿™éƒ¨åˆ†å…¶å®æ¶‰åŠåˆ°ä¸¤ä¸ªä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯å›æ”¶ï¼Œä¸€ä¸ªæ˜¯åˆå¹¶ã€‚<br>å…ˆæ¥çœ‹å›æ”¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">recycle</span>(<span class="hljs-params">name</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;å›æ”¶ç©ºé—´&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list, allocated_list<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(allocated_list)):<br>        <span class="hljs-comment"># æ£€æŸ¥å·²åˆ†é…è¡¨ä¸­æ˜¯å¦æœ‰è¯¥ä½œä¸š</span><br>        <span class="hljs-keyword">if</span> allocated_list[i].name == name:<br>            free_list.append(Free(allocated_list[i].start, allocated_list[i].length))<br>            free_list_sort(<span class="hljs-string">&#x27;A&#x27;</span>)<br>            <span class="hljs-keyword">for</span> index <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(free_list)):<br>                <span class="hljs-comment"># æ‰¾å‡ºæ–°åŠ å…¥çš„ç©ºé—²è¡¨çš„ç´¢å¼•å¹¶è°ƒç”¨mergeå‡½æ•°è¿›è¡Œåˆå¹¶</span><br>                <span class="hljs-keyword">if</span> free_list[index].start == allocated_list[i].start:<br>                    merge(index)<br>                    <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">del</span> allocated_list[i]<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å›æ”¶æˆåŠŸï¼&quot;</span>)<br>            <span class="hljs-keyword">return</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;å›æ”¶å¤±è´¥ï¼&quot;</span>)<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºéå†ä¸€éå·²åˆ†é…åˆ—è¡¨å°±å¥½å•¦ï¼Œæ‰¾åˆ°å¯¹åº”åå­—çš„ä½œä¸šåï¼Œå…ˆåœ¨ç©ºé—²åˆ†åŒºåˆ—è¡¨ä¸­åŠ å…¥ä¸€ä¸ªæ–°çš„ç©ºé—²åˆ†åŒºï¼Œç„¶åå¯¹è¿™ä¸ªæ–°çš„ç©ºé—²åˆ†åŒºè°ƒç”¨<code>merge</code>å‡½æ•°è¿›è¡Œåˆå¹¶ï¼Œæœ€åä½¿ç”¨<code>del</code>å‡½æ•°åˆ é™¤æ‰è¿™ä¸ªä½œä¸šå³å¯~<br>é‚£ä¹ˆæˆ‘ä»¬å†æ¥çœ‹çœ‹åˆå¹¶å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">index</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;åˆå¹¶ç©ºé—´&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">global</span> free_list<br>    <span class="hljs-keyword">if</span> index == <span class="hljs-number">0</span>:<br>        <span class="hljs-comment"># ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåªéœ€å‘ä¸‹åˆå¹¶</span><br>        <span class="hljs-keyword">if</span> free_list[index].start + free_list[index].length == free_list[index + <span class="hljs-number">1</span>].start:<br>            <span class="hljs-comment"># å½“å‰èµ·å€åŠ ä¸Šé•¿åº¦ç­‰äºä¸‹ä¸ªèµ·å€ï¼Œå¯ä»¥åˆå¹¶</span><br>            free_list[index].length = free_list[index].length + free_list[index + <span class="hljs-number">1</span>].length<br>            <span class="hljs-keyword">del</span> free_list[index + <span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">elif</span> index == <span class="hljs-built_in">len</span>(free_list) - <span class="hljs-number">1</span>:<br>        <span class="hljs-comment"># æœ€åä¸€ä¸ªå…ƒç´ ï¼Œåªéœ€å‘ä¸Šåˆå¹¶</span><br>        <span class="hljs-keyword">if</span> free_list[index - <span class="hljs-number">1</span>].start + free_list[index - <span class="hljs-number">1</span>].length == free_list[index].start:<br>            <span class="hljs-comment"># ä¸Šä¸ªèµ·å€åŠ ä¸Šé•¿åº¦ç­‰äºå½“å‰èµ·å€ï¼Œå¯ä»¥åˆå¹¶</span><br>            free_list[index - <span class="hljs-number">1</span>].length = free_list[index - <span class="hljs-number">1</span>].length + free_list[index].length<br>            <span class="hljs-keyword">del</span> free_list[index]<br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># å‘ä¸Šå‘ä¸‹å‡è¦æ£€æŸ¥</span><br>        <span class="hljs-keyword">if</span> free_list[index].start + free_list[index].length == free_list[index + <span class="hljs-number">1</span>].start:<br>            <span class="hljs-comment"># å½“å‰èµ·å€åŠ ä¸Šé•¿åº¦ç­‰äºä¸‹ä¸ªèµ·å€ï¼Œå¯ä»¥åˆå¹¶</span><br>            free_list[index].length = free_list[index].length + free_list[index + <span class="hljs-number">1</span>].length<br>            <span class="hljs-keyword">del</span> free_list[index + <span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">if</span> free_list[index - <span class="hljs-number">1</span>].start + free_list[index - <span class="hljs-number">1</span>].length == free_list[index].start:<br>            <span class="hljs-comment"># ä¸Šä¸ªèµ·å€åŠ ä¸Šé•¿åº¦ç­‰äºå½“å‰èµ·å€ï¼Œå¯ä»¥åˆå¹¶</span><br>            free_list[index - <span class="hljs-number">1</span>].length = free_list[index - <span class="hljs-number">1</span>].length + free_list[index].length<br>            <span class="hljs-keyword">del</span> free_list[index]<br>        <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><p>ç”±äºæˆ‘ä»¬åœ¨å›æ”¶çš„æ—¶å€™é‡æ–°â€œæ•´ç†â€ï¼ˆæ’åºï¼‰äº†ç©ºé—²åˆ†åŒºåˆ—è¡¨ï¼Œåˆ—è¡¨ä¸­çš„ç©ºé—²åˆ†åŒºç°åœ¨æ˜¯è¿ç»­ï¼ˆæœ‰åºï¼‰çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨ä¸‹æ ‡è¿›è¡Œæ•°æ®å¤„ç†ã€‚<br>ä¸è¿‡åœ¨ä¸Šä¸‹å‡è¦å›æ”¶çš„æ—¶å€™ï¼Œä¸è¦æé”™äº†æ•°ç»„ä¸‹æ ‡ä»¥åŠåˆå¹¶å…ˆåé¡ºåºã€åˆå¹¶çš„åº”è¯¥æ˜¯å“ªä¸ªç©ºé—²åˆ†åŒºã€‚</p><h2 id="æµ‹è¯•ä»£ç ">æµ‹è¯•ä»£ç </h2><p>ä¸ºäº†æ–¹ä¾¿æå‰æä¾›äº†ä¸€ç‚¹æ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># é¢„è¾“å…¥æ•°æ®</span><br>    free_1 = Free(<span class="hljs-number">10</span>, <span class="hljs-number">16</span>)<br>    free_2 = Free(<span class="hljs-number">36</span>, <span class="hljs-number">14</span>)<br>    free_3 = Free(<span class="hljs-number">55</span>, <span class="hljs-number">10</span>)<br>    free_4 = Free(<span class="hljs-number">70</span>, <span class="hljs-number">30</span>)<br>    free_list.append(free_1)<br>    free_list.append(free_2)<br>    free_list.append(free_3)<br>    free_list.append(free_4)<br>    job_1 = Allocated(<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-number">26</span>, <span class="hljs-number">10</span>)<br>    job_2 = Allocated(<span class="hljs-string">&#x27;B&#x27;</span>, <span class="hljs-number">50</span>, <span class="hljs-number">5</span>)<br>    job_3 = Allocated(<span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-number">65</span>, <span class="hljs-number">5</span>)<br>    allocated_list.append(job_1)<br>    allocated_list.append(job_2)<br>    allocated_list.append(job_3)<br>    input_data()<br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆä»£ç éƒ¨åˆ†åˆ°è¿™å°±å ‚å ‚å®Œç»“å•¦</p><h1>è¿è¡Œç»“æœ</h1><p>è¿™éƒ¨åˆ†è¿˜è¯·å¤§å®¶è‡ªè¡ŒéªŒè¯ï¼ˆå› ä¸ºä¸æƒ³æ”¾å›¾â€¦ï¼‰</p><h1>å°¾å£°</h1><h2 id="s-font-size-3-face-Microsoft-YaHei-å°¾å£°å°±æ˜¯æ²¡æœ‰å°¾å£°ã€‚-font-s"><s><font size=3 face='Microsoft YaHei'>å°¾å£°å°±æ˜¯æ²¡æœ‰å°¾å£°ã€‚</font></s></h2>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>æ“ä½œç³»ç»Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå­¦ä¹ ç¬”è®°â€”â€”åˆ—è¡¨ä¸­çš„æ–¹æ³•</title>
    <link href="/2022/04/20/python-learning-2/"/>
    <url>/2022/04/20/python-learning-2/</url>
    
    <content type="html"><![CDATA[<h1>åˆ—è¡¨ä¸­çš„æ–¹æ³•</h1><p>æˆ‘ä»¬å…ˆå®šä¹‰(çº¦å®šå¥½)ä¸€ä¸ªç”¨äºç¤ºä¾‹çš„åˆ—è¡¨ï¼Œä»¥æ–¹ä¾¿åç»­è°ƒç”¨å®ƒã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>,]<br></code></pre></td></tr></table></figure><h2 id="append-e-æ–¹æ³•"><code>append(e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>åœ¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªå…ƒç´  e</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.append(<span class="hljs-number">6</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br></code></pre></td></tr></table></figure><h2 id="clear-æ–¹æ³•"><code>clear()</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>åˆ é™¤æ‰€æœ‰å…ƒç´ </p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.clear()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[]<br></code></pre></td></tr></table></figure><h2 id="copy-æ–¹æ³•"><code>copy()</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>å¯¹åˆ—è¡¨è¿›è¡Œ<strong>æµ…å¤åˆ¶</strong></p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">class</span> <span class="hljs-title class_">stock</span>:<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num</span>):<br><span class="hljs-meta">... </span>        self.num = num<br>        <br><span class="hljs-meta">&gt;&gt;&gt; </span>A = stock(<span class="hljs-number">5</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list = [A]<br><span class="hljs-meta">&gt;&gt;&gt; </span>b_list = a_list.copy()<br><span class="hljs-meta">&gt;&gt;&gt; </span>A.num = <span class="hljs-number">4</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>b_list[<span class="hljs-number">0</span>].num<br><span class="hljs-number">4</span><br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼šè¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªæ¦‚å¿µï¼š<strong>æµ…å¤åˆ¶ï¼ˆæµ…æ‹·è´ï¼‰<strong>å’Œ</strong>æ·±å¤åˆ¶ï¼ˆæ·±æ‹·è´ï¼‰</strong>ã€‚</p><p>â€œ<strong>æµ…å¤åˆ¶</strong>æ˜¯æŒ‡æ„å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¯¹è±¡ï¼Œç„¶åå¡«å……åŸå¯¹è±¡ä¸­å­å¯¹è±¡çš„å¼•ç”¨ã€‚æœ¬è´¨ä¸Šæµ…å¤åˆ¶åªæ‰§è¡Œä¸€å±‚ï¼Œå¤åˆ¶è¿‡ç¨‹ä¸ä¼šé€’å½’ï¼Œå› æ­¤ä¸ä¼šåˆ›å»ºå­å¯¹è±¡çš„å‰¯æœ¬ã€‚<br><strong>æ·±å¤åˆ¶</strong>æ˜¯é€’å½’å¤åˆ¶ï¼Œé¦–å…ˆæ„é€ ä¸€ä¸ªæ–°çš„å®¹å™¨å¯¹è±¡ï¼Œç„¶åé€’å½’åœ°å¡«å……åŸå§‹å¯¹è±¡ä¸­å­å¯¹è±¡çš„å‰¯æœ¬ã€‚â€<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[1]</span></a></sup></p><h2 id="count-e-æ–¹æ³•"><code>count(e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>åˆ—è¡¨ä¸­ e å…ƒç´ å‡ºç°çš„æ¬¡æ•°</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.count(<span class="hljs-number">1</span>)<br><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="extend-it-æ–¹æ³•"><code>extend(it)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>å°†å¯è¿­ä»£å¯¹è±¡ it é‡Œçš„å…ƒç´ æ·»åŠ åˆ°å°¾éƒ¨</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>b_list = [<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.extend(b_list)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><h2 id="index-e-æ–¹æ³•"><code>index(e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>æ‰¾åˆ° e åœ¨åºåˆ—ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.index(<span class="hljs-number">4</span>)<br><span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h2 id="insert-i-e-æ–¹æ³•"><code>insert(i, e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>åœ¨ç´¢å¼• i å¤„æ·»åŠ ç©ºé—´ï¼Œå¹¶å°† e å…ƒç´ æ’å…¥åˆ°è¿™ä¸ªåœ°æ–¹</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.insert(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure><h2 id="pop-i-æ–¹æ³•"><code>pop([i])</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>åˆ é™¤ç´¢å¼• i ä½ç½®çš„å€¼å¹¶<strong>è¿”å›</strong>è¿™ä¸ªå€¼ï¼Œi çš„é»˜è®¤å€¼ä¸ºæœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.pop(<span class="hljs-number">0</span>)<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.pop()<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><h2 id="remove-e-æ–¹æ³•"><code>remove(e)</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>åˆ é™¤åˆ—è¡¨é‡Œç¬¬ä¸€æ¬¡å‡ºç°çš„ e å…ƒç´ </p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.remove(<span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure><h2 id="reverse-æ–¹æ³•"><code>reverse()</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>åè½¬åˆ—è¡¨å…ƒç´ çš„æ’åˆ—é¡ºåº</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.reverse()<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><h2 id="sort-key-reverse-æ–¹æ³•"><code>sort([key], [reverse])</code>æ–¹æ³•</h2><div class="note note-info">            <p><strong>æè¿°ï¼š</strong><br>å°±åœ°å¯¹åˆ—è¡¨è¿›è¡Œæ’åºï¼Œreverseé»˜è®¤å€¼ä¸ºFalse</p>          </div>  <p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a_list.sort(reverse = <span class="hljs-literal">True</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_list<br>[<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š<br>å»ºè®®é…åˆ<a href="https://map1e-g.github.io/2022/04/17/python-essay-1/">è¿™ç¯‡éšç¬”</a>é£Ÿç”¨</p><hr><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonéšç¬”-1</title>
    <link href="/2022/04/17/python-essay-1/"/>
    <url>/2022/04/17/python-essay-1/</url>
    
    <content type="html"><![CDATA[<h1>å‰è¨€</h1><p>å…¶å®å°±æ˜¯æƒ³è¡¥å……ä¸‹å¤šé“ç³»ç»Ÿä½œä¸šé‚£ç¯‡æ–‡ç« é‡Œè®²åˆ°çš„ä¸œè¥¿ï¼ˆæŒ‡getMethodå‡½æ•°ï¼‰ï¼Œè¡¥å……ä¸‹ç›¸å…³çŸ¥è¯†æ–¹ä¾¿å„ä½ç†è§£ã€‚</p><h1>æ­£æ–‡</h1><h2 id="å‰ååŒä¸‹åˆ’çº¿æ–¹æ³•">å‰ååŒä¸‹åˆ’çº¿æ–¹æ³•</h2><p>åŒæ—¶å…·æœ‰å‰ååŒä¸‹åˆ’çº¿çš„åç§°åœ¨Pythonä¸­æœ‰ç‰¹æ®Šç”¨é€”ï¼Œæˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„åº”è¯¥å°±æ˜¯<code>__init__</code>äº†ï¼Œæ„é€ å¯¹è±¡å‡½æ•°ã€‚å½“ç„¶å•¦ï¼ŒPythonè¿˜æ˜¯æœ‰éå¸¸å¤šçš„å¯¹è±¡å±æ€§çš„ï¼Œå¦‚æœæƒ³äº†è§£æ›´å¤šå¯¹è±¡å±æ€§ï¼Œå¯ä»¥è°ƒç”¨<code>dir</code>å‡½æ•°ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">dir</span>(<span class="hljs-built_in">max</span>)<br>[<span class="hljs-string">&#x27;__call__&#x27;</span>, <span class="hljs-string">&#x27;__class__&#x27;</span>, <span class="hljs-string">&#x27;__delattr__&#x27;</span>, <span class="hljs-string">&#x27;__dir__&#x27;</span>, <span class="hljs-string">&#x27;__doc__&#x27;</span>, <br><span class="hljs-string">&#x27;__eq__&#x27;</span>, <span class="hljs-string">&#x27;__format__&#x27;</span>, <span class="hljs-string">&#x27;__ge__&#x27;</span>, <span class="hljs-string">&#x27;__getattribute__&#x27;</span>, <span class="hljs-string">&#x27;__gt__&#x27;</span>, <br><span class="hljs-string">&#x27;__hash__&#x27;</span>, <span class="hljs-string">&#x27;__init__&#x27;</span>, <span class="hljs-string">&#x27;__init_subclass__&#x27;</span>, <span class="hljs-string">&#x27;__le__&#x27;</span>, <span class="hljs-string">&#x27;__lt__&#x27;</span>, <br><span class="hljs-string">&#x27;__module__&#x27;</span>, <span class="hljs-string">&#x27;__name__&#x27;</span>, <span class="hljs-string">&#x27;__ne__&#x27;</span>, <span class="hljs-string">&#x27;__new__&#x27;</span>, <span class="hljs-string">&#x27;__qualname__&#x27;</span>,<br> <span class="hljs-string">&#x27;__reduce__&#x27;</span>, <span class="hljs-string">&#x27;__reduce_ex__&#x27;</span>, <span class="hljs-string">&#x27;__repr__&#x27;</span>, <span class="hljs-string">&#x27;__self__&#x27;</span>, <span class="hljs-string">&#x27;__setattr__&#x27;</span>,<br>  <span class="hljs-string">&#x27;__sizeof__&#x27;</span>, <span class="hljs-string">&#x27;__str__&#x27;</span>, <span class="hljs-string">&#x27;__subclasshook__&#x27;</span>, <span class="hljs-string">&#x27;__text_signature__&#x27;</span>]<br></code></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œæˆ‘ç›´æ¥æŸ¥çœ‹äº†ä¸€ä¸ªå†…ç½®å‡½æ•°<code>max</code>çš„å±æ€§ï¼Œå¯ä»¥çœ‹åˆ°æœ‰éå¸¸å¤šå±æ€§ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¿…å…¨éƒ¨çŸ¥é“ä»–ä»¬éƒ½ç”¨æ¥å¹²å˜›ã€‚<br>ä»”ç»†çœ‹çš„è¯ä¼šå‘ç°ï¼Œ<code>__lt__</code>ä¹Ÿåœ¨é‡Œé¢ï¼Œé‚£ä¹ˆå®ƒåˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å®ƒä»£è¡¨çš„æ˜¯<strong>æ¯”è¾ƒè¿ç®—ç¬¦â€™&lt;'</strong>ã€‚</p><h2 id="sortå‡½æ•°">sortå‡½æ•°</h2><p>å…ˆä¸ŠPythonå®˜æ–¹æ–‡æ¡£<a href="https://docs.python.org/3.9/library/stdtypes.html#list.sort">ç‚¹æˆ‘è·³è½¬</a>ï¼š</p><blockquote><p>sort(*, key=None, reverse=False)</p><blockquote><p>This method sorts the list in place, using only &lt; comparisons between items. Exceptions are not suppressed - if any comparison operations fail, the entire sort operation will fail (and the list will likely be left in a partially modified state).</p></blockquote></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>sort</code>æ–¹æ³•å…¶å®æ˜¯æ ¹æ® &lt; è¿ç®—ç¬¦æ¥è¿›è¡Œæ’åºçš„ï¼Œä¹Ÿå°±æ˜¯å‡åºæ’åºï¼Œå¦‚æœè§‰å¾—æ–‡å­—éš¾ä»¥è¯»æ‡‚ï¼Œä¸å¦¨å†™ç‚¹ä¸œè¥¿è¯•è¯•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>=[<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>.sort()<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">print</span>(<span class="hljs-built_in">list</span>)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿåº”è¯¥è®°ä½ä¸€ç‚¹ï¼Œ<code>sort</code>çš„æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼Œå½“ä¸¤ä¸ªå€¼ç›¸ç­‰çš„æ—¶å€™ï¼Œå³ä½¿æ˜¯æ’åºåå®ƒä»¬çš„ç›¸å¯¹ä½ç½®ä¹Ÿä¸ä¼šå˜ã€‚<br><em><strong>æ‰©å±•</strong></em></p><blockquote><p>ä»ä¸Šé¢æˆ‘ä»¬èƒ½çœ‹åˆ°<code>sort</code>è¿˜æ”¯æŒä¸¤ä¸ªé¢å¤–çš„å‚æ•°ï¼ˆæ³¨æ„æ˜¯keyword-only argumentsï¼Œä¼ å…¥å¿…é¡»åƒè¿™æ ·ï¼š<code>key=xxx, reverse=xxx</code>ï¼‰<br>reverseå¾ˆå¥½ç†è§£ï¼Œä¼ å…¥ä¸€ä¸ªBooleanå€¼ï¼ˆTrue or Falseï¼‰ï¼Œå¦‚æœæ˜¯Trueåˆ™å€’åºæ’åˆ—ï¼Œé»˜è®¤ä¸ºFalseã€‚<br>keyåˆ™ç”¨æ¥äº§ç”Ÿæ’åºç®—æ³•æ‰€ä¾èµ–çš„å¯¹æ¯”å…³é”®å­—ï¼Œæ¯”å¦‚è¯´ï¼Œåœ¨å¯¹ä¸€äº›å­—ç¬¦ä¸²æ’åºæ—¶ï¼Œå¯ä»¥ç”¨<code>key=str.lower</code>æ¥å®ç°å¿½ç•¥å¤§å°å†™çš„æ’åºï¼Œæˆ–è€…ç”¨<code>key=len</code>æ¥å®ç°åŸºäºå­—ç¬¦ä¸²é•¿åº¦çš„æ’åºã€‚</p></blockquote><h1>å°ç»“</h1><p>çœ‹å®Œä¸Šé¢è¿™ç‚¹ï¼Œå†ç»“åˆå‡½æ•°å­¦ä¹ ç¬”è®°é‚£é‡Œçš„ä¸€äº›çŸ¥è¯†ï¼Œå…¶å®å°±åº”è¯¥èƒ½æ¸…æ¥šçŸ¥é“<code>getMethod</code>çš„æœºåˆ¶å’Œä½œç”¨ä»€ä¹ˆçš„äº†ï¼Œä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ ¹æ®å­—ç¬¦ä¸²çš„ä¸åŒè¿”å›ä¸åŒçš„å‡½æ•°å¯¹è±¡ï¼Œç”¨æ¥é‡è½½JCBç±»çš„<code>__lt__</code>å±æ€§ï¼ˆåœ¨Pythonä¸­æ˜¯å¯ä»¥é‡è½½è¿ç®—ç¬¦çš„ï¼‰ï¼Œè¿™æ ·åœ¨ä¹‹åï¼Œæˆ‘ä»¬å¯¹å«æœ‰JCBç±»å¯¹è±¡çš„åˆ—è¡¨ä¸­è°ƒç”¨<code>sort</code>æ–¹æ³•ï¼Œå°±å¯ä»¥æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ’åºæ–¹å¼æ¥æ’åºåˆ—è¡¨äº†ã€‚</p><hr>]]></content>
    
    
    <categories>
      
      <category>Essay</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pythonå­¦ä¹ ç¬”è®°â€”â€”å‡½æ•°</title>
    <link href="/2022/04/14/python-learning-1/"/>
    <url>/2022/04/14/python-learning-1/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>æœ¬æ–‡ç« ç”¨åˆ°çš„è¯­è¨€ï¼šPython</p>          </div><h1>å‡½æ•°ä½œä¸ºå¯¹è±¡</h1><p>åœ¨Pythonä¸­ï¼Œå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠå‡½æ•°åˆ†é…ç»™å˜é‡ã€å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­ã€ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œä¹Ÿèƒ½ä½œä¸ºå…¶ä»–å‡½æ•°çš„è¿”å›å€¼ã€‚<br>åˆæ¬¡çœ‹åˆ°è¿™äº›å†…å®¹çš„æ—¶å€™ï¼Œæˆ‘æ˜¯æŒºæƒŠè®¶è€Œä¸”å‘è‡ªå†…å¿ƒçš„â€œã™ã”ã„ï¼â€å¹¶ä¸”è¿«ä¸åŠå¾…åœ°æƒ³è¦ç†è§£å’ŒæŒæ¡ã€‚<br>æ„Ÿè§‰å†™æ–‡ç« å°±æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„æ–¹å¼ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä¼šå°è¯•ç”¨è‡ªå·±æ‰€ç†è§£åˆ°çš„ä¸œè¥¿æ¥å®Œæˆè¿™ç¯‡æ–‡ç« ã€‚<br>å¦‚æœæœ‰ä»€ä¹ˆé—®é¢˜çš„è¯å¯ä»¥å°è¯•è”ç³»æˆ‘~ <a href="https://map1e-g.github.io/about/">è”ç³»æˆ‘</a></p><h2 id="æ€ä¹ˆç†è§£å‡½æ•°æ˜¯å¯¹è±¡">æ€ä¹ˆç†è§£å‡½æ•°æ˜¯å¯¹è±¡</h2><p>ç°åœ¨æœ‰è¿™æ ·ä¸€ä¸ªä¸œè¥¿ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-keyword">return</span> a + b<br></code></pre></td></tr></table></figure><p>è¿™å°±æ˜¯ä¸€ä¸ªåŠ æ³•å‡½æ•°ï¼Œä¼ å…¥ a å’Œ b çš„å€¼ç„¶åè¿”å›äºŒè€…ç›¸åŠ çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ§åˆ¶å°è°ƒç”¨å®ƒå¾—åˆ°è¿™æ ·ä¸€ä¸ªç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br><span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ç°åœ¨è¿™ä¹ˆåšçš„è¯ï¼ˆå¯ä»¥æ€è€ƒä¸€ä¸‹è¿™æ®µä»£ç åšäº†ä»€ä¹ˆä»¥åŠè¾“å‡ºçš„ç»“æœï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>another_add = add<br><span class="hljs-meta">&gt;&gt;&gt; </span>another_add(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><p>æ²¡é”™ï¼Œè¾“å‡ºçš„ç»“æœå°±æ˜¯<code>5</code><br>æ¥ä¸‹æ¥æˆ‘ä»¬æŠŠåŸæ¥å®šä¹‰çš„<code>add</code>å‡½æ•°ç”¨delåˆ é™¤ï¼Œå†è°ƒç”¨<code>another_add</code>è¯•è¯•çœ‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">del</span> add<br><span class="hljs-meta">&gt;&gt;&gt; </span>add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>NameError: name <span class="hljs-string">&#x27;add&#x27;</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> defined<br><br><span class="hljs-meta">&gt;&gt;&gt; </span>another_add(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><p>ç°åœ¨<code>add</code>ç”¨ä¸äº†äº†ï¼Œä½†æ˜¯<code>another_add</code>è¿˜èƒ½ç”¨ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºå‡½æ•°å¯¹è±¡åŠå…¶åç§°æ˜¯ç›¸äº’ç‹¬ç«‹çš„å®ä½“ï¼š<strong>æŒ‡å‘å‡½æ•°çš„å˜é‡å’Œå‡½æ•°æœ¬èº«å®é™…ä¸Šæ˜¯å½¼æ­¤ç‹¬ç«‹çš„</strong>ã€‚<br>è¿™è¾¹å¯ä»¥äº†è§£ä¸€ä¸‹ä¸‹é¢è¿™äº›ä¸œè¥¿ï¼ˆå¼•ç”¨<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPythonç¼–ç¨‹ ä»å…¥é—¨åˆ°å®è·µï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ [ç¾]åŸƒé‡Œå…‹Â·é©¬ç‘Ÿæ–¯ äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[1]</span></a></sup>ï¼‰ï¼š</p><blockquote><p>å˜é‡æ˜¯æ ‡ç­¾</p><blockquote><p>å˜é‡å¸¸è¢«æè¿°ä¸ºå¯ç”¨äºå­˜å‚¨å€¼çš„ç›’å­ã€‚<br><strong>ä¸€ç§å¥½å¾—å¤šçš„å®šä¹‰æ˜¯ï¼Œå˜é‡æ˜¯å¯ä»¥èµ‹ç»™å€¼çš„æ ‡ç­¾ï¼Œä¹Ÿå¯ä»¥è¯´å˜é‡æŒ‡å‘ç‰¹å®šçš„å€¼ã€‚</strong></p></blockquote></blockquote><p><em><strong>ä»¥ä¸‹æ˜¯æ‰©å±•</strong></em></p><blockquote><p>Pythonåœ¨åˆ›å»ºå‡½æ•°æ—¶éƒ½ä¼šä¸ºæ¯ä¸ªå‡½æ•°é™„åŠ ä¸€ä¸ªç”¨äºè°ƒè¯•çš„å­—ç¬¦ä¸²æ ‡è¯†ç¬¦ï¼Œä½¿ç”¨__name__å±æ€§æ¥è®¿é—®å®ƒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>add.__name__<br><span class="hljs-string">&#x27;add&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>another.__name__<br><span class="hljs-string">&#x27;add&#x27;</span><br></code></pre></td></tr></table></figure><p>PS:å½“ç„¶æ˜¯åœ¨<code>add</code>æ²¡è¢«åˆ é™¤ä¹‹å‰è°ƒç”¨çš„ï¼Œåˆ é™¤åè°ƒç”¨äº†ä¼šæŠ¥é”™ï¼š<code>NameError: name 'add' is not defined</code><br>ç”±äºæ˜¯åœ¨åˆ›å»ºå‡½æ•°çš„æ—¶å€™ç»™å‡ºçš„æ ‡è¯†ç¬¦ï¼Œæ‰€ä»¥å³ä½¿æŠŠè¿™ä¸ªå‡½æ•°åˆ†é…ç»™äº†å¦ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªæ ‡è¯†ç¬¦ä¹Ÿä¸ä¼šå˜</p></blockquote><h2 id="æŠŠå‡½æ•°å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­ï¼">æŠŠå‡½æ•°å­˜å‚¨åœ¨æ•°æ®ç»“æ„ä¸­ï¼</h2><p>ç”±äºå‡½æ•°æ˜¯ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥æŠŠå‡½æ•°ä¹Ÿå­˜å‚¨åœ¨æ•°æ®ç»“æ„å½“ä¸­ï¼Œå¹¶ä¸”è®¿é—®æˆ–ä½¿ç”¨ä»–ä»¬ã€‚<br>æ¯”å¦‚æŠŠä»–ä»¬å¡è¿›åˆ—è¡¨é‡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>funcs = [another_add, <span class="hljs-built_in">max</span>, <span class="hljs-built_in">pow</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>funcs<br>[&lt;function add at <span class="hljs-number">0x0000024777A49E50</span>&gt;, &lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">max</span>&gt;, &lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">pow</span>&gt;]<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> fun <span class="hljs-keyword">in</span> funcs:<br><span class="hljs-meta">... </span>   <span class="hljs-built_in">print</span>(fun, fun(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br>&lt;function add at <span class="hljs-number">0x0000024777A49E50</span>&gt; <span class="hljs-number">5</span><br>&lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">max</span>&gt; <span class="hljs-number">3</span><br>&lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">pow</span>&gt; <span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥æŠŠå®ƒä»¬å¡è¿›å­—å…¸é‡Œï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬å°è¯•è®¿é—®è¿™ä¸ªå­—å…¸ï¼Œç„¶åè¯•ç€éå†è¿™ä¸ªå­—å…¸å¹¶è°ƒç”¨è¿™äº›å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>dic_funcs = &#123;<span class="hljs-string">&#x27;another_add&#x27;</span>:another_add, <span class="hljs-string">&#x27;max&#x27;</span>:<span class="hljs-built_in">max</span>, <span class="hljs-string">&#x27;pow&#x27;</span>:<span class="hljs-built_in">pow</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span>dic_funcs<br>&#123;<span class="hljs-string">&#x27;another_add&#x27;</span>: &lt;function add at <span class="hljs-number">0x0000024777A49E50</span>&gt;, <span class="hljs-string">&#x27;max&#x27;</span>: &lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">max</span>&gt;, <span class="hljs-string">&#x27;pow&#x27;</span>: &lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">pow</span>&gt;&#125;<br><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> fun <span class="hljs-keyword">in</span> dic_funcs.values():<br><span class="hljs-meta">... </span>   <span class="hljs-built_in">print</span>(fun, fun(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>))<br>    <br>&lt;function add at <span class="hljs-number">0x0000024777A49E50</span>&gt; <span class="hljs-number">5</span><br>&lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">max</span>&gt; <span class="hljs-number">3</span><br>&lt;built-<span class="hljs-keyword">in</span> function <span class="hljs-built_in">pow</span>&gt; <span class="hljs-number">8</span><br></code></pre></td></tr></table></figure><p>å¹¶ä¸”ï¼Œåœ¨è¿™äº›æ•°æ®ç»“æ„é‡Œçš„å‡½æ•°å¯¹è±¡éƒ½å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦ç‰¹æ„ä¸ºä»–ä»¬åˆ†é…ä¸€ä¸ªå˜é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>funcs[<span class="hljs-number">0</span>](<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><span class="hljs-number">5</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>dic_funcs[<span class="hljs-string">&#x27;max&#x27;</span>](<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>)<br><span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><p><em><strong>æœ¬å°èŠ‚çš„è¡¥å……</strong></em></p><blockquote><p><code>&lt;built-in function max&gt;</code>æŒ‡å‡º<code>max</code>å‡½æ•°æ˜¯pythonçš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œæ‰€ä»¥ç»™å‡ºçš„ä¸æ˜¯åœ°å€<br><code>max</code>å‡½æ•°ç”¨äºæŸ¥æ‰¾å¯è¿­ä»£çš„æœ€å¤§å€¼ï¼Œå…³äºå¯è¿­ä»£ï¼Œåœ¨ä¹‹åçš„æ–‡ç« å¯èƒ½ä¼šä»‹ç»ï¼ˆä¹Ÿæ˜¯pythonç‰¹æ€§å“¦ï¼‰<br><code>pow(x, y)</code>å‡½æ•°å°±æ˜¯å¹³æ–¹å‡½æ•°äº†ï¼Œå°†xçš„å€¼è¿”å›ä¸ºyçš„å¹‚</p></blockquote><h2 id="å°†å‡½æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°">å°†å‡½æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°</h2><p>ç”±äºå‡½æ•°æ˜¯å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ã€‚<br>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥ç†è§£ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_max_or_min</span>(<span class="hljs-params">fun</span>):<br>value = fun(<span class="hljs-number">10</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>)<br><span class="hljs-built_in">print</span>(value)<br></code></pre></td></tr></table></figure><p><code>get_max_or_min</code>å‡½æ•°è·å–ä¸€ä¸ªå‡½æ•°å‚æ•°ï¼Œå¹¶è°ƒç”¨è¿™ä¸ªå‡½æ•°å¾—åˆ°ä¸€ä¸ªå€¼ï¼Œç„¶åå°†å®ƒæ‰“å°å‡ºæ¥ï¼Œåœ¨è¿™é‡Œå¯ä»¥ç”±å‡½æ•°çš„åç§°çœ‹å‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥å‘å…¶ä¸­ä¼ å…¥<code>max</code>æˆ–<code>min</code>å‡½æ•°<br>è®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>get_max_or_min(<span class="hljs-built_in">max</span>)<br><span class="hljs-number">10</span><br><br><span class="hljs-meta">&gt;&gt;&gt; </span>get_max_or_min(<span class="hljs-built_in">min</span>)<br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°éƒ½è¾“å‡ºäº†æ­£ç¡®çš„ç»“æœ<br>â€œå°†å‡½æ•°å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°çš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå¯ä»¥ç”¨æ¥å°†ç¨‹åºä¸­çš„<strong>è¡Œä¸º</strong>æŠ½è±¡å‡ºæ¥å¹¶ä¼ é€’å‡ºå»ã€‚â€<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[2]</span></a></sup><br><em><strong>æ‰©å±•</strong></em><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[2]</span></a></sup></p><blockquote><p>â€œèƒ½æ¥å—å…¶ä»–å‡½æ•°ä½œä¸ºå‚æ•°çš„å‡½æ•°ç§°ä¸º<strong>é«˜é˜¶å‡½æ•°</strong>ã€‚â€<br>â€œæ¯”å¦‚<code>map</code>å‡½æ•°ï¼Œ<code>map</code>æ¥å—ä¸€ä¸ªå‡½æ•°å¯¹è±¡å’Œä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œç„¶ååœ¨å¯è¿­ä»£å¯¹è±¡ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸Šè°ƒç”¨è¯¥å‡½æ•°æ¥ç”Ÿæˆç»“æœã€‚â€<br>è¿™é‡Œæˆ‘ä»¬è°ƒç”¨æˆ‘ä»¬çš„<code>add</code>å‡½æ•°æ¥çœ‹çœ‹<code>map</code>å‡½æ•°åšäº†ä»€ä¹ˆï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(add, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]))<br>[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>]<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œ<code>map</code>å‡½æ•°éå†äº†æ•´ä¸ªåˆ—è¡¨å¹¶å°†<code>add</code>å‡½æ•°åº”ç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œè€Œä¸”å¾—åˆ°äº†ä¸€ä¸ªæ–°åˆ—è¡¨å¯¹è±¡ï¼Œå­˜å‚¨ä¸¤æ•°ç›¸åŠ åçš„ç»“æœã€‚</p></blockquote><h2 id="åµŒå¥—å‡½æ•°">åµŒå¥—å‡½æ•°</h2><p>åœ¨Pythonä¸­ï¼Œç”šè‡³å¯ä»¥åœ¨å‡½æ•°ä¸­å®šä¹‰å‡½æ•°ï¼Œå°±æ˜¯ä¹‹å‰å†™å¤šé“ç³»ç»Ÿä½œä¸šè°ƒåº¦æ¨¡æ‹Ÿç¨‹åºæåˆ°è¿‡çš„ä¸œè¥¿ï¼ˆ<a href="https://map1e-g.github.io/2022/04/13/multi-JCB/">æˆ³æˆ‘è·³è½¬æ–‡ç« </a>ï¼‰<br>åœ¨è¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç”¨æ¥è®¡ç®—çš„å‡½æ•°ï¼Œæ ¹æ®ä¼ å…¥å­—ç¬¦ä¸²çš„ä¸åŒè¿”å›ä¸åŒçš„ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">cal</span>(<span class="hljs-params">text, x, y</span>):<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a, b</span>):<br><span class="hljs-keyword">return</span> a + b<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">sub</span>(<span class="hljs-params">a, b</span>):<br><span class="hljs-keyword">return</span> a - b<br><span class="hljs-keyword">if</span> text == <span class="hljs-string">&#x27;add&#x27;</span>:<br><span class="hljs-keyword">return</span> add(x, y)<br><span class="hljs-keyword">elif</span> text == <span class="hljs-string">&#x27;sub&#x27;</span>:<br><span class="hljs-keyword">return</span> sub(x, y)<br><span class="hljs-meta">&gt;&gt;&gt; </span>cal(<span class="hljs-string">&#x27;add&#x27;</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>)<br><span class="hljs-number">8</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>cal(<span class="hljs-string">&#x27;sub&#x27;</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>)<br><span class="hljs-number">2</span><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯åµŒå¥—å‡½æ•°çš„ä½œç”¨åŸŸï¼š<strong>ä»…åœ¨åˆ›å»ºå®ƒçš„å‡½æ•°çš„å†…éƒ¨</strong><br>å¦‚æœæˆ‘ä»¬æƒ³åœ¨å‡½æ•°å¤–éƒ¨ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„è¯ï¼Œå¯ä»¥åƒæˆ‘ä¸Šè¾¹æåˆ°çš„é‚£ç¯‡æ–‡ç« ä¸­é‚£æ ·ï¼Œåˆ›å»ºä¸€ä¸ªå˜é‡ï¼Œå¹¶æŠŠåµŒå¥—å‡½æ•°è¿”å›ç»™çˆ¶å‡½æ•°çš„è°ƒç”¨è€…ã€‚<br>åœ¨è¿™é‡Œï¼Œæˆ‘å°±å†™ä¸ªæ ¹æ®ä¼šå‘˜ç­‰çº§åˆ¤æ–­æ‰“æŠ˜åŠ›åº¦çš„å‡½æ•°æ¥ä½œä¸ºä¾‹å­å§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">def</span> <span class="hljs-title function_">discount</span>(<span class="hljs-params">level</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">platinum</span>(<span class="hljs-params">price</span>):<br>        <span class="hljs-keyword">return</span> price*<span class="hljs-number">0.75</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">gold</span>(<span class="hljs-params">price</span>):<br>        <span class="hljs-keyword">return</span> price*<span class="hljs-number">0.8</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sliver</span>(<span class="hljs-params">price</span>):<br>        <span class="hljs-keyword">return</span> price*<span class="hljs-number">0.85</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">copper</span>(<span class="hljs-params">price</span>):<br>        <span class="hljs-keyword">return</span> price*<span class="hljs-number">0.9</span><br>    <span class="hljs-keyword">if</span> level == <span class="hljs-number">4</span>:<br>        <span class="hljs-keyword">return</span> platinum<br>    <span class="hljs-keyword">elif</span> level == <span class="hljs-number">3</span>:<br>        <span class="hljs-keyword">return</span> gold<br>    <span class="hljs-keyword">elif</span> level == <span class="hljs-number">2</span>:<br>        <span class="hljs-keyword">return</span> sliver<br>    <span class="hljs-keyword">elif</span> level == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> copper<br></code></pre></td></tr></table></figure><p>ç„¶åå†æµ‹è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>discount(<span class="hljs-number">3</span>)<br>&lt;function discount.&lt;<span class="hljs-built_in">locals</span>&gt;.gold at <span class="hljs-number">0x000001CF0C9BE3A0</span>&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_customer = discount(<span class="hljs-number">3</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a_customer(<span class="hljs-number">100</span>)<br><span class="hljs-number">80.0</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>discount(<span class="hljs-number">3</span>)(<span class="hljs-number">100</span>)<br><span class="hljs-number">80.0</span><br></code></pre></td></tr></table></figure><p><em>â€œè¿™æ„å‘³ç€å‡½æ•°ä¸ä»…å¯ä»¥é€šè¿‡å‚æ•°<strong>æ¥å—è¡Œä¸º</strong>ï¼Œè¿˜å¯ä»¥<strong>è¿”å›è¡Œä¸º</strong>ã€‚â€</em><sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾">[2]</span></a></sup></p><h2 id="æ—¥åè®¡åˆ’">æ—¥åè®¡åˆ’</h2><p>ä»¥åå­¦åˆ°çš„æœ‰å…³å‡½æ•°è¿™éƒ¨åˆ†çš„å†…å®¹ä¹Ÿä¼šä¸€èµ·åœ¨è¿™é‡Œæ›´æ–°ã€‚</p><hr><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span>ã€ŠPythonç¼–ç¨‹ ä»å…¥é—¨åˆ°å®è·µï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ [ç¾]åŸƒé‡Œå…‹Â·é©¬ç‘Ÿæ–¯ äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾<a href="#fnref:1" rev="footnote" class="footnote-backref"> â†©</a></span></span></li><li><span id="fn:2" class="footnote-text"><span>ã€ŠPython Tricks æ·±å…¥ç†è§£pythonç‰¹æ€§ã€‹ [å¾·]è¾¾æ©Â·å·´å¾·å°” äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾<a href="#fnref:2" rev="footnote" class="footnote-backref"> â†©</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ“ä½œç³»ç»ŸåŸç†â€”â€”å¤šé“ç³»ç»Ÿä½œä¸šè°ƒåº¦</title>
    <link href="/2022/04/13/multi-JCB/"/>
    <url>/2022/04/13/multi-JCB/</url>
    
    <content type="html"><![CDATA[<div class="note note-success">            <p>æœ¬æ–‡ç« ç”¨åˆ°çš„è¯­è¨€ï¼šPython</p>          </div><h1>å‰è¨€</h1><p>å…¶å®ä¸€å‘¨å‰å°±æŠŠç¨‹åºå†™å®Œäº†ï¼Œä½†æ˜¯å› ä¸ºåšå®¢æœ€è¿‘æ‰æ­å¥½ä»¥åŠæœ€è¿‘æ‰å­¦ä¹ äº†ä¸€æ‰‹markdownæ‰€ä»¥ç°åœ¨æ‰å¼€å§‹å†™<s><em>ï¼ˆç»å¯¹ä¸æ˜¯æˆ‘æ‡’ï¼ï¼‰</em></s><br>æ“ä½œç³»ç»Ÿè¯¾ç¨‹çš„ä½œä¸šï¼Œå…¶å®æŒºä¸æƒ³å†™çš„<s>ï¼ˆçœŸçš„ï¼‰</s>ï¼Œæ¯•ç«Ÿæˆ‘æ•°æ®ç»“æ„ä¸ç®—æ³•å­¦å¾—å¾ˆåƒåœ¾wwwï¼Œå°±å½“é¡ºä¾¿å­¦ä¹ pythonå¥½äº†</p><h1>åŸç†</h1><p>è¿™éƒ¨åˆ†ç•¥è¿‡ã€‚ï¼ˆå› ä¸ºçœŸçš„æ²¡ä»€ä¹ˆå¥½å†™çš„ï¼Œä»¥åå†è¡¥å……ä¸€ä¸‹å§ï¼‰</p><blockquote><p>å¤åˆ¶å®éªŒè¯´æ˜ä¸Šçš„åŸè¯ï¼š</p><blockquote><p>ç”±äºåœ¨å¤šé“æ‰¹å¤„ç†ç³»ç»Ÿä¸­ï¼Œä¸€æ‰¹ä½œä¸šæŠ•å…¥è¿è¡Œï¼Œè°ƒåº¦ä½œä¸šæ—¶éœ€è¦æ ¹æ®å½“å‰ç³»ç»Ÿå„ç±»ç©ºé—²èµ„æºçš„æƒ…å†µé€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªä½œä¸šè¿›å…¥å†…å­˜ï¼Œå†æŒ‰ç…§è¿›ç¨‹è°ƒåº¦æ–¹å¼é€‰æ‹©ä¸€ä¸ªä½œä¸šçš„è¿›ç¨‹å ç”¨ CPUã€‚<br>æ¯ä¸ªä½œä¸šç”±ä¸€ä¸ªä½œä¸šæ§åˆ¶å—JCBè¡¨ç¤ºï¼ŒJCBå¯ä»¥åŒ…å«å¦‚ä¸‹ä¿¡æ¯ï¼šä½œä¸šåã€æäº¤æ—¶é—´ã€æ‰€éœ€çš„è¿è¡Œæ—¶é—´ã€æ‰€éœ€çš„èµ„æºã€ä½œä¸šçŠ¶æ€ã€é“¾æŒ‡é’ˆç­‰ç­‰ã€‚<br>ä½œä¸šçš„çŠ¶æ€å¯ä»¥æ˜¯ç­‰å¾…W(Wait)ã€è¿è¡ŒR(Run)å’Œå®ŒæˆF(Finish)ä¸‰ç§çŠ¶æ€ä¹‹ä¸€ã€‚æ¯ä¸ªä½œä¸šçš„æœ€åˆçŠ¶æ€æ€»æ˜¯ç­‰å¾…Wã€‚<br>å„ä¸ªç­‰å¾…çš„ä½œä¸šæŒ‰ç…§æäº¤æ—¶åˆ»çš„å…ˆåæ¬¡åºæ’é˜Ÿï¼Œæ€»æ˜¯é¦–å…ˆè°ƒåº¦ç­‰å¾…é˜Ÿåˆ—ä¸­é˜Ÿé¦–çš„ä½œä¸šã€‚<br>æ¯ä¸ªä½œä¸šå®Œæˆåè¦æ‰“å°è¯¥ä½œä¸šçš„å¼€å§‹è¿è¡Œæ—¶åˆ»ã€å®Œæˆæ—¶åˆ»ã€å‘¨è½¬æ—¶é—´å’Œå¸¦æƒå‘¨è½¬æ—¶é—´ï¼Œè¿™ä¸€ç»„ä½œä¸šå®Œæˆåè¦è®¡ç®—å¹¶æ‰“å°è¿™ç»„ä½œä¸šçš„å¹³å‡å‘¨è½¬æ—¶é—´ã€å¸¦æƒå¹³å‡å‘¨è½¬æ—¶é—´ã€‚</p></blockquote></blockquote><h1>å®ç°</h1><h2 id="æ ¸å¿ƒ">æ ¸å¿ƒ</h2><p>æœ‰ä¸¤éƒ¨åˆ†ï¼Œå…ˆè¯´ç¬¬ä¸€éƒ¨åˆ†ï¼šä½œä¸šæ§åˆ¶å—ï¼ˆJCBï¼‰<br>å…¶å®è¿™é‡Œå­˜çš„ä¸œè¥¿è¿‡å¤šäº†ï¼Œä½†æ˜¯å¥½å¤„å°±æ˜¯æ„æ€éƒ½å¾ˆæ¸…æ™°ï¼Œåé¢è®¡ç®—æ€»æ—¶é—´æˆ–è€…æ‰“å°ä¿¡æ¯ä»€ä¹ˆçš„ä¹Ÿæ–¹ä¾¿</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">JCB</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;ä½œä¸šæ§åˆ¶å—&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, job_name, commit_time, run_time, source</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;åˆå§‹åŒ–ä½œä¸šç¨‹åºå—&quot;&quot;&quot;</span><br>        self.job_name = job_name  <span class="hljs-comment"># ä½œä¸šåå­—</span><br>        self.commit_time = commit_time  <span class="hljs-comment"># ä½œä¸šæäº¤æ—¶é—´</span><br>        self.run_time = run_time  <span class="hljs-comment"># ä½œä¸šæ‰€éœ€æ—¶é—´</span><br>        self.start_time = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå¼€å§‹æ—¶é—´</span><br>        self.finish_time = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå®Œæˆæ—¶é—´</span><br>        self.rr = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå“åº”æ¯”</span><br>        self.status = <span class="hljs-string">&#x27;w&#x27;</span>  <span class="hljs-comment"># ç¨‹åºçŠ¶æ€ï¼Œwä¸ºç­‰å¾…ï¼Œrä¸ºè¿è¡Œï¼Œfä¸ºå®Œæˆ</span><br>        self.ta_time = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå‘¨è½¬æ—¶é—´</span><br>        self.wta_time = <span class="hljs-number">0</span>  <span class="hljs-comment"># ä½œä¸šå¸¦æƒå‘¨è½¬æ—¶é—´</span><br>        self.source = source  <span class="hljs-comment"># ä½œä¸šæ‰€éœ€èµ„æº</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">cul_rr</span>(<span class="hljs-params">self, clock</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;è®¡ç®—ä½œä¸šç›¸åº”æ¯”&quot;&quot;&quot;</span><br>        self.rr = ((clock - self.commit_time) + self.run_time) / self.run_time<br></code></pre></td></tr></table></figure><p>ç„¶åæ˜¯ç¬¬äºŒéƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†ç”¨åˆ°äº†pythonçš„ç‰¹æ€§ï¼šåŒä¸‹åˆ’çº¿æ–¹æ³•ä»¥åŠåµŒå¥—å‡½æ•°ã€è¿”å›å‡½æ•°ç­‰ï¼Œè¿™é‡Œç”¨åˆ°çš„ç‰¹æ€§ä¼šæ”¾åˆ°åé¢è¦å†™çš„ä¸€äº›æ–‡ç« ä¸­æ›´è¯¦ç»†åœ°ä»‹ç»ã€‚<br>å…ˆçœ‹ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">getMethod</span>(<span class="hljs-params">method</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;ä¸åŒç®—æ³•çš„æ’åºæ–¹æ³•&quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">FCFS_lt</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.commit_time &lt; other.commit_time<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">SJF_lt</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.run_time &lt; other.run_time<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">HRRF_lt</span>(<span class="hljs-params">self, other</span>):<br>        <span class="hljs-keyword">return</span> self.rr &gt; other.rr<br><br>    <span class="hljs-keyword">if</span> method == <span class="hljs-string">&#x27;FCFS&#x27;</span>:<br>        <span class="hljs-keyword">return</span> FCFS_lt<br>    <span class="hljs-keyword">elif</span> method == <span class="hljs-string">&#x27;SJF&#x27;</span>:<br>        <span class="hljs-keyword">return</span> SJF_lt<br>    <span class="hljs-keyword">elif</span> method == <span class="hljs-string">&#x27;HRRF&#x27;</span>:<br>        <span class="hljs-keyword">return</span> HRRF_lt<br></code></pre></td></tr></table></figure><p>è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ ¹æ®ä¸åŒçš„å­—ç¬¦ä¸²è¿”å›ä¸åŒçš„æ’åºæ–¹æ³•ï¼Œè¿™é‡Œä¸€å…±ç”¨åˆ°äº†ä¸‰ç§ç®—æ³•ï¼š</p><ul><li>FCFSï¼šå…ˆæ¥å…ˆæœåŠ¡</li><li>SJFï¼šçŸ­ä½œä¸šä¼˜å…ˆ</li><li>HRRFï¼šå“åº”æ¯”æœ€é«˜è€…ä¼˜å…ˆ</li></ul><p>æ¯”å¦‚æˆ‘è¦ç”¨FCFSï¼Œé‚£ä¹ˆå°±ï¼š<code>JCB.__lt__ = getMethod('FCFS')</code>ï¼Œè¿™é‡ŒgetMethodè¿”å›äº†ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå†èµ‹å€¼ç»™äº†JCBç±»çš„<code>__lt__()</code>æ–¹æ³•ï¼Œè¿™æ ·<code>JCB.__lt__()</code>å°±å’Œ<code>FCFS_lt()</code>ä¸€æ ·äº†ï¼ˆ<strong>æˆ‘çœç•¥äº†å‚æ•°order</strong>ï¼‰ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨ä¹‹åçš„æ–‡ç« å†è¯¦ç»†è¯´ï¼Œ<br>ç°åœ¨å¯ä»¥è¿™æ ·ç†è§£ï¼šè¿™ä¹ˆåšé‡è½½äº†JCBç±»çš„é»˜è®¤æ¯”è¾ƒæ–¹æ³•ï¼Œä¸¤ä¸ªJCBä¹‹é—´å¯ä»¥æ¯”å¤§å°äº†ï¼Œæ€ä¹ˆæ¯”å°±çœ‹<code>__lt__()</code>é‡Œäº†ã€‚<br>é‚£ä¹ˆèƒ½æ¯”è¾ƒå¤§å°äº†ï¼Œæ’åºå°±èƒ½æ–¹ä¾¿èµ·æ¥ï¼Œè€Œpythoné‡Œè¾¹æä¾›äº†<code>sort()</code>å‡½æ•°æ¥å¯¹åˆ—è¡¨è¿›è¡Œæ°¸ä¹…æ’åºï¼Œè¿™ä¸ªæ—¶å€™å³ä½¿åˆ—è¡¨é‡Œæ˜¯ä¸€å †JCBå¯¹è±¡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿›è¡Œæ’åºã€‚</p><h2 id="ç®—æ³•éƒ¨åˆ†">ç®—æ³•éƒ¨åˆ†</h2><p>æ³¨é‡Šå†™å¾—ç®—æ¯”è¾ƒæ¸…æ¥šæ‰€ä»¥åœ¨è¿™é‡Œä¸å¤šèµ˜è¿°äº†ï¼Œä»¥åæœ‰ç©ºè¯´ä¸å®šä¼šæ›´æ–°<s>ï¼ˆå®æ‰“å®çš„æ‡’ç‹—ï¼‰</s><br>å…¶å®å†™å¾—ä¸ç®—å¥½å§â€¦è‡ªå·±æ„Ÿè§‰æ˜¯å†™å¤æ‚äº†ï¼ŒæŸäº›åœ°æ–¹å‡­æ„Ÿè§‰å†™äº†ç‚¹ä¸œè¥¿ä¿è¯ä¸å‡ºé”™ï¼Œæ¯”å¦‚é‚£ä¸ªåˆ é™¤é˜Ÿåˆ—ï¼ŒæŒ‰é“ç†æ¥è¯´æœ‰å†™åˆ¤æ–­æ¡ä»¶çš„è¯å°±ä¸ä¼šå‡ºé”™</p><div class="note note-warning">            <p>æ³¨æ„è¿™é‡Œç”¨åˆ°äº†<code>copy.deepcopy()</code>ï¼Œéœ€è¦å¯¼å…¥copyæ¨¡å—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> copy<br></code></pre></td></tr></table></figure>          </div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">simulator</span>(<span class="hljs-params">JCB_queue, method, src</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;ä½œä¸šè°ƒåº¦æ¨¡æ‹Ÿç¨‹åº&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># ç³»ç»Ÿæ—¶é’Ÿå’Œèµ„æºæ•°</span><br>    clock = <span class="hljs-number">0</span><br>    source = src<br>    <span class="hljs-comment"># å¹³å‡å‘¨è½¬æ—¶é—´</span><br>    avg_ta_time = <span class="hljs-number">0</span><br>    <span class="hljs-comment"># å¹³å‡å¸¦æƒå‘¨è½¬æ—¶é—´</span><br>    avg_wta_time = <span class="hljs-number">0</span><br>    <span class="hljs-comment"># æ‹·è´é˜Ÿåˆ—</span><br>    copy_queue = copy.deepcopy(JCB_queue)<br>    <span class="hljs-comment"># é˜Ÿåˆ—é•¿åº¦</span><br>    queue_len = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">len</span>(copy_queue))<br>    <span class="hljs-comment"># åˆ›å»ºæ‰§è¡Œé˜Ÿåˆ—å’Œç­‰å¾…é˜Ÿåˆ—</span><br>    wait_queue = []<br>    run_queue = []<br>    num = <span class="hljs-number">0</span><br>    <span class="hljs-comment"># æ’åº</span><br>    JCB.__lt__ = getMethod(<span class="hljs-string">&#x27;FCFS&#x27;</span>)<br>    copy_queue.sort()<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-comment"># è¿è¡Œé˜Ÿåˆ—ä¸­çš„ä½œä¸šå˜æ›´</span><br>        <span class="hljs-keyword">if</span> run_queue:<br>            <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> run_queue:<br>                <span class="hljs-comment"># æ£€æŸ¥ä½œä¸šæ˜¯å¦å®Œæˆ</span><br>                <span class="hljs-keyword">if</span> job.run_time &lt;= clock - job.start_time <span class="hljs-keyword">and</span> job.status == <span class="hljs-string">&#x27;r&#x27;</span>:<br>                    job.status = <span class="hljs-string">&#x27;f&#x27;</span>  <span class="hljs-comment"># å°†å½“å‰ä½œä¸šçŠ¶æ€è®¾ç½®ä¸ºå®Œæˆ</span><br>                    job.finish_time = clock  <span class="hljs-comment"># ä½œä¸šå®Œæˆï¼ˆç»“æŸï¼‰æ—¶é—´ä¸ºå½“å‰ç³»ç»Ÿæ—¶é—´</span><br>                    job.ta_time = job.finish_time - job.commit_time  <span class="hljs-comment"># ä½œä¸šå‘¨è½¬æ—¶é—´ = ä½œä¸šå®Œæˆæ—¶é—´ - ä½œä¸šæäº¤æ—¶é—´</span><br>                    job.wta_time = job.ta_time / job.run_time  <span class="hljs-comment"># ä½œä¸šå¸¦æƒå‘¨è½¬æ—¶é—´ = ä½œä¸šå‘¨è½¬æ—¶é—´ / ä½œä¸šæ‰€éœ€æ—¶é—´</span><br>                    avg_ta_time = avg_ta_time + job.ta_time<br>                    avg_wta_time = avg_wta_time + job.wta_time<br>                    num = num + <span class="hljs-number">1</span>  <span class="hljs-comment"># ä½œä¸šå®Œæˆæ•°+1</span><br>                    source = source + job.source  <span class="hljs-comment"># å½’è¿˜èµ„æº</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ä½œä¸šåï¼š<span class="hljs-subst">&#123;job.job_name&#125;</span>\t&quot;</span><br>                          <span class="hljs-string">f&quot;ä½œä¸šå¼€å§‹æ—¶é—´ï¼š<span class="hljs-subst">&#123;job.start_time&#125;</span>\t&quot;</span><br>                          <span class="hljs-string">f&quot;ä½œä¸šå®Œæˆæ—¶é—´ï¼š<span class="hljs-subst">&#123;job.finish_time&#125;</span>\t&quot;</span><br>                          <span class="hljs-string">f&quot;ä½œä¸šå‘¨è½¬æ—¶é—´ï¼š<span class="hljs-subst">&#123;job.ta_time&#125;</span>\t&quot;</span><br>                          <span class="hljs-string">f&quot;ä½œä¸šå¸¦æƒå‘¨è½¬æ—¶é—´ï¼š<span class="hljs-subst">&#123;job.wta_time:<span class="hljs-number">.2</span>f&#125;</span>\t&quot;</span>)<br><br>        <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰å¯ä»¥è¿›å…¥ç­‰å¾…ä½œä¸šé˜Ÿåˆ—çš„ä½œä¸š</span><br>        <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> copy_queue:<br>            <span class="hljs-keyword">if</span> job.commit_time &lt;= clock <span class="hljs-keyword">and</span> job.status == <span class="hljs-string">&#x27;w&#x27;</span>:<br>                wait_queue.append(job)<br><br>        <span class="hljs-comment"># ç­‰å¾…é˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œæ£€æŸ¥æ˜¯å¦æœ‰å¯ä»¥è¿›å…¥è¿è¡Œé˜Ÿåˆ—çš„ä½œä¸š</span><br>        <span class="hljs-keyword">if</span> wait_queue:<br>            <span class="hljs-comment"># è®¡ç®—å“åº”æ¯”</span><br>            <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> wait_queue:<br>                job.cul_rr(clock)<br>            JCB.__lt__ = getMethod(method)<br>            wait_queue.sort()<br>            <span class="hljs-comment"># ç”¨äºåˆ é™¤ç­‰å¾…é˜Ÿåˆ—åˆ—è¡¨å…ƒç´ çš„åˆ—è¡¨</span><br>            del_queue = []<br>            <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> wait_queue:<br>                <span class="hljs-keyword">if</span> job.source &lt;= source <span class="hljs-keyword">and</span> job.status == <span class="hljs-string">&#x27;w&#x27;</span>:<br>                    run_queue.append(job)<br>                    del_queue.append(job)<br>                    job.start_time = clock  <span class="hljs-comment"># ä½œä¸šå¼€å§‹æ—¶é—´ä¸ºå½“å‰ç³»ç»Ÿæ—¶é—´</span><br>                    job.status = <span class="hljs-string">&#x27;r&#x27;</span><br>                    source = source - job.source<br>            <span class="hljs-keyword">if</span> del_queue <span class="hljs-keyword">and</span> wait_queue:<br>                <span class="hljs-keyword">for</span> job <span class="hljs-keyword">in</span> del_queue:<br>                    wait_queue.remove(job)<br><br>        <span class="hljs-comment"># è·³å‡ºå¾ªç¯ç”¨</span><br>        <span class="hljs-keyword">if</span> num == queue_len:<br>            <span class="hljs-keyword">break</span><br><br>        <span class="hljs-comment"># ç³»ç»Ÿæ—¶é’Ÿè‡ªå¢</span><br>        clock = clock + <span class="hljs-number">1</span><br>    avg_ta_time = avg_ta_time / queue_len<br>    avg_wta_time = avg_wta_time / queue_len<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å¹³å‡å‘¨è½¬æ—¶é—´ï¼š<span class="hljs-subst">&#123;avg_ta_time:<span class="hljs-number">.2</span>f&#125;</span>\tå¸¦æƒå‘¨è½¬æ—¶é—´ï¼š<span class="hljs-subst">&#123;avg_wta_time:<span class="hljs-number">.2</span>f&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="å…¶ä»–å‡½æ•°">å…¶ä»–å‡½æ•°</h2><p>å…¶å®åªæœ‰ä¸€ä¸ª<code>input()</code>ç”¨æ¥è·å–ç”¨æˆ·è¾“å…¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">inputJCB</span>():<br>    <span class="hljs-string">&quot;&quot;&quot;åˆå§‹åŒ–JCBé˜Ÿåˆ—&quot;&quot;&quot;</span><br>    JCB_queue = []<br>    src = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ç³»ç»Ÿèµ„æºæ•°ï¼š&quot;</span>))<br>    JCB_num = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šæ•°é‡ï¼š&quot;</span>))<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(JCB_num):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;å½“å‰æ˜¯ç¬¬<span class="hljs-subst">&#123;i + <span class="hljs-number">1</span>&#125;</span>ä¸ªä½œä¸šï¼›&quot;</span>)<br>        jn = <span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šåå­—ï¼š&quot;</span>)<br>        ct = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šæäº¤æ—¶é—´ï¼š&quot;</span>))<br>        rt = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šè¿è¡Œæ—¶é—´ï¼š&quot;</span>))<br>        sc = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;è¯·è¾“å…¥ä½œä¸šæ‰€éœ€èµ„æºï¼š&quot;</span>))<br>        new_JCB = JCB(jn, ct, rt, sc)<br>        JCB_queue.append(new_JCB)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;\n&quot;</span>)<br>    <span class="hljs-comment"># æ‰“å°JCBé˜Ÿåˆ—</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(JCB_num):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;ç¬¬<span class="hljs-subst">&#123;i + <span class="hljs-number">1</span>&#125;</span>ä¸ªä½œä¸šåå­—ï¼š<span class="hljs-subst">&#123;JCB_queue[i].job_name&#125;</span>\t&quot;</span><br>              <span class="hljs-string">f&quot;ä½œä¸šæäº¤æ—¶é—´ï¼š<span class="hljs-subst">&#123;JCB_queue[i].commit_time&#125;</span>\t&quot;</span><br>              <span class="hljs-string">f&quot;ä½œä¸šæ‰€éœ€è¿è¡Œæ—¶é—´ï¼š<span class="hljs-subst">&#123;JCB_queue[i].run_time&#125;</span>\t&quot;</span><br>              <span class="hljs-string">f&quot;ä½œä¸šæ‰€éœ€èµ„æºæ•°ï¼š<span class="hljs-subst">&#123;JCB_queue[i].source&#125;</span>&quot;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;FCFSç®—æ³•ï¼š&quot;</span>)<br>    simulator(JCB_queue, <span class="hljs-string">&quot;FCFS&quot;</span>, src)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SJFç®—æ³•ï¼š&quot;</span>)<br>    simulator(JCB_queue, <span class="hljs-string">&quot;SJF&quot;</span>, src)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;HRRFç®—æ³•ï¼š&quot;</span>)<br>    simulator(JCB_queue, <span class="hljs-string">&quot;HRRF&quot;</span>, src)<br></code></pre></td></tr></table></figure><p>pythonæµ‹è¯•ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    inputJCB()<br></code></pre></td></tr></table></figure><h1>è¿è¡Œç»“æœ</h1><p>æš‚æ—¶ä¸è´´ç»“æœï¼Œæ²¡æ‰¾åˆ°ä¸€ä¸ªå¥½äº‘å›¾åº“æ”¾å›¾ï¼Œä¸Šä¼ åˆ°githubä¹Ÿä¸åˆé€‚www<br>éº»çƒ¦å„ä½è‡ªå·±è¿è¡Œä¸€ä¸‹äº†</p><h1>ç»“è¯­</h1><p>æ—¥åè¡¥å……<s>ï¼ˆå…„å•Šä¸€ç¯‡æ–‡ç« ä¸‹æ¥çœç•¥äº†å¤šå°‘å•Šï¼‰</s></p><hr>]]></content>
    
    
    <categories>
      
      <category>Learning Log</category>
      
      <category>æ“ä½œç³»ç»Ÿ</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>æ“ä½œç³»ç»Ÿ</tag>
      
      <tag>æ•°æ®ç»“æ„</tag>
      
      <tag>ç®—æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Test my blog</title>
    <link href="/2022/04/12/Test-my-blog/"/>
    <url>/2022/04/12/Test-my-blog/</url>
    
    <content type="html"><![CDATA[<h1>è¿™æ˜¯ç¬¬ä¸€ç¯‡åšæ–‡ï¼Œç”¨äºæµ‹è¯•ä»¥åŠç»ƒä¹ markdownè¯­æ³•</h1><h2 id="æ‰“ä¸¤ä¸ª-å°±æ˜¯äºŒçº§æ ‡é¢˜">æ‰“ä¸¤ä¸ª##å°±æ˜¯äºŒçº§æ ‡é¢˜</h2><h3 id="Markdownå­—ä½“">Markdownå­—ä½“</h3><p><em>æ–œä½“æ–‡æœ¬ä¸€ä¸ª*</em><br><strong>ç²—ä½“æ–‡æœ¬ä¸¤ä¸ª*</strong><br><em><strong>æ–œç²—ä½“æ–‡æœ¬ä¸‰ä¸ª*</strong></em></p><h3 id="åˆ†éš”çº¿">åˆ†éš”çº¿</h3><hr><h2 id="font-size-3-face-Microsoft-YaHei-ç”¨ä¸‰ä¸ª-æˆ–è€…ä¸‰ä¸ª-æŠŠæ–‡æœ¬å›´èµ·æ¥-ä¸Šé¢ä¸€è¡Œä¸‹é¢ä¸€è¡Œ-font-è™½ç„¶ä½†æ˜¯ä¸ºä»€ä¹ˆåˆ†å‰²çº¿é‡Œçš„æ–‡æœ¬é»˜è®¤æŒºå¤§çš„ï¼ˆæ€è€ƒğŸ¤”ï¼ˆï¼ˆè¿™é‡Œæˆ‘ç”¨-font-size-æ”¹äº†"><font size=3 face='Microsoft YaHei'>ç”¨ä¸‰ä¸ª-æˆ–è€…ä¸‰ä¸ª*æŠŠæ–‡æœ¬å›´èµ·æ¥(ä¸Šé¢ä¸€è¡Œä¸‹é¢ä¸€è¡Œ)</font><br>è™½ç„¶ä½†æ˜¯ä¸ºä»€ä¹ˆåˆ†å‰²çº¿é‡Œçš„æ–‡æœ¬é»˜è®¤æŒºå¤§çš„ï¼ˆæ€è€ƒğŸ¤”ï¼ˆï¼ˆè¿™é‡Œæˆ‘ç”¨&lt;font size&gt;æ”¹äº†</h2><h3 id="åˆ é™¤çº¿">åˆ é™¤çº¿</h3><p>ä¸¤ä¸ªæ³¢æµªçº¿æ‹¬èµ·æ¥å°±èƒ½<s>åˆ é™¤</s>äº†</p><p><s>è¿™æ ·æˆ‘å°±èƒ½ä¹±è¯´è¯ä¹ï¼</s></p><p>ä¸ºä»€ä¹ˆç”¨ç©ºæ ¼ä¸èƒ½æ¢è¡Œå•Šï¼</p><h3 id="ä¸‹åˆ’çº¿">ä¸‹åˆ’çº¿</h3><p><u>ç›´æ¥ç”¨htmlçš„&lt;u&gt;æ ‡ç­¾</u></p><h3 id="è„šæ³¨">è„šæ³¨</h3><p>è¿™é‡Œæœ‰ä¸€ä¸ªè„šæ³¨<a href="%E5%8A%A0VX%E8%AF%B7%E5%90%83KFC%E7%96%AF%E7%8B%82%E6%9C%A8%E6%9B%9C%E6%97%A5%E6%8D%8F">^<s>åˆ«ç‚¹ï¼Œè¦è„¸</s></a></p><h3 id="åˆ—è¡¨">åˆ—è¡¨</h3><ul><li>æ˜Ÿå·+ç©ºæ ¼+å†…å®¹</li><li>æˆ–è€…</li><li>+å·ä¹Ÿè¡Œ</li><li>-å·ä¹Ÿè¡Œ</li><li>æœ‰åºåˆ—è¡¨ç”¨åºå·</li></ul><ol><li>è¿™æ˜¯æœ‰åºåµŒå¥—æ— åºï¼š<ul><li>æˆ‘æ˜¯æ— åº</li></ul></li><li>æˆ‘æ˜¯æœ‰åº</li></ol><h3 id="MarkdownåŒºå—">MarkdownåŒºå—</h3><blockquote><p>ç”¨&gt;åŠ ä¸Šä¸€ä¸ªç©ºæ ¼å†åŠ ä¸Šæ–‡æœ¬å°±å¥½äº†</p><blockquote><p>åŒºå—åµŒå¥—å°±å†™å¤šç‚¹&gt;</p><blockquote><ul><li>åŒºå—é‡Œè¾¹ç”¨åˆ—è¡¨ä¹Ÿè¡Œ</li></ul></blockquote></blockquote></blockquote><ul><li>åè¿‡æ¥åˆ—è¡¨é‡Œç”¨åŒºå—ä¹Ÿè¡Œ<blockquote><p>åœ¨æœ€å‰è¾¹æ‘ä¸ªtabå°±å¥½å•¦</p></blockquote></li></ul><h3 id="Markdown-ä»£ç ">Markdown ä»£ç </h3><p>åœ¨ä¸€è¡Œé‡Œç›´æ¥ç”¨`åŒ…èµ·æ¥å°±å¥½å•¦ -&gt; <code>print()</code>å‡½æ•°<br>ä»£ç å—å°±ç”¨ä¸‰ä¸ª`åŒ…èµ·æ¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@login_required</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">topics</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;æ˜¾ç¤ºæ‰€æœ‰çš„ä¸»é¢˜&quot;&quot;&quot;</span><br>    topics = Topic.objects.order_by(<span class="hljs-string">&#x27;data_added&#x27;</span>)<br>    context = &#123;<span class="hljs-string">&#x27;topics&#x27;</span>: topics&#125;<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;learning_logs/topics.html&#x27;</span>, context)<br></code></pre></td></tr></table></figure><h3 id="Markdown-é“¾æ¥">Markdown é“¾æ¥</h3><p>ä¼‘æ¯ä¸€ä¸‹ï¼Œå¬é¦–æ­Œå§~ <a href="https://www.bilibili.com/video/BV1ty4y1y76V?share_source=copy_web"><s>ç¥å¿…é“¾æ¥</s></a></p><h3 id="Markdown-å›¾ç‰‡">Markdown å›¾ç‰‡</h3><p>å¦‚å›¾ï¼š<br><img src="https://pic1.zhimg.com/v2-e81ff8868ed8bde326ae6074eb8dab40_r.jpg" alt="é‡å…½çº¢èŒ¶"></p><h3 id="Markdown-è¡¨æ ¼">Markdown è¡¨æ ¼</h3><p>ç”¨ | æ¥åˆ†éš”ä¸åŒå•å…ƒæ ¼ï¼Œç”¨ - æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œ</p><table><thead><tr><th style="text-align:left">114</th><th style="text-align:right">514</th><th style="text-align:center">1919810</th></tr></thead><tbody><tr><td style="text-align:left">å“¼</td><td style="text-align:right">å“¼  å•Š</td><td style="text-align:center">å•Šå•Šå•Š</td></tr></tbody></table><h3 id="æ•°å­¦å…¬å¼">æ•°å­¦å…¬å¼</h3><p class="katex-block "><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>=</mo><mi>m</mi><msup><mi>c</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">E=mc^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord mathnormal">m</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><hr><h2 id="å ‚å ‚å®Œç»“">å ‚å ‚å®Œç»“</h2><p>ï¼ˆ<s>å…¶å®æ˜¯æƒ³ä¸ŠåºŠæ‘†çƒ‚äº†</s></p><hr>]]></content>
    
    
    <categories>
      
      <category>Gossip</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ•™ç¨‹</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
